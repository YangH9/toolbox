import{_ as a,r as e,ab as l,ac as t,c as s,a as i,w as u,F as r,i as c,b as n,o as v,g as _,h as o,f as d,n as y,e as b,t as f,d as p,a5 as m,ad as g}from"./index-QK9y-11e.js";import{a as x}from"./config.Dny4K3GL.js";import{d as k}from"./data-all.rwqAulh2.js";import{d as q}from"./data-map-image.D8u1Fr1G.js";const w=a({__name:"driver",setup(a){uni.$sharePageTitle=`驾驶员-${x}`;const w=a=>`/static/web/leitingzhanji/quality/${a}.png`,h=e({list:[{label:"稀有度",value:"rarity"},{label:"星座",value:"star"},{label:"品阶",value:"quality"}],active:"rarity"}),j=e({list:[],active:""}),$=e({list:[],active:""}),C=e({list:[],active:""}),z=e([]),L=e({}),O=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((a=>l().at(-1).route!==a.url.replace(/^\//,""))),F=e(!1),J=t((()=>{const{active:a}=h.value,{active:e}=$.value,{active:l}=j.value,{active:t}=C.value;return z.value.filter((s=>"star"===a?s.star===l:"rarity"===a?s.rarity===e:"quality"!==a||s.quality===t)).sort(((e,l)=>"star"===a?l.quality-e.quality:"rarity"===a?e.star!==l.star?l.star-e.star:l.quality-e.quality:"quality"!==a||l.star-e.star))}));(()=>{const{partData:a,driverOption:e,driverList:l}=JSON.parse(JSON.stringify(k));j.value.list=e.star.map((a=>({label:a.label,value:a.value}))),j.value.active=j.value.list[0].value,$.value.list=e.rarity.map((a=>({label:a.label,value:a.value}))).reverse(),$.value.active=$.value.list[0].value,C.value.list=e.quality.filter(((a,e)=>e)).map((a=>({label:a.label,value:a.value}))).reverse(),C.value.active=C.value.list[0].value,z.value=l.map((l=>{const t=e.star.find((a=>a.value===l.star)),s=e.rarity.find((a=>a.value===l.rarity));return l.combat.map(((i,u)=>{const r=e.quality[u],c=i.at(-1),n=`driver-${t.value}-${r.value}`;return{label:l.title,key:n,level:c.level,combat:c.part,combatTotal:c.part.reduce(((e,l,t)=>e+l*a[t].combat),0),star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:r.value,qualityLabel:r.label,imgkey:r.value?n:`driver-${t.value}`,qualityKey:`quality-${r.value||4}`,description:l.description,skillDescription:l.skillDescription[u]}})).filter(((a,e)=>e))})).flat(1);const{driver:t,quality:s}=JSON.parse(JSON.stringify(q));L.value={...t,...s}})();const N=()=>{F.value=!F.value};return(a,e)=>{const l=n("my-page-header"),t=c,x=p,k=g,q=n("my-ad-custom"),z=n("my-bottom-safety-space");return v(),s(r,null,[i(l),i(t,{class:"pt_4"},{default:u((()=>[i(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:u((()=>[i(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(v(!0),s(r,null,d(h.value.list,((a,e)=>(v(),_(t,{key:e,class:y(["yang-tabs__item",h.value.active===a.value?"active":""]),onClick:e=>h.value.active=a.value},{default:u((()=>[b(f(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"star"===h.value.active?(v(),_(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(v(!0),s(r,null,d(j.value.list,((a,e)=>(v(),_(t,{key:e,class:y(["yang-tabs__item",j.value.active===a.value?"active":""]),onClick:e=>j.value.active=a.value},{default:u((()=>[b(f(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):o("",!0),"rarity"===h.value.active?(v(),_(t,{key:1,class:"yang-nav-tabs evenly px_3 px_0 py_1 border_b"},{default:u((()=>[(v(!0),s(r,null,d($.value.list,((a,e)=>(v(),_(t,{key:e,class:y(["yang-tabs__item",$.value.active===a.value?"active":""]),onClick:e=>$.value.active=a.value},{default:u((()=>[b(f(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):o("",!0),"quality"===h.value.active?(v(),_(t,{key:2,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(v(!0),s(r,null,d(C.value.list,((a,e)=>(v(),_(t,{key:e,class:y(["yang-tabs__item",C.value.active===a.value?"active":""]),onClick:e=>C.value.active=a.value},{default:u((()=>[b(f(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):o("",!0),i(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:u((()=>[(v(!0),s(r,null,d(J.value,((a,e)=>(v(),_(t,{key:e,class:"col_3 d_flex vertical mt_4 px_1"},{default:u((()=>[i(t,{class:"main_picture_box mb_1 mx_auto"},{default:u((()=>{return[i(x,{class:"yang-avatar main_picture",src:(e=a.imgkey,`/static/web/leitingzhanji/driver/${e}.jpg`),mode:"aspectFill"},null,8,["src"]),i(x,{class:"yang-avatar main_picture_border",src:w(a.qualityKey),mode:"aspectFill"},null,8,["src"]),a.isAres?(v(),_(x,{key:0,class:"yang-avatar main_picture_super",src:"/static/web/leitingzhanji/quality/ares.png",mode:"aspectFill"})):o("",!0)];var e})),_:2},1024),i(t,{class:"text_nowrap d_flex content_center"},{default:u((()=>[b(f(a.label),1)])),_:2},1024),F.value?(v(),_(t,{key:0,class:"px_1 text_nowrap"},{default:u((()=>[i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("Lv.")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(a.level),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("战力")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(Math.round(a.combatTotal)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("战机")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(a.combat[0]),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("装甲")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(a.combat[1]),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("副武器")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(a.combat[2]),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[b("僚机")])),_:1}),i(t,{class:""},{default:u((()=>[b(f(a.combat[3]),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):o("",!0)])),_:2},1024)))),128))])),_:1})])),_:1}),i(t,{class:"shadow radius bg-color mx_4 mb_4 px_4 py_2"},{default:u((()=>[(v(!0),s(r,null,d(m(O),((a,e)=>(v(),_(k,{key:e,url:a.url,class:"yang-button primary outline small","hover-class":"hover"},{default:u((()=>[b(f(a.label),1)])),_:2},1032,["url"])))),128))])),_:1}),i(t,{class:"yang-fab yang-button primary circle",onClick:N},{default:u((()=>[i(t,{class:y(`my-icon-${F.value?"browse":"browse-off"} text_xxl`)},null,8,["class"])])),_:1}),i(q,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),i(z,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-f88dd875"]]);export{w as default};
