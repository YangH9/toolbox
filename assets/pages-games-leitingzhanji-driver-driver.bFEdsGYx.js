import{_ as a,r as e,ab as l,ac as t,c as i,a as s,w as r,F as u,i as c,b as n,o as v,g as o,h as _,f as d,n as b,e as y,t as p,d as m,a5 as f,ad as g}from"./index-Br11jtLL.js";import{a as x}from"./config.Dny4K3GL.js";import{d as k}from"./data-all.DxXGs4zG.js";import{d as q}from"./data-map-image.D8u1Fr1G.js";const L=a({__name:"driver",setup(a){uni.$sharePageTitle=`驾驶员-${x}`;const L=a=>`/static/web/leitingzhanji/quality/${a}.png`,h={};k.driverOption.core.forEach((a=>h[a.value]=a.combat));const w=e({list:[{label:"基础",value:"base"},{label:"潜能",value:"potential"},{label:"矩阵核心",value:"core"}],active:"base"}),$=e({list:[{label:"稀有度",value:"rarity"},{label:"星座",value:"star"},{label:"品阶",value:"quality"},{label:"核心等级",value:"coreLevel"}],active:"rarity"}),C=e({list:[],active:""}),j=e({list:[],active:""}),z=e({list:[],active:""}),D=e({list:[],active:""}),M=e([]),O=e({}),T=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((a=>l().at(-1).route!==a.url.replace(/^\//,""))),F=e(!1),J=t((()=>{const{active:a}=w.value,{active:e}=$.value,{active:l}=j.value,{active:t}=C.value,{active:i}=z.value,{active:s}=D.value;return M.value.filter((e=>e.dimension===a)).filter((a=>"star"===e?a.star===t:"rarity"===e?a.rarity===l:"quality"===e?a.quality===i:"coreLevel"!==e||a.coreLevel===s)).sort(((a,l)=>"rarity"===e?a.star!==l.star?l.star-a.star:l.quality!==a.quality?l.quality-a.quality:l.gradation-a.gradation:"star"===e?l.quality!==a.quality?l.quality-a.quality:l.gradation-a.gradation:"quality"===e?l.star!==a.star?l.star-a.star:l.gradation-a.gradation:"coreLevel"!==e||(l.star!==a.star?l.star-a.star:l.gradation-a.gradation)))}));(()=>{const{partData:a,driverOption:e,driverList:l}=JSON.parse(JSON.stringify(k));C.value.list=e.star.map((a=>({label:a.label,value:a.value}))).reverse(),C.value.active=C.value.list[0].value,j.value.list=e.rarity.map((a=>({label:a.label,value:a.value}))).reverse(),j.value.active=j.value.list[0].value,z.value.list=e.quality.filter(((a,e)=>e)).map((a=>({label:a.label,value:a.value}))).reverse(),z.value.active=z.value.list[0].value,D.value.list=e.core.map((a=>({label:a.label,value:a.value}))).reverse(),D.value.active=D.value.list[0].value,M.value=l.map((l=>{const t=e.star.find((a=>a.value===l.star)),i=e.rarity.find((a=>a.value===l.rarity)),s=l.potential.length;return[l.combat.map(((s,r)=>{const u=e.quality[r],c=s.at(-1),n=`driver-${t.value}-${u.value}`;return{label:l.title,key:n,dimension:"base",level:c.level,combat:c.part,combatTotal:c.part.reduce(((e,l,t)=>e+l*a[t].combat),0),star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:u.value,qualityLabel:u.label,imgkey:u.value?n:`driver-${t.value}`,qualityKey:`quality-${u.value||4}`,description:l.description,skillDescription:l.skillDescription[r]}})).filter(((a,e)=>e)),l.potential.map(((r,u)=>{const c=l.combat.length-1,n=e.quality[c],v=`driver-${t.value}-${n.value}`;return{label:l.title,key:v,dimension:"potential",coreLevel:r.coreLevel,combat:r.part,combatTotal:r.part.reduce(((e,l,t)=>e+l*a[t].combat),0),gradation:u+1,gradationLabel:u+1===s?"MAX":`${u+1}/${s}`,star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:n.value,qualityLabel:n.label,imgkey:n.value?v:`driver-${t.value}`,qualityKey:`quality-${n.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})),l.potential.map(((r,u)=>{const c=l.combat.length-1,n=e.quality[c],v=`driver-${t.value}-${n.value}`;return{label:l.stunt,key:v,dimension:"core",coreLevel:r.coreLevel,combat:r.part.map(((a,e)=>a*h[r.coreLevel])),combatTotal:r.part.reduce(((e,l,t)=>e+l*h[r.coreLevel]*a[t].combat),0),gradation:u+1,gradationLabel:u+1===s?"MAX":`${u+1}/${s}`,star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:n.value,qualityLabel:n.label,imgkey:n.value?v:`driver-${t.value}`,qualityKey:`quality-${n.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})).filter((a=>a.coreLevel))]})).flat(2);const{driver:t,quality:i}=JSON.parse(JSON.stringify(q));O.value={...t,...i}})();const K=()=>{F.value=!F.value};return(a,e)=>{const l=n("my-page-header"),t=c,x=m,k=g,q=n("my-ad-custom"),h=n("my-bottom-safety-space");return v(),i(u,null,[s(l),s(t,{class:"pt_4"},{default:r((()=>[s(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:r((()=>[s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:r((()=>[(v(!0),i(u,null,d(w.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",w.value.active===a.value?"active":""]),onClick:e=>w.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:r((()=>[(v(!0),i(u,null,d($.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",$.value.active===a.value?"active":""]),onClick:e=>$.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"star"===$.value.active?(v(),o(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(v(!0),i(u,null,d(C.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",C.value.active===a.value?"active":""]),onClick:e=>C.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):_("",!0),"rarity"===$.value.active?(v(),o(t,{key:1,class:"yang-nav-tabs evenly px_3 px_0 py_1 border_b"},{default:r((()=>[(v(!0),i(u,null,d(j.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",j.value.active===a.value?"active":""]),onClick:e=>j.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):_("",!0),"quality"===$.value.active?(v(),o(t,{key:2,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(v(!0),i(u,null,d(z.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",z.value.active===a.value?"active":""]),onClick:e=>z.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):_("",!0),"coreLevel"===$.value.active?(v(),o(t,{key:3,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(v(!0),i(u,null,d(D.value.list,((a,e)=>(v(),o(t,{key:e,class:b(["yang-tabs__item",D.value.active===a.value?"active":""]),onClick:e=>D.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):_("",!0),s(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:r((()=>[(v(!0),i(u,null,d(J.value,((a,e)=>(v(),o(t,{key:e,class:"col_3 d_flex vertical mt_4 px_1"},{default:r((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:r((()=>{return[s(x,{class:"yang-avatar main_picture",src:(e=a.imgkey,`/static/web/leitingzhanji/driver/${e}.jpg`),mode:"aspectFill"},null,8,["src"]),s(x,{class:"yang-avatar main_picture_border",src:L(a.qualityKey),mode:"aspectFill"},null,8,["src"]),a.isAres?(v(),o(x,{key:0,class:"yang-avatar main_picture_super",src:"/static/web/leitingzhanji/quality/ares.png",mode:"aspectFill"})):_("",!0)];var e})),_:2},1024),s(t,{class:"text_nowrap d_flex content_center"},{default:r((()=>[y(p(a.label)+p(a.gradationLabel),1)])),_:2},1024),F.value?(v(),o(t,{key:0,class:"px_1 text_nowrap"},{default:r((()=>[a.level?(v(),o(t,{key:0,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("Lv.")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(a.level),1)])),_:2},1024)])),_:2},1024)):_("",!0),a.coreLevel?(v(),o(t,{key:1,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("核心等级")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(a.coreLevel),1)])),_:2},1024)])),_:2},1024)):_("",!0),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战力")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combatTotal)),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[0])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("装甲")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[1])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("副武器")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[2])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("僚机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[3])),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):_("",!0)])),_:2},1024)))),128))])),_:1}),J.value.length?_("",!0):(v(),o(t,{key:4,class:"d_flex content_center py_4 my_4"},{default:r((()=>[y("该分类无数据")])),_:1}))])),_:1}),s(t,{class:"shadow radius bg-color mx_4 mb_4 px_4 py_2"},{default:r((()=>[(v(!0),i(u,null,d(f(T),((a,e)=>(v(),o(k,{key:e,url:a.url,class:"yang-button primary outline small","hover-class":"hover"},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["url"])))),128))])),_:1}),s(t,{class:"yang-fab yang-button primary round",onClick:K},{default:r((()=>[s(t,{class:b(`my-icon-${F.value?"browse-off":"browse"} text_xxl mr_2`)},null,8,["class"]),s(t,null,{default:r((()=>[y(p(F.value?"隐藏":"显示")+"战力",1)])),_:1})])),_:1}),s(q,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),s(h,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-a854eccd"]]);export{L as default};
