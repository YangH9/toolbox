import{_ as a,r as e,P as l,m as s,c as t,a as o,w as n,F as r,i as c,b as i,o as d,g as _,e as u,A as m,t as v,p as f,f as p,d as b,v as x,q as g,s as y,x as k,j as h}from"./index-B9OHkEoL.js";const w="app-video-analysis-history-list",C=a({__name:"history",setup(a){uni.$sharePageTitle="解析记录-短视频去水印";const C=e([]);l((()=>{C.value=s(w)??[]}));const q=a=>{h(void 0===a?{url:"/pages/tools/video-watermarking/video-watermarking"}:{url:`/pages/tools/video-watermarking/video-watermarking?index=${a}`})},j=()=>{x({title:"提示",content:"确定清空全部记录吗？",success:a=>{a.confirm&&(C.value=[],g(w,[]),y({title:"清空成功",icon:"none"}))},fail:a=>{}})};return(a,e)=>{const l=i("my-page-header"),s=m,h=c,D=f,E=b,F=i("my-ad-custom"),P=i("my-bottom-safety-space");return d(),t(r,null,[o(l),o(h,{class:"pt_4"},{default:n((()=>[C.value.length?(d(),t(r,{key:0},[o(h,{class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[o(h,{class:"d_flex px_2 py_2 items_center"},{default:n((()=>[o(h,{class:"font_bold grow"},{default:n((()=>[u("共 "),o(s,{class:"text-primary text_base"},{default:n((()=>[u(v(C.value.length),1)])),_:1}),u(" 条")])),_:1}),o(D,{class:"yang-button danger outline small m_0","hover-class":"hover",onClick:j},{default:n((()=>[u("清空全部记录")])),_:1})])),_:1})])),_:1}),o(h,{class:"d_flex vertical reverse"},{default:n((()=>[(d(!0),t(r,null,p(C.value,((a,e)=>(d(),_(h,{key:e,class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[o(h,{class:"d_flex px_2 py_2"},{default:n((()=>{var l,s,t;return[o(E,{class:"cover_image mr_2",mode:"aspectFit",src:null==(t=null==(s=null==(l=a.responseData)?void 0:l.data)?void 0:s.data)?void 0:t.cover,onError:a=>(a=>{C.value[a].failure=1,g(w,C.value)})(e)},null,8,["src","onError"]),o(h,{class:"text_content d_flex vertical content_between"},{default:n((()=>[o(h,{class:"text_ellipsis"},{default:n((()=>{var e,l,s;return[u(v(null==(s=null==(l=null==(e=a.responseData)?void 0:e.data)?void 0:l.data)?void 0:s.desc),1)]})),_:2},1024),o(h,{class:"d_flex"},{default:n((()=>[o(D,{class:"yang-button danger outline small m_0 block mr_2","hover-class":"hover",onClick:a=>(a=>{x({title:"提示",content:"确定删除该记录吗？",success:e=>{e.confirm&&(C.value.splice(a,1),g(w,C.value),y({title:"删除成功",icon:"none"}))},fail:a=>{}})})(e)},{default:n((()=>[u("删除")])),_:2},1032,["onClick"]),o(D,{class:"yang-button info outline small m_0 block mr_2","hover-class":"hover",onClick:e=>(a=>{k({data:a.sharelink})})(a)},{default:n((()=>[u("复制")])),_:2},1032,["onClick"]),o(D,{class:"yang-button primary outline small m_0 block","hover-class":"hover",onClick:a=>q(e)},{default:n((()=>[u("查看")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)]})),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(h,{class:"d_flex content_center mb_4"},{default:n((()=>[u("已经到底了")])),_:1})],64)):(d(),_(h,{key:1,class:"mx_4 my_4 py_4"},{default:n((()=>[o(h,{class:"text_center text_xxl font_bold mb_4"},{default:n((()=>[u("暂无解析记录")])),_:1}),o(D,{class:"yang-button primary outline small block","hover-class":"hover",onClick:e[0]||(e[0]=a=>q())},{default:n((()=>[u("前往解析")])),_:1})])),_:1})),o(F,{mp_weixin:"adunit-4487e043d6b98f83",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),o(P,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-95b77367"]]);export{C as default};
