import{_ as e,r as t,a1 as a,a2 as s,a3 as l,a4 as n,g as c,o as i,w as o,a as u,i as m,e as r,t as d,c as f,F as _,f as v,a5 as y,M as h,E as p,T as k,v as x,a6 as T,N as g,l as b,a7 as M,A as Y,B as I,n as w,a8 as H,h as $,a9 as A,aa as C}from"./index-D-gv67Fc.js";const D=e({__name:"time",props:["time"],setup(e){const h=l(),p=t(0);a((()=>{s().in(h.proxy).select(".time_box").boundingClientRect((e=>{p.value=Math.min(e.width/2,e.height/2)-n(14)})).exec()}));const k=(e,t)=>{const a=6*t*Math.PI/180;return e/Math.max(Math.abs(Math.cos(a)),Math.abs(Math.sin(a)))};return(t,a)=>{const s=m;return i(),c(s,{class:"time_box time d_flex center"},{default:o((()=>[u(s,{class:"num"},{default:o((()=>[r(d(e.time.format("HH")),1)])),_:1}),u(s,{class:"num"},{default:o((()=>[r(":")])),_:1}),u(s,{class:"num"},{default:o((()=>[r(d(e.time.format("mm")),1)])),_:1}),u(s,{class:"second"},{default:o((()=>[(i(),f(_,null,v(60,(t=>u(s,{key:t,class:"item",style:y({"--index":t-1,"--translate":-k(p.value,t-1),opacity:Math.max((60+t-e.time.format("s"))%60,(t-e.time.format("s"))%60)/60})},null,8,["style"]))),64))])),_:1})])),_:1})}}},[["__scopeId","data-v-3d1beb97"]]),j=e({__name:"time1",props:["time"],setup:e=>(t,a)=>{const s=m;return i(),c(s,{class:"time d_flex center"},{default:o((()=>[u(s,{class:"num"},{default:o((()=>[r(d(e.time.format("HH")),1)])),_:1}),u(s,{class:"num colon"},{default:o((()=>[r(":")])),_:1}),u(s,{class:"num"},{default:o((()=>[r(d(e.time.format("mm")),1)])),_:1})])),_:1})}},[["__scopeId","data-v-8c372563"]]),P=e({__name:"time2",props:["time"],setup:e=>(t,a)=>{const s=m,l=h;return i(),c(s,{class:"time d_flex center"},{default:o((()=>[u(s,{class:"num"},{default:o((()=>[r(d(e.time.format("HH")),1)])),_:1}),u(s,{class:"num"},{default:o((()=>[r(":")])),_:1}),u(s,{class:"num minute"},{default:o((()=>[r(d(e.time.format("mm")),1),u(l,{class:"second"},{default:o((()=>[r(d(e.time.format("ss")),1)])),_:1})])),_:1})])),_:1})}},[["__scopeId","data-v-70f5ab24"]]),B=e({__name:"calendar",props:["time"],setup:e=>(t,a)=>{const s=m;return i(),c(s,{class:"calendar d_flex vertical center"},{default:o((()=>[u(s,{class:"month"},{default:o((()=>[r(d(e.time.format("YYYY 年 MM 月")),1)])),_:1}),u(s,{class:"d_flex"},{default:o((()=>[u(s,{class:"date d_flex center"},{default:o((()=>[r(d(e.time.format("D")),1)])),_:1}),u(s,{class:"week d_flex vertical center content_around"},{default:o((()=>[(i(!0),f(_,null,v(e.time.format("dddd").split(""),((e,t)=>(i(),c(s,{key:t},{default:o((()=>[r(d(e),1)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}},[["__scopeId","data-v-810b710a"]]),E=e({__name:"clock",setup(e){var a,s,l,n,r;const d=p("dayjs");uni.$sharePageTitle="时钟-全屏工具";const h=t(d()),E=(null==(a=k)?void 0:a())||(null==(s=x)?void 0:s())||{};let F=null;const N=t(T().length>1),O={"--safe-left":`${(null==(l=E.safeAreaInsets)?void 0:l.left)||10}px`,"--safe-right":`${(null==(n=E.safeAreaInsets)?void 0:n.right)||10}px`,"--safe-top":`${(null==(r=E.safeAreaInsets)?void 0:r.top)||0}px`},R=[{title:"默认时间",key:"time"},{title:"时间一",key:"time1"},{title:"时间二",key:"time2"},{title:"默认日历",key:"calendar"}],q=g({active:{left:"time",right:"calendar"},style:{left:{transform:"translateY(0)"},right:{transform:"translateY(0)"}}});let z=null;const G=t(!1),J=()=>{G.value=!0,clearTimeout(z),z=setTimeout((()=>{G.value=!1}),3e3)};J();const K=()=>{N.value?A():C({url:"/pages/home/home"})},L=t(0),Q=t(0),S=t(""),U=()=>{F&&clearTimeout(F);const e=d();F=setTimeout((()=>{h.value=e,U()}),1e3-e.millisecond())};return b((()=>{U()})),M((()=>{F&&clearTimeout(F)})),Y((()=>{})),I((()=>{clearTimeout(F)})),(e,t)=>{const a=m;return i(),c(a,{class:w(["fullscreen",[H(E).deviceOrientation]]),style:O,onClick:J},{default:o((()=>[u(a,{class:"back",style:y({opacity:G.value?"1":"0"})},{default:o((()=>[N.value?(i(),c(a,{key:0,class:"my-icon my-icon-chevron-left",onClick:K})):(i(),c(a,{key:1,class:"my-icon my-icon-home",onClick:K}))])),_:1},8,["style"]),(i(),f(_,null,v(["left","right"],((e,t)=>u(a,{key:t,class:w(["item",[e,G.value?"shadow":""]]),style:y(q.style[e]),onTouchstart:t=>((e,t)=>{G.value&&(clearTimeout(z),S.value=t,L.value=e.touches[0].clientY,Q.value=Date.now())})(t,e),onTouchmove:t=>((e,t)=>{if(S.value!==t)return;const a=e.changedTouches[0].clientY-L.value;q.style[t]={transform:`translateY(${a}px)`}})(t,e),onTouchend:t=>((e,t)=>{if(S.value!==t)return;S.value="",q.style[t]={transform:"translateY(0)"},J();const a=e.changedTouches[0].clientY,s=Date.now(),l=a-L.value;if(!(s-Q.value<60)&&Math.abs(l)>=50){const e=R.findIndex((e=>e.key===q.active[t]));if(l<0){const a=e+1>=R.length?0:e+1;q.active[t]=R[a].key}else{const a=e-1<0?R.length-1:e-1;q.active[t]=R[a].key}}})(t,e)},{default:o((()=>["time"===q.active[e]?(i(),c(D,{key:0,time:h.value},null,8,["time"])):$("",!0),"time1"===q.active[e]?(i(),c(j,{key:1,time:h.value},null,8,["time"])):$("",!0),"time2"===q.active[e]?(i(),c(P,{key:2,time:h.value},null,8,["time"])):$("",!0),"calendar"===q.active[e]?(i(),c(B,{key:3,time:h.value},null,8,["time"])):$("",!0),u(a,{class:"indicator",style:y({opacity:G.value?"1":"0"})},{default:o((()=>[(i(),f(_,null,v(R,((t,s)=>u(a,{key:s,class:w({active:q.active[e]===t.key})},null,8,["class"]))),64))])),_:2},1032,["style"])])),_:2},1032,["class","style","onTouchstart","onTouchmove","onTouchend"]))),64))])),_:1},8,["class"])}}},[["__scopeId","data-v-2f2b55bc"]]);export{E as default};
