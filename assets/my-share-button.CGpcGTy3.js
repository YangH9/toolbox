import{r as e,aa as a,B as s,C as l,c as t,o as n,a as o,w as i,i as r,p as c,e as u,F as _,x as p,s as m,aq as f}from"./index-Mhsd7K6l.js";import{_ as d}from"./uni-popup.DyCW2OGt.js";const x={__name:"my-share-button",setup(x){const h=e(null),$=[...a()].at(-1).route,b=`${uni.$sharePageTitle}-${uni.$shareBaseTitle},\n微信内点击：#小程序:Yang昜工具箱\n点击查看更多：${uni.$webBaseUrl}${$}`,g=()=>{navigator.share?p({data:b,success:()=>{f(),h.value.open()},fail:()=>{m({title:"复制失败，请检查设备微信权限。",icon:"none"})}}):navigator.share({title:`${uni.$sharePageTitle}-${uni.$shareBaseTitle}`,text:`${uni.$sharePageTitle}，点击查看更多。`,url:`${uni.$webBaseUrl}${$}`})},y=()=>{window.location.href="weixin://"},v=()=>{const e=["mqq://","mqqapi://","mqqwpa://","tencent://"];let a=0;const s=()=>{a<e.length&&(window.location.href=e[a++],setTimeout(s,1e3))};s()},w=()=>{h.value.close()};return(e,a)=>{const p=r,m=c,f=s(l("uni-popup"),d);return n(),t(_,null,[o(m,{class:"yang-button primary circle m_0",onClick:g},{default:i((()=>[o(p,{class:"my-icon-share-1 text_xxl"})])),_:1}),o(f,{ref_key:"popupRef",ref:h},{default:i((()=>[o(p,{class:"bg-color radius"},{default:i((()=>[o(p,{class:"d_flex px_4 py_3 items_center"},{default:i((()=>[o(p,null,{default:i((()=>[u("内容已复制，点击跳转程序。")])),_:1})])),_:1}),o(p,{class:"d_flex px_4 pt_3 pb_1 items_center border_t"},{default:i((()=>[o(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:y},{default:i((()=>[o(p,{class:"my-icon-logo-wechat-stroke-filled text_xxl mr_2"}),u(" 微信 ")])),_:1}),o(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:v},{default:i((()=>[o(p,{class:"my-icon-logo-qq-filled text_xxl mr_2"}),u(" QQ ")])),_:1})])),_:1}),o(p,{class:"d_flex px_4 pb_3 pt_1 items_center"},{default:i((()=>[o(m,{class:"yang-button outline small block","hover-class":"hover",onClick:w},{default:i((()=>[u("取消")])),_:1})])),_:1})])),_:1})])),_:1},512)],64)}}};export{x as _};
