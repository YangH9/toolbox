import{r as e,a6 as a,b as l,c as s,o as t,a as n,w as o,i,m as r,e as c,F as u,y as _,q as m,at as p}from"./index-x4WrRP7j.js";const f={__name:"my-share-button",setup(f){const d=e(null),h=[...a()].at(-1).route,x=`${uni.$sharePageTitle}-${uni.$shareBaseTitle},\n微信内点击：#小程序:Yang昜工具箱\n点击查看更多：${uni.$webBaseUrl}${h}`,y=()=>{navigator.share?_({data:x,success:()=>{p(),d.value.open()},fail:()=>{m({title:"复制失败，请检查设备微信权限。",icon:"none"})}}):navigator.share({title:`${uni.$sharePageTitle}-${uni.$shareBaseTitle}`,text:`${uni.$sharePageTitle}，点击查看更多。`,url:`${uni.$webBaseUrl}${h}`})},$=()=>{window.location.href="weixin://"},b=()=>{const e=["mqq://","mqqapi://","mqqwpa://","tencent://"];let a=0;const l=()=>{a<e.length&&(window.location.href=e[a++],setTimeout(l,1e3))};l()},g=()=>{d.value.close()};return(e,a)=>{const _=i,m=r,p=l("uni-popup");return t(),s(u,null,[n(m,{class:"yang-button primary circle m_0",onClick:y},{default:o((()=>[n(_,{class:"my-icon my-icon-share-1 text_xxl"})])),_:1}),n(p,{ref_key:"popupRef",ref:d},{default:o((()=>[n(_,{class:"bg-color radius"},{default:o((()=>[n(_,{class:"d_flex px_4 py_3 items_center"},{default:o((()=>[n(_,null,{default:o((()=>[c("内容已复制，点击跳转程序。")])),_:1})])),_:1}),n(_,{class:"d_flex px_4 pt_3 pb_1 items_center border_t"},{default:o((()=>[n(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:$},{default:o((()=>[n(_,{class:"my-icon my-icon-logo-wechat-stroke-filled text_xxl mr_2"}),c(" 微信 ")])),_:1}),n(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:b},{default:o((()=>[n(_,{class:"my-icon my-icon-logo-qq-filled text_xxl mr_2"}),c(" QQ ")])),_:1})])),_:1}),n(_,{class:"d_flex px_4 pb_3 pt_1 items_center"},{default:o((()=>[n(m,{class:"yang-button outline small block","hover-class":"hover",onClick:g},{default:o((()=>[c("取消")])),_:1})])),_:1})])),_:1})])),_:1},512)],64)}}};export{f as _};
