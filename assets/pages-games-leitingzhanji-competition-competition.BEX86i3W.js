import{r as e,a,o as t,c as l,S as s,w as o,l as n,i as r,b as u,e as d,f as c,F as _,d as f,t as i,R as m,j as y,q as v,s as b,Q as p,u as x,T as g}from"./index-auO82zA0.js";import{a as h,b as k}from"./config.DmCWn7As.js";const Y={__name:"cache-prompt",setup(s){const o=e("");return o.value="移除小程序",o.value="清空浏览器数据",(e,s)=>{const n=a("my-divider");return t(),l(n,{content:`本功能依赖本地缓存，请勿${o.value}，以防数据丢失。`},null,8,["content"])}}},w=36e5,$={__name:"competition",setup($){const D=s("dayjs");uni.$sharePageTitle=`对战时间记录器-${h}`;const H=`${k}-competition-data`,j=e([{label:"无尽限时小组赛",key:"xiaozusai",cd:16,date:0,energy:"100"},{label:"无尽争霸赛",key:"zhengbasai",cd:48,date:0,energy:"300"}]),C=[["今天","昨天"].map(((e,a)=>({label:e,value:-a-1+1}))),Array.from({length:24},((e,a)=>({label:`${a}时`,value:a}))),Array.from({length:60},((e,a)=>({label:`${a}分`,value:a})))],M=e([0,0,0]);let T=0;const z=()=>{const e=n(H);j.value.forEach((a=>{const{key:t}=a;e&&e[t]&&(a.date=e[t])}))};z();const A=()=>{const e=D();M.value=[0,e.hour(),e.minute()],T=e.valueOf()-e.hour()*w-6e4*e.minute()},E=e=>{const{value:a}=e.detail,{key:t}=e.currentTarget.dataset,l={},s=[24*w,w,6e4];j.value.forEach((e=>l[e.key]=e.date));const o=C.map((e=>e.map((e=>e.value))));l[t]=a.reduce(((e,a,t)=>e+o[t][a]*s[t]),T),v(H,l),z()},S=e=>{const{index:a}=e.currentTarget.dataset;j.value[a],b({title:"浏览器暂不支持",icon:"none"})};return(e,s)=>{const n=a("my-divider"),v=r,b=p,h=x,k=g,$=a("my-ad-custom"),H=a("my-bottom-safety-space");return t(),l(v,{class:"pt_2"},{default:o((()=>[u(n,{content:"本工具仅作辅助记录时间，具体内容以官方为准。"}),(t(!0),d(_,null,c(j.value,((e,a)=>(t(),l(v,{key:a,class:"mx_4 mb_4 shadow radius bg-color"},{default:o((()=>[u(v,{class:"d_flex items_center p_4"},{default:o((()=>[u(v,{class:"grow"},{default:o((()=>[u(v,{class:"text_base"},{default:o((()=>[f(i(e.label),1)])),_:2},1024),u(v,{class:"text-info"},{default:o((()=>[f("冷却结束后使用"),u(b,{class:"text-error font_bold px_1"},{default:o((()=>[f(i(e.energy),1)])),_:2},1024),f("体力触发")])),_:2},1024)])),_:2},1024),u(v,null,{default:o((()=>[f("CD:"),u(b,{class:"text-error font_bold px_1"},{default:o((()=>[f(i(e.cd),1)])),_:2},1024),f("H")])),_:2},1024)])),_:2},1024),u(k,{class:"cursor_default",mode:"multiSelector","range-key":"label",value:M.value,range:C,"data-key":e.key,onClick:A,onChange:E},{default:o((()=>[u(v,{class:"d_flex items_center p_4 border_t"},{default:o((()=>[u(v,{class:"grow"},{default:o((()=>[u(v,{class:"text_base"},{default:o((()=>[f("本次点击"),u(b,{class:"text-error font_bold px_1"},{default:o((()=>[f("立即参加")])),_:1}),f("的时间")])),_:1}),e.date?(t(),l(v,{key:0,class:"text-info"},{default:o((()=>[f(i(m(D)(e.date).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):y("",!0)])),_:2},1024),u(v,null,{default:o((()=>[u(h,{class:"yang-button primary small outline","hover-class":"hover"},{default:o((()=>[f("设置时间")])),_:1})])),_:1})])),_:2},1024)])),_:2},1032,["value","data-key"]),u(v,{class:"d_flex items_center p_4 border_t"},{default:o((()=>[u(v,{class:"grow"},{default:o((()=>[u(v,{class:"text_base"},{default:o((()=>[f("预估冷却结束时间")])),_:1}),e.date?(t(),l(v,{key:0,class:"text-info"},{default:o((()=>[f(i(m(D)(e.date+e.cd*w).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):y("",!0)])),_:2},1024),e.date?(t(),l(v,{key:0},{default:o((()=>[u(h,{class:"yang-button primary small outline","hover-class":"hover","data-index":a,onClick:S},{default:o((()=>[f("设置提醒")])),_:2},1032,["data-index"])])),_:2},1024)):y("",!0)])),_:2},1024)])),_:2},1024)))),128)),u(Y),u($,{mp_weixin:"adunit-8c89cc4610403c81"}),u(H,{version:""})])),_:1})}}};export{$ as default};
