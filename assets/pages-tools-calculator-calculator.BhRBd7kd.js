import{_ as a,r as e,c as l,a as u,w as s,F as t,i as n,b as c,o as r,e as v,g as o,h as i,t as d,f as _,n as f,s as p}from"./index-DO2nJYcD.js";const m=a({__name:"calculator",setup(a){uni.$sharePageTitle="多功能计算器";const m=e("0"),b=e(null),g=e(null),h=e(!1),y=e(""),x=[["C","±","%","÷"],["7","8","9","×"],["4","5","6","-"],["1","2","3","+"],["0",".","="]],w=a=>{const e=[];return"C"===a&&e.push("clear"),["÷","×","-","+","="].includes(a)&&e.push("operator"),"0"===a&&e.push("zero"),isNaN(a)&&"."!==a||e.push("digit"),e.join(" ")},F=a=>{h.value?(m.value=a,h.value=!1):m.value="0"===m.value?a:m.value+a},$=()=>{if(h.value)return m.value="0.",void(h.value=!1);m.value.includes(".")||(m.value+=".")},k=()=>{m.value="0",b.value=null,g.value=null,h.value=!1,y.value=""},C=()=>{m.value=String(-1*parseFloat(m.value))},N=()=>{const a=parseFloat(m.value);m.value=String(a/100)},S=a=>{const e=parseFloat(m.value);if(null===b.value)b.value=e;else if(g.value){const a=q();m.value=String(a),b.value=a}h.value=!0,g.value=a,y.value=`${b.value||m.value} ${g.value}`},j=()=>{const a=parseFloat(m.value);if(null===b.value||null===g.value)return;const e=q();y.value=`${b.value} ${g.value} ${a} =`,m.value=String(e),b.value=null,g.value=null,h.value=!0},q=()=>{const a=parseFloat(m.value),e=b.value;switch(g.value){case"+":return e+a;case"-":return e-a;case"×":return e*a;case"÷":return 0===a?(p({title:"不能除以零",icon:"none"}),0):e/a;default:return a}};return(a,e)=>{const p=c("my-page-header"),b=n,g=c("my-ad-custom"),h=c("my-bottom-safety-space");return r(),l(t,null,[u(p),u(b,{class:"pt_4"},{default:s((()=>[u(b,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[u(b,{class:"d_flex px_4 items_center"},{default:s((()=>[u(b,{class:"py_4 font_bold"},{default:s((()=>[v("多功能计算器")])),_:1})])),_:1})])),_:1}),u(b,{class:"calculator-container mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[u(b,{class:"display"},{default:s((()=>[y.value?(r(),o(b,{key:0,class:"expression"},{default:s((()=>[v(d(y.value),1)])),_:1})):i("",!0),u(b,{class:"result"},{default:s((()=>[v(d(m.value||"0"),1)])),_:1})])),_:1}),u(b,{class:"buttons"},{default:s((()=>[(r(),l(t,null,_(x,((a,e)=>u(b,{class:"button-row",key:e},{default:s((()=>[(r(!0),l(t,null,_(a,((a,e)=>(r(),o(b,{key:e,class:f(["button",w(a)]),onClick:e=>(a=>{isNaN(a)?"."===a?$():"C"===a?k():"±"===a?C():"%"===a?N():["÷","×","-","+"].includes(a)?S(a):"="===a&&j():F(a)})(a)},{default:s((()=>[v(d(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024))),64))])),_:1})])),_:1}),u(g,{mp_weixin:"adunit-4487e043d6b98f83",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),u(h,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-5a3c2e07"]]);export{m as default};
