import{_ as e,r as a,ag as s,c as l,o as t,a as o,w as n,i as r,m as i,e as c,F as u,u as _,ah as p}from"./index-s_PpT9AL.js";import{u as f}from"./uni-popup.ik2pFpuT.js";const m=e({__name:"my-share-button",setup(e){const m=a(null),d=s(),h=d[d.length-1].route,x=`${uni.$sharePageTitle}-${uni.$shareBaseTitle},\n微信内点击：#小程序:Yang昜工具箱\n点击查看更多：${uni.$webBaseUrl}${h}`,g=()=>{navigator.share?_({data:x,success:()=>{p(),m.value.open()}}):navigator.share({title:`${uni.$sharePageTitle}-${uni.$shareBaseTitle}`,text:`${uni.$sharePageTitle}，点击查看更多。`,url:`${uni.$webBaseUrl}${h}`})},$=()=>{window.location.href="weixin://"},b=()=>{const e=["mqq://","mqqapi://","mqqwpa://","tencent://"];let a=0;const s=()=>{a<e.length&&(window.location.href=e[a++],setTimeout(s,1e3))};s()},y=()=>{m.value.close()};return(e,a)=>{const s=r,_=i;return t(),l(u,null,[o(_,{class:"share yang-fab yang-button primary circle",onClick:g},{default:n((()=>[o(s,{class:"my-icon-share-1 text_xxl"})])),_:1}),o(f,{ref_key:"popupRef",ref:m},{default:n((()=>[o(s,{class:"edit-popup bg-color radius"},{default:n((()=>[o(s,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[o(s,null,{default:n((()=>[c("内容已复制，点击跳转程序。")])),_:1})])),_:1}),o(s,{class:"d_flex px_4 pt_3 pb_1 items_center border_t"},{default:n((()=>[o(_,{class:"yang-button primary small block outline","hover-class":"hover",onClick:$},{default:n((()=>[o(s,{class:"my-icon-logo-wechat-stroke-filled text_xxl mr_2"}),c(" 微信 ")])),_:1}),o(_,{class:"yang-button primary small block outline","hover-class":"hover",onClick:b},{default:n((()=>[o(s,{class:"my-icon-logo-qq-filled text_xxl mr_2"}),c(" QQ ")])),_:1})])),_:1}),o(s,{class:"d_flex px_4 pb_3 pt_1 items_center"},{default:n((()=>[o(_,{class:"yang-button outline small block","hover-class":"hover",onClick:y},{default:n((()=>[c("取消")])),_:1})])),_:1}),o(s,{class:"h_safe"})])),_:1})])),_:1},512)],64)}}},[["__scopeId","data-v-e429f65b"]]);export{m as M};
