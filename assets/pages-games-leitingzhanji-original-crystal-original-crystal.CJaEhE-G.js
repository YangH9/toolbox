import{_ as a,r as e,a9 as l,ad as t,c as i,a as s,w as u,F as n,i as c,b as r,B as _,C as v,o as p,g as d,h as o,f as y,n as f,e as m,t as b,d as g,u as x,ai as q,A as k}from"./index-9--4CGPh.js";import{_ as $}from"./uni-popup.CNBhjLJy.js";import{a as h}from"./config.Dny4K3GL.js";import{f as w}from"./data-all.n4eQ7e_Z.js";import{d as L}from"./data-map-image.BZIUXLR3.js";import"./image.zOWBe0cW.js";const C=a({__name:"original-crystal",setup(a){uni.$sharePageTitle=`超维原晶-${h}`;const C=a=>`/static/web/leitingzhanji/originalCrystal/${a}.jpg`,j=a=>`/static/web/leitingzhanji/quality/${a}.png`,S=e({list:[],active:0}),z=e({list:[],active:0}),F=e({list:[],active:0}),J=e([]),K=e({}),N=e(null),O=e({}),A=e(!1),D=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((a=>[...l()].at(-1).route!==a.url.replace(/^\//,""))),I=t((()=>S.value.list.map((a=>({...a,num:a.value?J.value.filter((e=>e.part===a.value)).length:J.value.length}))))),P=t((()=>{const a=S.value.active;return z.value.list.map((e=>({...e,num:J.value.filter((l=>(!a||l.part===a)&&l.quality===e.value)).length})))})),R=t((()=>{const a=S.value.active,e=z.value.active;return F.value.list.map((l=>({...l,num:J.value.filter((t=>(!a||t.part===a)&&t.quality===e&&t.type===l.value)).length})))})),B=t((()=>{const a=S.value.active,e=z.value.active,l=F.value.active;return J.value.filter((t=>(!a||t.part===a)&&t.quality===e&&t.type===l))}));(()=>{const{partData:a,originalCrystalData:{quality:e,exclusiveSuit:l,generalSuit:t,combatList:i,universality:s,data1:u,data2:n},...c}=JSON.parse(JSON.stringify(w));J.value=[i.filter((a=>a.type)).map((t=>t.quality.map((i=>l.map((l=>a.map(((u,n)=>{const r=a[n],_=e.find((a=>a.value===i)),v=s.find((a=>a.children.includes(t.type))),p=c[`${l.key}List`].find((a=>a.suit===l.suit)).part[n],d=2!==u.value?t.attackDescription.replace("{title}",p.title).replace("{value}",t.attackLabel[i-2]):t.healthDescription.replace("{title}",p.title).replace("{value}",t.healthLabel[i-2]),o=`originalCrystal-${r.value}-${_.value}-2`;return{label:`${_.label} · ${l.label}${r.crystal}${t.type}`,name:`${l.label}${r.crystal}${t.type}`,key:o,part:r.value,partLabel:r.label,quality:_.value,qualityLabel:_.label,suit:l.value,suitLabel:l.label,type:v.value,typeLabel:v.label,equipment:p.title,imgkey:o,qualityKey:`quality-${_.value||4}`,description:d}})))))))),u.children.map((t=>{const i=e.find((a=>a.value===t.quality)),n=a.find((a=>a.value===t.part)),r=l.find((a=>a.suit===t.suit)),_=s.find((a=>a.value===u.exclusive)),v=c[`${r.key}List`].find((a=>a.suit===r.suit)).part.find((a=>a.value===t.part)),p=`originalCrystal-${n.value}-${i.value}-2`;return{label:`${i.label} · ${t.label}`,name:`${t.label}`,key:p,part:n.value,partLabel:n.label,quality:i.value,qualityLabel:i.label,suit:r.value,suitLabel:r.label,type:_.value,typeLabel:_.label,equipment:v.title,imgkey:p,qualityKey:`quality-${i.value||4}`,description:t.description}})),n.part.map(((l,i)=>{const u=a[i];return l.map(((a,l)=>{const n=t[l];return a.growthRate.map(((l,t)=>{const c=e.find((a=>a.value===n.quality[t])),r=s.find((a=>a.children.includes(n.value))),_=Array.isArray(n.label)?n.label[i]:n.label,v=`originalCrystal-${u.value}-${c.value}-1`;return{label:`${c.label} · ${_}${u.crystal}`,name:`${_}${u.crystal}`,key:v,part:u.value,partLabel:u.label,quality:c.value,qualityLabel:c.label,suit:n.value,suitLabel:_,type:r.value,typeLabel:r.label,equipment:`${u.label}通用`,imgkey:v,qualityKey:`quality-${c.value||4}`,description:a.description.replace("{value}",l)}}))}))}))].flat(4),z.value={list:e.reverse().map((a=>({label:a.label,value:a.value}))),active:e[0].value},F.value={list:s.map((a=>({label:a.label,value:a.value}))),active:s[0].value},S.value={list:[{label:"全部",value:0}].concat(a.map((a=>({label:a.label,value:a.value})))),active:0};const{originalCrystal:r,quality:_}=JSON.parse(JSON.stringify(L));K.value={...r,..._}})();const T=a=>{var e;"trial"!==(null==(e=uni.getAccountInfoSync)?void 0:e.call(uni).miniProgram.envVersion)&&(N.value.open(),O.value=JSON.parse(JSON.stringify(a)))},V=()=>{A.value=!A.value};return(a,e)=>{const l=r("my-page-header"),t=c,h=g,w=q,L=k,J=_(v("uni-popup"),$),K=r("my-divider"),E=r("my-ad-custom"),G=r("my-bottom-safety-space");return p(),i(n,null,[s(l),s(t,{class:"pt_4"},{default:u((()=>[s(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:u((()=>[s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(p(!0),i(n,null,y(I.value,((a,e)=>(p(),d(t,{key:e,class:f(["yang-tabs__item d_flex vertical items_center",S.value.active===a.value?"active":""]),onClick:e=>S.value.active=a.value},{default:u((()=>[s(t,null,{default:u((()=>[m(b(a.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:u((()=>[m(b(a.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(p(!0),i(n,null,y(P.value,((a,e)=>(p(),d(t,{key:e,class:f(["yang-tabs__item d_flex vertical items_center",z.value.active===a.value?"active":""]),onClick:e=>z.value.active=a.value},{default:u((()=>[s(t,null,{default:u((()=>[m(b(a.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:u((()=>[m(b(a.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(p(!0),i(n,null,y(R.value,((a,e)=>(p(),d(t,{key:e,class:f(["yang-tabs__item d_flex vertical items_center",F.value.active===a.value?"active":""]),onClick:e=>F.value.active=a.value},{default:u((()=>[s(t,null,{default:u((()=>[m(b(a.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:u((()=>[m(b(a.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),A.value?o("",!0):(p(),d(t,{key:0,class:"d_flex wrap px_2 pb_1 main_box"},{default:u((()=>[(p(!0),i(n,null,y(B.value,((a,e)=>(p(),d(t,{key:e,class:"col_3 d_flex vertical mt_2 pt_2 px_1",onClick:e=>T(a)},{default:u((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:u((()=>[s(h,{class:"yang-avatar main_picture",src:C(a.imgkey),mode:"aspectFill"},null,8,["src"]),s(h,{class:"yang-avatar main_picture_border",src:j(a.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:2},1024),s(t,{class:"d_flex vertical items_center"},{default:u((()=>[s(t,null,{default:u((()=>[m(b(a.qualityLabel),1)])),_:2},1024),s(t,null,{default:u((()=>[m(b(a.name),1)])),_:2},1024),s(t,null,{default:u((()=>[m(b(a.equipment),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})),A.value?(p(),d(t,{key:1,class:"d_flex vertical px_2 pb_1 main_box"},{default:u((()=>[(p(!0),i(n,null,y(B.value,((a,e)=>(p(),d(t,{key:e,class:"d_flex mt_2 pt_2 px_1",onClick:e=>T(a)},{default:u((()=>[s(t,{class:"main_picture_box mx_auto"},{default:u((()=>[s(h,{class:"yang-avatar main_picture",src:C(a.imgkey),mode:"aspectFill"},null,8,["src"]),s(h,{class:"yang-avatar main_picture_border",src:j(a.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:2},1024),s(t,{class:"d_flex vertical grow pl_2"},{default:u((()=>[s(t,{class:"d_flex content_between"},{default:u((()=>[s(t,{class:"font_bold text_base"},{default:u((()=>[m(b(a.label),1)])),_:2},1024),s(t,{class:"text_sm"},{default:u((()=>[m(b(a.equipment),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex items_center grow text_wrap"},{default:u((()=>[m(b(a.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):o("",!0),B.value.length?o("",!0):(p(),d(t,{key:2,class:"d_flex content_center py_4 my_4"},{default:u((()=>[m("该分类无数据")])),_:1}))])),_:1}),s(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:u((()=>[s(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:V},{default:u((()=>[s(t,{class:f(`my-icon-${A.value?"grid-view":"view-list"} mr_2`)},null,8,["class"]),s(t,null,{default:u((()=>[m(b(A.value?"宫格":"列表"),1)])),_:1})])),_:1}),(p(!0),i(n,null,y(x(D),((a,e)=>(p(),d(w,{key:e,url:a.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:u((()=>[m(b(a.label),1)])),_:2},1032,["url"])))),128))])),_:1}),s(J,{ref_key:"detailRef",ref:N},{default:u((()=>[s(t,{class:"bg-color radius",style:{"max-width":"80vw"}},{default:u((()=>[s(t,{class:"d_flex vertical px_4 py_3"},{default:u((()=>[s(t,{class:"my_2",style:{transform:"scale(1.4)"}},{default:u((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:u((()=>[s(h,{class:"yang-avatar main_picture",src:C(O.value.imgkey),mode:"aspectFill"},null,8,["src"]),s(h,{class:"yang-avatar main_picture_border",src:j(O.value.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("名称：")])),_:1}),m(b(O.value.label),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("可装备：")])),_:1}),m(b(O.value.equipment),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("部位：")])),_:1}),m(b(O.value.partLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("品质：")])),_:1}),m(b(O.value.qualityLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("系列：")])),_:1}),m(b(O.value.suitLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info"},{default:u((()=>[m("类型：")])),_:1}),m(b(O.value.typeLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:u((()=>[s(L,{class:"text-info text_nowrap"},{default:u((()=>[m("介绍：")])),_:1}),m(b(O.value.description),1)])),_:1})])),_:1})])),_:1})])),_:1},512),s(K,{content:"本页内容仅供参考，具体以官方数据为准。"}),s(E,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),s(G,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-641298ee"]]);export{C as default};
