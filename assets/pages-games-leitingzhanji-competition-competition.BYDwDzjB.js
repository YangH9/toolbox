import{r as e,Q as a,c as t,a as l,w as s,F as o,p as d,i as r,K as c,b as n,o as u,f as _,g as i,e as f,t as m,B as y,a7 as b,h as p,u as x,q as g,x as v,s as h}from"./index-DNFVWzpu.js";import{a as k,b as Y}from"./config.Dny4K3GL.js";const T=36e5,w=6e4,K={__name:"competition",setup(K){const D=c("dayjs");uni.$sharePageTitle=`对战时间记录器-${k}`;const H=`${Y}-competition-data`,$=e([{label:"无尽限时小组赛",key:"groupTime",nKey:"groupNoticeTime",oldKey:"xiaozusai",cd:16,date:0,energy:"100"},{label:"无尽争霸赛",key:"battleTime",nKey:"battleNoticeTime",oldKey:"zhengbasai",cd:48,date:0,energy:"300"}]),C=[["今天","昨天"].map(((e,a)=>({label:e,value:-a-1+1}))),Array.from({length:24},((e,a)=>({label:`${a}时`,value:a}))),Array.from({length:60},((e,a)=>({label:`${a}分`,value:a})))],M=e([0,0,0]);let j=0;e(!1);a((()=>{(async()=>{const e=d(H);$.value.forEach((a=>{const{key:t,oldKey:l}=a;e&&e[l]&&(a.date=e[l]),e&&e[t]&&(a.date=e[t])}))})()}));const q=()=>{const e=D();M.value=[0,e.hour(),e.minute()],j=e.valueOf()-e.hour()*T-e.minute()*w},z=async e=>{const{value:a}=e.detail,{key:t}=e.currentTarget.dataset,l=[24*T,T,w],s=C.map((e=>e.map((e=>e.value)))),o=a.reduce(((e,a,t)=>e+s[t][a]*l[t]),j);$.value.find((e=>e.key===t)).date=o;const d={};$.value.forEach((e=>d[e.key]=e.date)),v(H,d)},A=e=>{const{index:a}=e.currentTarget.dataset;$.value[a],h({title:"浏览器暂不支持",icon:"none"})};return(e,a)=>{const d=n("my-page-header"),c=n("my-divider"),v=r,h=y,k=g,Y=b,K=n("my-ad-custom"),H=n("my-bottom-safety-space");return u(),t(o,null,[l(d),l(v,{class:"pt_2"},{default:s((()=>[l(c,{content:"本工具仅作辅助记录时间，具体内容以官方为准。"}),(u(!0),t(o,null,_($.value,((e,a)=>(u(),i(v,{key:a,class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[l(v,{class:"d_flex items_center p_4"},{default:s((()=>[l(v,{class:"grow"},{default:s((()=>[l(v,{class:"text_base"},{default:s((()=>[f(m(e.label),1)])),_:2},1024),l(v,{class:"text-info"},{default:s((()=>[f("冷却结束后使用"),l(h,{class:"text-error font_bold px_1"},{default:s((()=>[f(m(e.energy),1)])),_:2},1024),f("体力触发")])),_:2},1024)])),_:2},1024),l(v,null,{default:s((()=>[f("CD:"),l(h,{class:"text-error font_bold px_1"},{default:s((()=>[f(m(e.cd),1)])),_:2},1024),f("H")])),_:2},1024)])),_:2},1024),l(Y,{class:"cursor_default",mode:"multiSelector","range-key":"label",value:M.value,range:C,"data-key":e.key,onClick:q,onChange:z},{default:s((()=>[l(v,{class:"d_flex items_center p_4 border_t"},{default:s((()=>[l(v,{class:"grow"},{default:s((()=>[l(v,{class:"text_base"},{default:s((()=>[f("本次点击"),l(h,{class:"text-error font_bold px_1"},{default:s((()=>[f("立即参加")])),_:1}),f("的时间")])),_:1}),e.date?(u(),i(v,{key:0,class:"text-info"},{default:s((()=>[f(m(x(D)(e.date).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):p("",!0)])),_:2},1024),l(v,null,{default:s((()=>[l(k,{class:"yang-button primary small outline","hover-class":"hover"},{default:s((()=>[f("设置时间")])),_:1})])),_:1})])),_:2},1024)])),_:2},1032,["value","data-key"]),l(v,{class:"d_flex items_center p_4 border_t"},{default:s((()=>[l(v,{class:"grow"},{default:s((()=>[l(v,{class:"text_base"},{default:s((()=>[f("预估冷却结束时间")])),_:1}),e.date?(u(),i(v,{key:0,class:"text-info"},{default:s((()=>[f(m(x(D)(e.date+e.cd*T+w).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):p("",!0)])),_:2},1024),e.date?(u(),i(v,{key:0},{default:s((()=>[l(k,{class:"yang-button primary small outline","hover-class":"hover","data-index":a,onClick:A},{default:s((()=>[f("设置提醒")])),_:2},1032,["data-index"])])),_:2},1024)):p("",!0)])),_:2},1024)])),_:2},1024)))),128)),l(K,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),l(H,{version:""})])),_:1})],64)}}};export{K as default};
