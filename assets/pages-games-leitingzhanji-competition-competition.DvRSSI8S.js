import{r as e,a,o as t,g as l,w as s,m as n,i as o,b as r,c as d,e as u,F as c,d as _,t as i,j as f,p as m,s as y,q as g,v,x}from"./index-DTf60c5S.js";const b={__name:"cache-prompt",setup(s){const n=e("");return n.value="移除小程序",n.value="清空浏览器数据",(e,s)=>{const o=a("my-divider");return t(),l(o,{content:`本功能依赖本地缓存，请勿${n.value}，以防数据丢失。`},null,8,["content"])}}},p="leitingzhanji-competition-data",k=36e5,h={__name:"competition",setup(h){uni.$sharePageTitle="对战时间记录器-雷霆战机";const w=e([{label:"无尽限时小组赛",key:"xiaozusai",cd:16,date:0,energy:"100"},{label:"无尽争霸赛",key:"zhengbasai",cd:48,date:0,energy:"300"}]),C=[["今天","昨天"].map(((e,a)=>({label:e,value:-a-1+1}))),Array.from({length:24},((e,a)=>({label:`${a}时`,value:a}))),Array.from({length:60},((e,a)=>({label:`${a}分`,value:a})))],D=e([0,0,0]);let T=0;const $=()=>{const e=n(p);w.value.forEach((a=>{const{key:t}=a;e&&e[t]&&(a.date=e[t])}))};$();const j=()=>{const e=new Date;D.value=[0,e.getHours(),e.getMinutes()],T=e.getTime()-e.getHours()*k-6e4*e.getMinutes()},z=e=>{const{value:a}=e.detail,{key:t}=e.currentTarget.dataset,l={},s=[24*k,k,6e4];w.value.forEach((e=>l[e.key]=e.date));const n=C.map((e=>e.map((e=>e.value))));l[t]=a.reduce(((e,a,t)=>e+n[t][a]*s[t]),T),m(p,l),$()},F=e=>{const{index:a}=e.currentTarget.dataset;w.value[a],y({title:"浏览器暂不支持",icon:"none"})};return(e,n)=>{const m=a("my-divider"),y=o,p=g,h=v,T=x,$=a("my-bottom-safety-space");return t(),l(y,{class:"pt_2"},{default:s((()=>[r(m,{content:"本工具仅作辅助记录时间，具体内容以官方为准。"}),(t(!0),d(c,null,u(w.value,((e,a)=>(t(),l(y,{key:a,class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[r(y,{class:"d_flex items_center p_4"},{default:s((()=>[r(y,{class:"grow"},{default:s((()=>[r(y,{class:"text_base"},{default:s((()=>[_(i(e.label),1)])),_:2},1024),r(y,{class:"text-info"},{default:s((()=>[_("冷却结束后使用"),r(p,{class:"text-error font_bold px_1"},{default:s((()=>[_(i(e.energy),1)])),_:2},1024),_("体力触发")])),_:2},1024)])),_:2},1024),r(y,null,{default:s((()=>[_("CD:"),r(p,{class:"text-error font_bold px_1"},{default:s((()=>[_(i(e.cd),1)])),_:2},1024),_("H")])),_:2},1024)])),_:2},1024),r(T,{class:"cursor_default",mode:"multiSelector","range-key":"label",value:D.value,range:C,"data-key":e.key,onClick:j,onChange:z},{default:s((()=>[r(y,{class:"d_flex items_center p_4 border_t"},{default:s((()=>[r(y,{class:"grow"},{default:s((()=>[r(y,{class:"text_base"},{default:s((()=>[_("本次"),r(p,{class:"text-error font_bold px_1"},{default:s((()=>[_("领取奖励")])),_:1}),_("的时间")])),_:1}),e.date?(t(),l(y,{key:0,class:"text-info"},{default:s((()=>[_(i(new Date(e.date).toFormat()),1)])),_:2},1024)):f("",!0)])),_:2},1024),r(y,null,{default:s((()=>[r(h,{class:"yang-button primary small outline","hover-class":"hover"},{default:s((()=>[_("设置时间")])),_:1})])),_:1})])),_:2},1024)])),_:2},1032,["value","data-key"]),r(y,{class:"d_flex items_center p_4 border_t"},{default:s((()=>[r(y,{class:"grow"},{default:s((()=>[r(y,{class:"text_base"},{default:s((()=>[_("预估冷却结束时间")])),_:1}),e.date?(t(),l(y,{key:0,class:"text-info"},{default:s((()=>[_(i(new Date(e.date+e.cd*k).toFormat()),1)])),_:2},1024)):f("",!0)])),_:2},1024),e.date?(t(),l(y,{key:0},{default:s((()=>[r(h,{class:"yang-button primary small outline","hover-class":"hover","data-index":a,onClick:F},{default:s((()=>[_("设置提醒")])),_:2},1032,["data-index"])])),_:2},1024)):f("",!0)])),_:2},1024)])),_:2},1024)))),128)),r(b),r($,{version:""})])),_:1})}}};export{h as default};
