import{_ as a,r as l,c as e,a as t,w as s,F as c,i as r,b,o as u,e as o,t as i,f as n,g as _,n as d,h,m as p,a7 as v,a8 as f,a9 as m}from"./index-s_PpT9AL.js";import{a as k}from"./config.Dny4K3GL.js";import{d as y}from"./data-all.IgPFLw6R.js";import{u as g}from"./uni-popup.ik2pFpuT.js";const x=a({__name:"count-battlevalues",setup(a){uni.$sharePageTitle=`战力计算器-${k}`;const x=l([{label:"战机",part:1,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"装甲",part:2,children:[{label:"月华之轮",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"副武器",part:3,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"僚机",part:4,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]}]),L=l([{label:"专属百分比",attack:[0,.07,.115,.205],health:[0,.07,.115,.205],isPercentage:!0},{label:"专属数值",attack:[0,308,516,905],health:[0,6156,10320,18105]},{label:"通用百分比",attack:[0,.015,.025,.045],health:[0,.015,.025,.045],isPercentage:!0},{label:"通用数值",attack:[0,60,121,205],health:[0,1207,2414,4104]}]),C=l({label:"皮肤",attack:50,health:1e3}),M=l([{label:"布莱德",coreLabel:"充能火花",level:[{label:"Lv.30",combat:[]},{label:"Lv.50",combat:[]},{label:"Lv.70",combat:[]},{label:"Lv.90",combat:[]},{label:"潜能MAX",combat:[]}]},{label:"莉亚",coreLabel:"星辰守护",level:[{label:"Lv.30",combat:[]},{label:"Lv.50",combat:[]},{label:"Lv.70",combat:[]},{label:"Lv.90",combat:[]},{label:"潜能Lv.1",combat:[]},{label:"潜能Lv.2",combat:[]},{label:"潜能Lv.4",combat:[]}]}]),w=l([{label:"布莱德",coreLabel:"充能火花",level:[{label:"潜能Lv.4",combat:[]}]},{label:"莉亚",coreLabel:"星辰守护",level:[{label:"潜能Lv.1",combat:[]},{label:"潜能Lv.2",combat:[]},{label:"潜能Lv.4",combat:[]}]}]),P=l(null),q=l({visible:!1,part:0,equipment:[0,0],original:[0,0,0,0],hasSkin:!1}),A=l(null),X=l({visible:!1,isMain:!1}),S=l(null),j=l({visible:!1}),E=l({attack:0,health:0,combat:0}),$=l([{key:"",label:"暗夜神锋(MAX)",part:1,partLabel:"战机",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!0},{key:"",label:"月华之轮(MAX)",part:2,partLabel:"装甲",combat:120578,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"18105",value:18105},{label:"4.5%",value:.045,isPercentage:!0},{label:"4104",value:4104}],hasSkin:!1},{key:"",label:"集束光刃(MAX)",part:3,partLabel:"副武器",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!1},{key:"",label:"超旋奇点(MAX)",part:4,partLabel:"僚机",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!0}]),I=l([{key:"",label:"莉亚(潜能MAX)",name:"莉亚",level:90,potential:4,isMain:!0,quality:1,combat:4836,partCombat:[1512,18134,1512,906]},{key:"",label:"罗伊(潜能MAX)",name:"罗伊",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[1512,30248,906,906]},{key:"",label:"维多利亚(潜能MAX)",name:"维多利亚",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[906,30248,1512,906]},{key:"",label:"娜塔莉(潜能MAX)",name:"娜塔莉",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[1512,18134,906,1512]}]),T=l([{key:"",label:"希望之光(Lv4)",name:"希望之光",level:4,type:1,typeLabel:"核心1",quality:1,combat:1209,partCombat:[1512,30248,906,906]},{key:"",label:"星辰守护(Lv4)",name:"星辰守护",level:4,type:1,typeLabel:"核心2",quality:1,combat:1209,partCombat:[1512,18134,1512,906]},{key:"",label:"能量倾泻(Lv4)",name:"能量倾泻",level:4,type:1,typeLabel:"核心3",quality:1,combat:1209,partCombat:[1512,18134,906,1512]}]);(()=>{const a=y.partData,l=y.planeList;a.map(((a,e)=>({label:a.label,part:a.value,children:l.map(((a,l)=>a.part[e].quality.map(((a,l)=>({label:a}))))).flat(1)})))})();(()=>{const a=[0,0,0,0];$.value.forEach(((l,e)=>{a[e]=l.combat,l.hasSkin&&(a[e]+=2===l.part?C.value.health:C.value.attack),I.value.forEach((l=>{l.isMain?a[e]+=Math.round(1*l.partCombat[e]):a[e]+=Math.round(.3*l.partCombat[e])})),T.value.forEach((l=>{a[e]+=Math.round(.25*l.partCombat[e])}));const t=l.originalCrystal.filter((a=>a.isPercentage)).reduce(((a,l)=>a+l.value),0),s=l.originalCrystal.filter((a=>!a.isPercentage)).reduce(((a,l)=>a+l.value),0);a[e]+=~~(a[e]*t),a[e]+=s})),E.value.combat=a[0]+~~(.05015*a[1])+a[2]+a[3]})();const D=a=>{const l=a.currentTarget.dataset.index,e=$.value[l];q.value={visible:!0,part:e.part,equipment:[0,0],original:e.originalCrystal.map(((a,l)=>(2===e.part?L.value[l].health:L.value[l].attack).findIndex((l=>l===a.value)))),hasSkin:e.hasSkin}},F=()=>{Z()},Z=()=>{q.value.visible=!1,P.value.close()},z=a=>{X.value={visible:!0}},B=()=>{Z()},G=()=>{X.value.visible=!1,A.value.close()},H=a=>{j.value={visible:!0}},J=()=>{Z()},K=()=>{j.value.visible=!1,S.value.close()};return(a,l)=>{const k=b("my-page-header"),y=r,C=b("my-divider"),N=b("my-ad-custom"),O=b("my-bottom-safety-space"),Q=p,R=f,U=v,V=m;return u(),e(c,null,[t(k),t(y,{class:"pt_4"},{default:s((()=>[t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[t(y,{class:"d_flex px_4 items_center"},{default:s((()=>[t(y,{class:"py_4 font_bold"},{default:s((()=>[o("总战力")])),_:1}),t(y,{class:"grow"}),t(y,{class:"py_4"},{default:s((()=>[o(i(E.value.combat),1)])),_:1})])),_:1})])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(u(!0),e(c,null,n($.value,((a,l)=>(u(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===$.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:D},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[o(i(a.label||a.partLabel)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[o(i(a.originalCrystal.map((a=>a.label)).join("、")),1)])),_:2},1024),a.hasSkin?(u(),_(y,{key:0,class:"yang-badge basic count circle warning"},{default:s((()=>[o("有皮肤")])),_:1})):h("",!0)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[o(i(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[o(i(a.partLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(u(!0),e(c,null,n(I.value,((a,l)=>(u(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===I.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:z},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[o(i(a.label||a.typeLabel)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[o(i(a.partCombat.map((l=>Math.round(l*(a.isMain?1:.3)))).join("、")),1)])),_:2},1024)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[o(i(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[o(i(a.isMain?"主驾驶":"副驾驶"),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(u(!0),e(c,null,n(T.value,((a,l)=>(u(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===T.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:H},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[o(i(a.label)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[o(i(a.partCombat.map((a=>Math.round(.25*a))).join("、")),1)])),_:2},1024)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[o(i(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[o(i(a.typeLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(C,{content:"本页内容仅供参考，具体以官方数据为准。"}),t(N,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),t(O,{version:""}),t(g,{ref_key:"editEquipmentPopup",ref:P,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[q.value.visible?(u(),_(y,{key:0,class:"edit-popup bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[o("修改装备")])),_:1}),t(y,{class:"grow"}),t(Q,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("装备")])),_:1}),t(y,{class:"grow"}),(u(),_(U,{key:0,value:q.value.equipment,class:"popup-picker"},{default:s((()=>[t(R,null,{default:s((()=>{var a;return[(u(!0),e(c,null,n(null==(a=x.value.find((a=>a.part===q.value.part)))?void 0:a.children,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))]})),_:1}),t(R,null,{default:s((()=>{var a;return[(u(!0),e(c,null,n(null==(a=x.value.find((a=>a.part===q.value.part)))?void 0:a.children[q.value.equipment[0]].children,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))]})),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("原晶")])),_:1}),t(y,{class:"grow"}),(u(),_(U,{key:0,value:q.value.original,class:"popup-picker"},{default:s((()=>[(u(!0),e(c,null,n(L.value,((a,l)=>(u(),_(R,{key:l},{default:s((()=>[2===q.value.part?(u(!0),e(c,{key:0},n(a.health,((l,e)=>(u(),_(y,{key:e,class:"d_flex center"},{default:s((()=>[o(i(a.isPercentage?~~(1e4*l)/100+"%":l),1)])),_:2},1024)))),128)):h("",!0),2!==q.value.part?(u(!0),e(c,{key:1},n(a.attack,((l,e)=>(u(),_(y,{key:e,class:"d_flex center"},{default:s((()=>[o(i(a.isPercentage?~~(1e4*l)/100+"%":l),1)])),_:2},1024)))),128)):h("",!0)])),_:2},1024)))),128))])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("是否有皮肤")])),_:1}),t(y,{class:"grow"}),t(V,{checked:q.value.hasSkin},null,8,["checked"])])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(Q,{class:"yang-button outline block","hover-class":"hover",onClick:Z},{default:s((()=>[o("取消")])),_:1}),t(Q,{class:"yang-button primary block","hover-class":"hover",onClick:F},{default:s((()=>[o("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})):h("",!0)])),_:1},512),t(g,{ref_key:"editPilotPopup",ref:A,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[t(y,{class:"edit-popup bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[o("修改驾驶员（主驾驶）")])),_:1}),t(y,{class:"grow"}),t(Q,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("驾驶员")])),_:1}),t(y,{class:"grow"}),(u(),_(U,{key:0,value:X.value.original,class:"popup-picker"},{default:s((()=>[t(R,null,{default:s((()=>[(u(!0),e(c,null,n(M.value,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))])),_:1}),t(R,null,{default:s((()=>[(u(!0),e(c,null,n(M.value,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("潜能")])),_:1}),t(y,{class:"grow"}),(u(),_(U,{key:0,value:X.value.original,class:"popup-picker"},{default:s((()=>[t(R,null,{default:s((()=>[(u(!0),e(c,null,n(M.value,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(Q,{class:"yang-button outline block","hover-class":"hover",onClick:G},{default:s((()=>[o("取消")])),_:1}),t(Q,{class:"yang-button primary block","hover-class":"hover",onClick:B},{default:s((()=>[o("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})])),_:1},512),t(g,{ref_key:"editCorePopup",ref:S,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[t(y,{class:"edit-popup bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[o("修改核心矩阵（上）")])),_:1}),t(y,{class:"grow"}),t(Q,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[o("核心名称")])),_:1}),t(y,{class:"grow"}),(u(),_(U,{key:0,value:j.value.original,class:"popup-picker"},{default:s((()=>[t(R,null,{default:s((()=>[(u(!0),e(c,null,n(w.value,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))])),_:1}),t(R,null,{default:s((()=>[(u(!0),e(c,null,n(w.value,((a,l)=>(u(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[o(i(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(Q,{class:"yang-button outline block","hover-class":"hover",onClick:K},{default:s((()=>[o("取消")])),_:1}),t(Q,{class:"yang-button primary block","hover-class":"hover",onClick:J},{default:s((()=>[o("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})])),_:1},512)])),_:1})],64)}}},[["__scopeId","data-v-a21bea16"]]);export{x as default};
