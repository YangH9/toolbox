import{_ as e,r as a,v as l,a1 as t,c as s,a as i,w as n,F as c,i as o,b as u,o as r,e as d,t as v,f as _,g as b,n as p,h as m,L as f,m as x,ah as h,ai as g,aj as y,x as k}from"./index-B1BVW54M.js";import{a as I,b as L}from"./config.CXGNUSHW.js";import{f as M}from"./data-all.C-hceHxQ.js";const w=e({__name:"count-battlevalues",setup(e){uni.$sharePageTitle=`战力计算器-${I}`;const w=`${L}-count-battlevalues`,C=M.partData.map((e=>e.combat)),q={};M.driverOption.position.forEach((e=>q[e.value]=e.combat));const $={};M.driverOption.core.forEach((e=>$[e.value]=e.combat));const S={};M.finalWeaponOption.position.forEach((e=>S[e.value]=e.combat));const N=a([]),O=a(M.originalCrystalList.combatList),P=a({label:"皮肤",attack:50,health:1e3}),J=a([]),E=a([]),A=a([]),j={e:[{p:1,e:100,g:100,o:[3,3,3,3],s:1},{p:2,e:100,g:100,o:[3,3,3,3],s:0},{p:3,e:100,g:100,o:[3,3,3,3],s:1},{p:4,e:100,g:100,o:[3,3,3,3],s:1}],p:[{p:5,c:100,m:1},{p:4,c:100,m:0},{p:7,c:100,m:0},{p:9,c:100,m:0}],c:[{c:5,m:100},{c:7,m:100},{c:9,m:100}],w:[{w:2,c:87,m:1},{w:1,c:87,m:0},{w:0,c:87,m:0}]},X=a(l(w)||JSON.parse(JSON.stringify(j))),W=a(null),D=a({visible:!1,editIndex:0,part:0,partLabel:"",equipment:[0,0],original:[0,0,0,0],hasSkin:!1}),H=a(null),F=a({visible:!1,editIndex:0,isMain:!1,pilot:[0],combatIndex:[0]}),T=a(null),z=a({visible:!1,editIndex:0,core:[0],combatIndex:[0]}),B=a(null),G=a({visible:!1,editIndex:0,weapon:[0],level:[0],maxLevel:[0],isMain:!1}),K=a({attack:0,health:0,combat:0}),Q=a([]),R=a([]),U=a([]),V=a([]);(()=>{const{partData:e,planeOption:a,aresOption:l,driverOption:t,finalWeaponOption:s,planeList:i,aresList:n,driverList:c,finalWeaponList:o}=JSON.parse(JSON.stringify(M));N.value=e.map(((e,t)=>({label:e.label,part:e.value,children:[i.map(((l,s)=>l.part[t].quality.map(((t,s)=>{let i=a.quality[s];return{label:t,partLabel:e.label,key:`plane-${e.value}-${l.suit}-${i.value}`,part:e.value,quality:i.value,suit:l.suit,children:i.gradation.map(((e,a)=>{const t=e.value?(null==e?void 0:e.isMax)?"MAX":`+${e.value}`:"",n=l.combat[s][a].at(-1);return{label:`${i.label}${t}`,value:e.value,isMax:null==e?void 0:e.isMax,level:e.maxLevel,attack:n.attack,health:n.health}}))}})))),n.map(((a,s)=>a.part[t].quality.map(((t,s)=>{let i=l.quality[s];return{label:t,partLabel:e.label,key:`ares-${e.value}-${a.suit}-${i.value}`,part:e.value,quality:i.value,suit:a.suit,children:i.gradation.map(((e,l)=>{const t=e.value?(null==e?void 0:e.isMax)?"MAX":`+${e.value}`:"",n=a.combat[s][l].at(-1);return{label:`${i.label}${t}`,value:e.value,isMax:null==e?void 0:e.isMax,level:e.maxLevel,attack:n.basicAttack+n.syncAttack,health:n.basicHealth+n.syncHealth}}))}}))))].flat(2)}))),J.value=c.map((e=>{const a=e.potential.length;return{label:e.title,star:e.star,key:"driver",children:t.quality.map(((a,l)=>{const t=e.combat[l].at(-1);return{label:a.label,quality:a.value,level:t.level,combat:t.part,combatNum:Math.round(t.part.reduce(((e,a,l)=>e+a*C[l]),0))}})).concat(e.potential.map(((e,l)=>({label:"潜能"+(l+1===a?"MAX":`${l+1}/${a}`),quality:4,level:90,combat:e.part,combatNum:Math.round(e.part.reduce(((e,a,l)=>e+a*C[l]),0))}))))}})),E.value=c.map((e=>{const a=e.potential.length;return{label:e.stunt,pilot:e.title,star:e.star,key:"core",children:[{coreLevel:0,label:"未激活",combat:[0,0,0,0],combatNum:0}].concat(e.potential.map(((e,l)=>({coreLevel:e.coreLevel,label:"潜能"+(l+1===a?"MAX":`${l+1}/${a}`),combat:e.part,combatNum:Math.round(e.part.reduce(((a,l,t)=>a+l*$[e.coreLevel]*C[t]),0))}))).filter((e=>e.coreLevel)))}})),A.value=o.map((a=>({label:a.title,key:a.value,key:"weapon",children:s.quality.map(((l,t)=>l.gradation.map(((i,n)=>s.attribute[t][n].map((t=>{const s=e.map((e=>2===e.value?t.health:e.value===a.attackPart?t.attack:0));return{label:`${l.label}${i.value?(null==i?void 0:i.isMax)?"MAX":`+${i.value}`:""}`,quality:l.value,level:t.level,maxLevel:i.maxLevel,combat:s,combatNum:Math.round(s.reduce(((e,a,l)=>e+a*C[l]),0)),disabled:!!t.level&&!t.attack}})))))).flat(2)})))})();t((()=>{(()=>{const{e:e,p:a,c:l,w:t}=oe(j,X.value);e.forEach(((e,a)=>{D.value={visible:!1,editIndex:a,part:e.p,partLabel:"",equipment:[e.e,e.g],original:e.o,hasSkin:!!e.s},Z()})),a.forEach(((e,a)=>{F.value={visible:!1,editIndex:a,isMain:!!e.m,pilot:[e.p],combatIndex:[e.c]},ae()})),l.forEach(((e,a)=>{z.value={visible:!1,editIndex:a,core:[e.c],combatIndex:[e.m]},te()})),t.forEach(((e,a)=>{G.value={visible:!1,editIndex:a,isMain:!!e.m,weapon:[e.w],combatIndex:[e.c]},ie()}))})()}));const Y=()=>{const e=[0,0,0,0];Q.value.forEach(((a,l)=>{e[l]=a.combat,a.hasSkin&&(e[l]+=2===a.part?P.value.health:P.value.attack),R.value.forEach((a=>{e[l]+=a.partCombat[l]})),U.value.forEach((a=>{e[l]+=a.partCombat[l]})),V.value.forEach((a=>{e[l]+=a.partCombat[l]}));const t=a.originalCrystal.filter((e=>e.isPercentage)).reduce(((e,a)=>e+a.value),0),s=a.originalCrystal.filter((e=>e.isPercentage)).reduce(((e,a)=>e+a.valueMax),0),i=a.originalCrystal.filter((e=>!e.isPercentage)).reduce(((e,a)=>e+a.value),0);e[l]+=Math.min(e[l]*t,s),e[l]+=i})),K.value.combat=e.reduce(((e,a,l)=>e+a*C[l]),0)},Z=()=>{const e=D.value,a=N.value.find((a=>a.part===e.part)),l=a.children[e.equipment[0]]??a.children.at(-1),t=l.children[e.equipment[1]]??l.children.at(-1),s=O.value,i={label:l.label,key:l.key,part:l.part,partLabel:l.partLabel,gradationLabel:t.label,level:t.level,combat:2===e.part?t.health:t.attack,equiIndex:e.equipment[0],gradaIndex:e.equipment[1],originalIndex:e.original,originalCrystal:s.map(((a,l)=>{var t,s,i,n,c,o,u,r,d,v;return 2===e.part?{label:a.healthLabel[null==(t=e.original)?void 0:t[l]]??a.healthLabel.at(-1),value:a.health[null==(s=e.original)?void 0:s[l]]??a.health.at(-1),valueMax:(null==(n=a.healthMax)?void 0:n[null==(i=e.original)?void 0:i[l]])??(null==(c=a.healthMax)?void 0:c.at(-1))??0,isPercentage:!!a.isPercentage}:{label:a.attackLabel[null==(o=e.original)?void 0:o[l]]??a.attackLabel.at(-1),value:a.attack[null==(u=e.original)?void 0:u[l]]??a.attack.at(-1),valueMax:(null==(d=a.attackMax)?void 0:d[null==(r=e.original)?void 0:r[l]])??(null==(v=a.attackMax)?void 0:v.at(-1))??0,isPercentage:!!a.isPercentage}})),hasSkin:!!e.hasSkin};if(Q.value[e.editIndex]=i,e.visible){const a={p:l.part,e:e.equipment[0],g:e.equipment[1],o:e.original,s:+e.hasSkin};X.value.e[e.editIndex]=a,ee(),ce()}Y()},ee=()=>{D.value.visible=!1,W.value.close()},ae=()=>{const e=F.value,a=J.value[e.pilot[0]]??J.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,gradationLabel:l.label,level:l.level,index:e.pilot[0],combatIndex:e.combatIndex[0],isMain:e.isMain,quality:l.quality,combat:l.combat.reduce(((a,l,t)=>a+l*q[e.isMain]*C[t]),0),partCombat:l.combat.map((a=>a*q[e.isMain]))};if(R.value[e.editIndex]=t,e.visible){const a={p:e.pilot[0],c:e.combatIndex[0],m:+e.isMain};X.value.p||(X.value.p=[]),X.value.p[e.editIndex]=a,le(),ce()}Y()},le=()=>{F.value.visible=!1,H.value.close()},te=()=>{const e=z.value,a=E.value[e.core[0]]??E.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,pilot:a.pilot,gradationLabel:l.label,level:l.coreLevel,index:e.core[0],combatIndex:e.combatIndex[0],type:e.editIndex+1,combat:l.combat.reduce(((e,a,t)=>e+a*$[l.coreLevel]*C[t]),0),partCombat:l.combat.map((e=>e*$[l.coreLevel]))};if(U.value[e.editIndex]=t,e.visible){const a={c:e.core[0],m:e.combatIndex[0]};X.value.c[e.editIndex]=a,se(),ce()}Y()},se=()=>{z.value.visible=!1,T.value.close()},ie=()=>{const e=G.value,a=A.value[e.weapon[0]]??A.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,gradationLabel:l.label,level:l.level,maxLevel:l.maxLevel,index:e.weapon[0],isMain:e.isMain,combatIndex:e.combatIndex[0],combat:l.combat.reduce(((a,l,t)=>a+l*S[e.isMain]*C[t]),0),partCombat:l.combat.map((a=>a*S[e.isMain])),disabled:l.disabled};if(V.value[e.editIndex]=t,e.visible){const a={w:e.weapon[0],m:e.isMain,c:e.combatIndex[0]};X.value.w||(X.value.w=[]),X.value.w[e.editIndex]=a,ne(),ce()}Y()},ne=()=>{G.value.visible=!1,B.value.close()},ce=()=>{k(w,X.value)},oe=(e,a)=>{const l=JSON.parse(JSON.stringify(e));for(const t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t])){const s=e[t],i=a[t]||[];l[t]=s.map(((e,a)=>a<i.length?{...e,...i[a]}:{...e}))}else"object"==typeof e[t]&&null!==e[t]?l[t]={...e[t],...a[t]}:l[t]=void 0!==a[t]?a[t]:e[t];return l};return(e,a)=>{const l=u("my-page-header"),t=o,k=f,I=x,L=g,M=h,w=y,C=u("uni-popup"),q=u("my-divider"),$=u("my-ad-custom"),S=u("my-bottom-safety-space");return r(),s(c,null,[i(l),i(t,{class:"pt_4"},{default:n((()=>[i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[i(t,{class:"d_flex px_4 items_center"},{default:n((()=>[i(t,{class:"py_4 font_bold"},{default:n((()=>[d("总战力")])),_:1}),i(t,{class:"grow"}),i(t,{class:"py_4"},{default:n((()=>[d(v(Math.round(K.value.combat)),1)])),_:1})])),_:1})])),_:1}),i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(r(!0),s(c,null,_(Q.value,((e,a)=>(r(),b(t,{key:a,class:p(["d_flex items_center px_4 border_b p_relative",0===a?"radius_t":a===Q.value.length-1?"radius_b":""]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(Q.value[e]));D.value={visible:!0,editIndex:e,part:a.part,partLabel:a.partLabel,equipment:[a.equiIndex,a.gradaIndex],original:a.originalIndex,hasSkin:a.hasSkin},W.value.open()})(a)},{default:n((()=>[i(t,{class:"my_3 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[i(k,{class:"text_base"},{default:n((()=>[d(v(e.label||e.partLabel),1)])),_:2},1024),i(k,{class:"text_xs text-info"},{default:n((()=>[d(" - "+v(e.gradationLabel)+" - Lv."+v(e.level),1)])),_:2},1024)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d(v(e.originalCrystal.map((e=>e.label)).join("、")),1)])),_:2},1024),e.hasSkin?(r(),b(t,{key:0,class:"yang-badge basic count circle warning"},{default:n((()=>[d("有皮肤")])),_:1})):m("",!0)])),_:2},1024),i(t,{class:"grow"}),i(t,{class:"text-info text_right"},{default:n((()=>[d(v(e.combat),1)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[d(v(e.partLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(r(!0),s(c,null,_(R.value,((e,a)=>(r(),b(t,{key:a,class:p(["d_flex items_center grow px_2 p_relative",0===a?"radius_l border_r":a===R.value.length-1?"radius_r":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(R.value[e]));F.value={visible:!0,editIndex:e,isMain:a.isMain,pilot:[a.index],combatIndex:[a.combatIndex]},H.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[d(v(e.label||(e.isMain?"主驾驶":"副驾驶")),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d(v(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d("Lv."+v(e.level),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[d(v(Math.round(e.combat)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[d(v(e.isMain?"主驾驶":"副驾驶"),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(r(!0),s(c,null,_(U.value,((e,a)=>(r(),b(t,{key:a,class:p(["d_flex items_center grow px_2 p_relative",0===a?"radius_t border_r":a===U.value.length-1?"radius_b":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(U.value[e]));z.value={visible:!0,editIndex:e,core:[a.index],combatIndex:[a.combatIndex]},T.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[d(v(e.label),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d("Lv."+v(e.level),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d(v(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[d(v(Math.round(e.combat)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[d("核心"+v(e.type),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(r(!0),s(c,null,_(V.value,((e,a)=>(r(),b(t,{key:a,class:p(["d_flex items_center grow px_2 p_relative",0===a?"radius_t border_r":a===V.value.length-1?"radius_b":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(V.value[e]));G.value={visible:!0,editIndex:e,weapon:[a.index],isMain:a.isMain,combatIndex:[a.combatIndex]},B.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[d(v(e.label),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d(v(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[d("Lv."+v(e.level)+"/"+v(e.maxLevel),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[d(v(e.disabled?"暂无数据":Math.round(e.combat)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[d(v(e.isMain?"主战":`助战${a}`),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(C,{ref_key:"editEquipmentPopup",ref:W,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[D.value.visible?(r(),b(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[d("修改装备("+v(D.value.partLabel)+")",1)])),_:1}),i(t,{class:"grow"}),i(I,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:ee})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("装备")])),_:1}),i(t,{class:"grow"}),i(M,{value:D.value.equipment,class:"popup-picker","immediate-change":"",onChange:a[0]||(a[0]=e=>D.value.equipment=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>{var e;return[(r(!0),s(c,null,_(null==(e=N.value.find((e=>e.part===D.value.part)))?void 0:e.children,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label),1)])),_:2},1024)))),128))]})),_:1}),i(L,null,{default:n((()=>{var e,a,l;return[(r(!0),s(c,null,_((null==(a=null==(e=N.value.find((e=>e.part===D.value.part)))?void 0:e.children[D.value.equipment[0]])?void 0:a.children)||(null==(l=N.value.find((e=>e.part===D.value.part)))?void 0:l.children.at(-1).children),((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label),1)])),_:2},1024)))),128))]})),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("原晶")])),_:1}),i(t,{class:"grow"}),i(M,{value:D.value.original,class:"popup-picker","immediate-change":"",onChange:a[1]||(a[1]=e=>D.value.original=e.detail.value)},{default:n((()=>[(r(!0),s(c,null,_(O.value,((e,a)=>(r(),b(L,{key:a},{default:n((()=>[2===D.value.part?(r(!0),s(c,{key:0},_(e.healthLabel,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e),1)])),_:2},1024)))),128)):m("",!0),2!==D.value.part?(r(!0),s(c,{key:1},_(e.attackLabel,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e),1)])),_:2},1024)))),128)):m("",!0)])),_:2},1024)))),128))])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("是否有皮肤")])),_:1}),i(t,{class:"grow"}),i(w,{checked:D.value.hasSkin,onChange:a[2]||(a[2]=e=>D.value.hasSkin=e.detail.value)},null,8,["checked"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(I,{class:"yang-button outline block","hover-class":"hover",onClick:ee},{default:n((()=>[d("取消")])),_:1}),i(I,{class:"yang-button primary block","hover-class":"hover",onClick:Z},{default:n((()=>[d("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):m("",!0)])),_:1},512),i(C,{ref_key:"editPilotPopup",ref:H,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[F.value.visible?(r(),b(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[d("修改驾驶员（"+v(F.value.isMain?"主":"副")+"驾驶）",1)])),_:1}),i(t,{class:"grow"}),i(I,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:le})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("驾驶员")])),_:1}),i(t,{class:"grow"}),i(M,{value:F.value.pilot,class:"popup-picker","immediate-change":"",onChange:a[3]||(a[3]=e=>F.value.pilot=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(J.value,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("等级/潜能")])),_:1}),i(t,{class:"grow"}),i(M,{value:F.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[4]||(a[4]=e=>F.value.combatIndex=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(J.value[F.value.pilot[0]].children,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label)+" - "+v(e.disabled?"暂无数据":`${e.combatNum}`),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(I,{class:"yang-button outline block","hover-class":"hover",onClick:le},{default:n((()=>[d("取消")])),_:1}),i(I,{class:"yang-button primary block","hover-class":"hover",onClick:ae},{default:n((()=>[d("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):m("",!0)])),_:1},512),i(C,{ref_key:"editCorePopup",ref:T,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[z.value.visible?(r(),b(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[d("修改核心矩阵（核心"+v(z.value.editIndex+1)+"）",1)])),_:1}),i(t,{class:"grow"}),i(I,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:se})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("核心名称")])),_:1}),i(t,{class:"grow"}),i(M,{value:z.value.core,class:"popup-picker","immediate-change":"",onChange:a[5]||(a[5]=e=>z.value.core=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(E.value,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label)+" - "+v(e.pilot),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("等级/潜能")])),_:1}),i(t,{class:"grow"}),i(M,{value:z.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[6]||(a[6]=e=>z.value.combatIndex=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(E.value[z.value.core[0]].children,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(" Lv."+v(e.coreLevel)+" - "+v(e.label)+" - "+v(e.disabled?"暂无数据":`${e.combatNum}`),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(I,{class:"yang-button outline block","hover-class":"hover",onClick:se},{default:n((()=>[d("取消")])),_:1}),i(I,{class:"yang-button primary block","hover-class":"hover",onClick:te},{default:n((()=>[d("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):m("",!0)])),_:1},512),i(C,{ref_key:"editWeaponPopup",ref:B,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[G.value.visible?(r(),b(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[d("修改最终兵器（"+v(G.value.isMain?"主战":`助战${G.value.editIndex}`)+"）",1)])),_:1}),i(t,{class:"grow"}),i(I,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:ne})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("最终兵器")])),_:1}),i(t,{class:"grow"}),i(M,{value:G.value.weapon,class:"popup-picker","immediate-change":"",onChange:a[7]||(a[7]=e=>G.value.weapon=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(A.value,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d("等阶/等级")])),_:1}),i(t,{class:"grow"}),i(M,{value:G.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[8]||(a[8]=e=>G.value.combatIndex=e.detail.value)},{default:n((()=>[i(L,null,{default:n((()=>[(r(!0),s(c,null,_(A.value[G.value.weapon[0]].children,((e,a)=>(r(),b(t,{key:a,class:"d_flex center"},{default:n((()=>[d(v(e.label)+" - Lv."+v(e.level)+"/"+v(e.maxLevel)+" - "+v(e.disabled?"暂无数据":`${e.combatNum}`),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(I,{class:"yang-button outline block","hover-class":"hover",onClick:ne},{default:n((()=>[d("取消")])),_:1}),i(I,{class:"yang-button primary block","hover-class":"hover",onClick:ie},{default:n((()=>[d("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):m("",!0)])),_:1},512),i(q,{content:"本页内容仅供参考，具体以官方数据为准。"}),i($,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),i(S,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-b1c44e58"]]);export{w as default};
