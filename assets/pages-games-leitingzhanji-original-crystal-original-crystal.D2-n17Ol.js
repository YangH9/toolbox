import{_ as e,r as l,a8 as a,ad as t,c as u,a as s,w as i,F as n,i as c,b as _,v as r,x as d,o as f,g as v,h as p,f as o,n as y,e as m,t as b,d as x,aa as g,ai as q,O as k,ap as w}from"./index-Dhv2RG11.js";import{_ as h}from"./uni-popup.C1fNwW8-.js";import{a as $}from"./config.Dny4K3GL.js";import{f as L}from"./data-all.D5jlNsgm.js";import{d as C}from"./data-map-image.DXxMasNR.js";import"./image.zOWBe0cW.js";const j=e({__name:"original-crystal",setup(e){uni.$sharePageTitle=`超维原晶-${$}`;const j=e=>`/static/web/leitingzhanji/originalCrystal/${e}.jpg`,S=e=>`/static/web/leitingzhanji/quality/${e}.png`,z=l({list:[],active:0}),F=l({list:[],active:0}),O=l({list:[],active:0}),J=l([]),K=l({}),N=l(null),D=l({}),A=l(!1),R=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((e=>[...a()].at(-1).route!==e.url.replace(/^\//,""))),I=t((()=>z.value.list.map((e=>({...e,num:e.value?J.value.filter((l=>l.part===e.value)).length:J.value.length}))))),P=t((()=>{const e=z.value.active;return F.value.list.map((l=>({...l,num:J.value.filter((a=>(!e||a.part===e)&&a.quality===l.value)).length})))})),T=t((()=>{const e=z.value.active,l=F.value.active;return O.value.list.map((a=>({...a,num:J.value.filter((t=>(!e||t.part===e)&&t.quality===l&&t.type===a.value)).length})))})),V=t((()=>{const e=z.value.active,l=F.value.active,a=O.value.active;return J.value.filter((t=>(!e||t.part===e)&&t.quality===l&&t.type===a))}));(()=>{const{partData:e,originalCrystalData:{quality:l,exclusiveSuit:a,generalSuit:t,combatList:u,universality:s,data1:i,data2:n},...c}=JSON.parse(JSON.stringify(L));J.value=[u.filter((e=>e.type)).map((t=>t.quality.map((u=>a.map((a=>e.map(((i,n)=>{const _=e[n],r=l.find((e=>e.value===u)),d=s.find((e=>e.children.includes(t.type))),f=c[`${a.key}List`].find((e=>e.suit===a.suit)).part[n],v=2!==i.value?t.attackDescription.replace("{title}",f.title).replace("{value}",t.attackLabel[u-2]):t.healthDescription.replace("{title}",f.title).replace("{value}",t.healthLabel[u-2]),p=`originalCrystal-${_.value}-${r.value}-2`;return{label:`${r.label} · ${a.label}${_.crystal}${t.type}`,name:`${a.label}${_.crystal}${t.type}`,key:p,part:_.value,partLabel:_.label,quality:r.value,qualityLabel:r.label,suit:a.value,suitLabel:a.label,type:d.value,typeLabel:d.label,equipment:f.title,imgkey:p,qualityKey:`quality-${r.value||4}`,description:v}})))))))),i.children.map((t=>{const u=l.find((e=>e.value===t.quality)),n=e.find((e=>e.value===t.part)),_=a.find((e=>e.suit===t.suit)),r=s.find((e=>e.value===i.exclusive)),d=c[`${_.key}List`].find((e=>e.suit===_.suit)).part.find((e=>e.value===t.part)),f=`originalCrystal-${n.value}-${u.value}-2`;return{label:`${u.label} · ${t.label}`,name:`${t.label}`,key:f,part:n.value,partLabel:n.label,quality:u.value,qualityLabel:u.label,suit:_.value,suitLabel:_.label,type:r.value,typeLabel:r.label,equipment:d.title,imgkey:f,qualityKey:`quality-${u.value||4}`,description:t.description}})),n.part.map(((a,u)=>{const i=e[u];return a.map(((e,a)=>{const n=t[a];return e.growthRate.map(((a,t)=>{const c=l.find((e=>e.value===n.quality[t])),_=s.find((e=>e.children.includes(n.value))),r=Array.isArray(n.label)?n.label[u]:n.label,d=`originalCrystal-${i.value}-${c.value}-1`;return{label:`${c.label} · ${r}${i.crystal}`,name:`${r}${i.crystal}`,key:d,part:i.value,partLabel:i.label,quality:c.value,qualityLabel:c.label,suit:n.value,suitLabel:r,type:_.value,typeLabel:_.label,equipment:`${i.label}通用`,imgkey:d,qualityKey:`quality-${c.value||4}`,description:e.description.replace("{value}",a)}}))}))}))].flat(4),F.value={list:l.reverse().map((e=>({label:e.label,value:e.value}))),active:l[0].value},O.value={list:s.map((e=>({label:e.label,value:e.value}))),active:s[0].value},z.value={list:[{label:"全部",value:0}].concat(e.map((e=>({label:e.label,value:e.value})))),active:0};const{originalCrystal:_,quality:r}=JSON.parse(JSON.stringify(C));K.value={..._,...r}})();const B=e=>{var l;"trial"!==(null==(l=uni.getAccountInfoSync)?void 0:l.call(uni).miniProgram.envVersion)&&(N.value.open(),D.value=JSON.parse(JSON.stringify(e)))},E=()=>{A.value=!A.value},G=l(null),H=()=>{G.value.open()};return(e,l)=>{const a=_("my-page-header"),t=c,$=x,L=q,C=k,J=r(d("uni-popup"),h),K=_("my-divider"),M=_("my-ad-custom"),Q=_("my-bottom-safety-space");return f(),u(n,null,[s(a),s(t,{class:"pt_4"},{default:i((()=>[s(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:i((()=>[s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(f(!0),u(n,null,o(I.value,((e,l)=>(f(),v(t,{key:l,class:y(["yang-tabs__item d_flex vertical items_center",z.value.active===e.value?"active":""]),onClick:l=>z.value.active=e.value},{default:i((()=>[s(t,null,{default:i((()=>[m(b(e.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:i((()=>[m(b(e.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(f(!0),u(n,null,o(P.value,((e,l)=>(f(),v(t,{key:l,class:y(["yang-tabs__item d_flex vertical items_center",F.value.active===e.value?"active":""]),onClick:l=>F.value.active=e.value},{default:i((()=>[s(t,null,{default:i((()=>[m(b(e.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:i((()=>[m(b(e.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(f(!0),u(n,null,o(T.value,((e,l)=>(f(),v(t,{key:l,class:y(["yang-tabs__item d_flex vertical items_center",O.value.active===e.value?"active":""]),onClick:l=>O.value.active=e.value},{default:i((()=>[s(t,null,{default:i((()=>[m(b(e.label),1)])),_:2},1024),s(t,{class:"text_xs"},{default:i((()=>[m(b(e.num),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),A.value?p("",!0):(f(),v(t,{key:0,class:"d_flex wrap px_2 pb_1 main_box"},{default:i((()=>[(f(!0),u(n,null,o(V.value,((e,l)=>(f(),v(t,{key:l,class:"col_3 d_flex vertical mt_2 pt_2 px_1",onClick:l=>B(e)},{default:i((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:i((()=>[s($,{class:"yang-avatar main_picture",src:j(e.imgkey),mode:"aspectFill"},null,8,["src"]),s($,{class:"yang-avatar main_picture_border",src:S(e.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:2},1024),s(t,{class:"d_flex vertical items_center"},{default:i((()=>[s(t,null,{default:i((()=>[m(b(e.qualityLabel),1)])),_:2},1024),s(t,null,{default:i((()=>[m(b(e.name),1)])),_:2},1024),s(t,null,{default:i((()=>[m(b(e.equipment),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})),A.value?(f(),v(t,{key:1,class:"d_flex vertical px_2 pb_1 main_box"},{default:i((()=>[(f(!0),u(n,null,o(V.value,((e,l)=>(f(),v(t,{key:l,class:"d_flex mt_2 pt_2 px_1",onClick:l=>B(e)},{default:i((()=>[s(t,{class:"main_picture_box mx_auto"},{default:i((()=>[s($,{class:"yang-avatar main_picture",src:j(e.imgkey),mode:"aspectFill"},null,8,["src"]),s($,{class:"yang-avatar main_picture_border",src:S(e.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:2},1024),s(t,{class:"d_flex vertical grow pl_2"},{default:i((()=>[s(t,{class:"d_flex content_between"},{default:i((()=>[s(t,{class:"font_bold text_base"},{default:i((()=>[m(b(e.label),1)])),_:2},1024),s(t,{class:"text_sm"},{default:i((()=>[m(b(e.equipment),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex items_center grow text_wrap"},{default:i((()=>[m(b(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):p("",!0),V.value.length?p("",!0):(f(),v(t,{key:2,class:"d_flex content_center py_4 my_4"},{default:i((()=>[m("该分类无数据")])),_:1}))])),_:1}),s(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:i((()=>[s(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:H},{default:i((()=>[s(t,null,{default:i((()=>[m("养成消耗")])),_:1})])),_:1}),s(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:E},{default:i((()=>[s(t,{class:y(`my-icon my-icon-${A.value?"grid-view":"view-list"} mr_2`)},null,8,["class"]),s(t,null,{default:i((()=>[m(b(A.value?"宫格":"列表"),1)])),_:1})])),_:1}),(f(!0),u(n,null,o(g(R),((e,l)=>(f(),v(L,{key:l,url:e.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:i((()=>[m(b(e.label),1)])),_:2},1032,["url"])))),128))])),_:1}),s(J,{ref_key:"detailRef",ref:N},{default:i((()=>[s(t,{class:"bg-color radius",style:{"max-width":"80vw"}},{default:i((()=>[s(t,{class:"d_flex vertical px_4 py_3"},{default:i((()=>[s(t,{class:"my_2",style:{transform:"scale(1.4)"}},{default:i((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:i((()=>[s($,{class:"yang-avatar main_picture",src:j(D.value.imgkey),mode:"aspectFill"},null,8,["src"]),s($,{class:"yang-avatar main_picture_border",src:S(D.value.qualityKey),mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("名称：")])),_:1}),m(b(D.value.label),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("可装备：")])),_:1}),m(b(D.value.equipment),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("部位：")])),_:1}),m(b(D.value.partLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("品质：")])),_:1}),m(b(D.value.qualityLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("系列：")])),_:1}),m(b(D.value.suitLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info"},{default:i((()=>[m("类型：")])),_:1}),m(b(D.value.typeLabel),1)])),_:1}),s(t,{class:"d_flex content_between"},{default:i((()=>[s(C,{class:"text-info text_nowrap"},{default:i((()=>[m("介绍：")])),_:1}),m(b(D.value.description),1)])),_:1})])),_:1})])),_:1})])),_:1},512),s(J,{ref_key:"consumeDialogRef",ref:G},{default:i((()=>[s(t,{class:"bg-color radius py_3",style:{width:"80vw"}},{default:i((()=>[s(t,{class:"d_flex center px_4"},{default:i((()=>[s(t,null,{default:i((()=>[m("养成攻略")])),_:1})])),_:1}),s(K,{content:"合成"}),s(t,{class:"d_flex vertical px_4 pb_3"},{default:i((()=>[s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("5 白合成 1 绿")])),_:1}),s(t,null,{default:i((()=>[m("10000金币")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("5 绿合成 1 蓝")])),_:1}),s(t,null,{default:i((()=>[m("20000金币")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("5 蓝合成 1 紫")])),_:1}),s(t,null,{default:i((()=>[m("50000金币")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("5 紫合成 1 金")])),_:1}),s(t,null,{default:i((()=>[m("100000金币")])),_:1})])),_:1})])),_:1}),s(K,{content:"装备晶化"}),s(t,{class:"d_flex vertical px_4 pb_3"},{default:i((()=>[s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("S紫(除异形套)")])),_:1}),s(t,{class:"text_right"},{default:i((()=>[m("出5个，保底1紫4绿，"),w("br"),m("较大概率出高品质")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("异形套")])),_:1}),s(t,{class:"text_right"},{default:i((()=>[m("出5个，保底1蓝4绿，"),w("br"),m("小概率出紫、金")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("幻影套")])),_:1}),s(t,{class:"text_right"},{default:i((()=>[m("出3个，保底1绿2白，"),w("br"),m("大概率出蓝，小概率出紫")])),_:1})])),_:1}),s(t,{class:"d_flex items_center content_between"},{default:i((()=>[s(t,null,{default:i((()=>[m("普通紫")])),_:1}),s(t,{class:"text_right"},{default:i((()=>[m("出3个，保底3白，"),w("br"),m("较大概率出绿，小概率出蓝")])),_:1})])),_:1})])),_:1}),s(K,{content:"建议溢出的普通紫拆分合成、S紫晶化。"})])),_:1})])),_:1},512),s(K,{content:"本页内容仅供参考，具体以官方数据为准。"}),s(M,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),s(Q,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-06c13668"]]);export{j as default};
