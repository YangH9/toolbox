import{r as e,c as t,a as l,w as a,F as i,i as n,b as c,o as r,f as s,n as o,e as u,t as f,g as p,ai as x,aj as d}from"./index-DqKf1Ldz.js";import{g as y}from"./data-all.P-CFyQxg.js";import{a as _}from"./config.Dny4K3GL.js";const b={__name:"count-experience",setup(b){uni.$sharePageTitle=`经验计算-${_}`;const m=[{title:"蓝色 30~45",key:"blue_30"},{title:"蓝色 0~45",key:"blue"},{title:"绿色 25~30",key:"green_25"},{title:"绿色 0~30",key:"green"},{title:"白色 0~25",key:"white"}],k=e(m[0].key),v=e([{title:"蓝色 30~45级",experience:105180},{title:"蓝色 0~45级",experience:164340},{title:"绿色 25~30级",experience:21360},{title:"绿色 0~30级",experience:59160},{title:"白色 0~25级",experience:37800}]),h=e([]);y.forEach((e=>{"magicCube"===e.key?e.children.forEach((t=>{h.value.push({title:t.label,key:`${e.key}-${t.value}`,quality:t.quality,experience:t.exp})})):"wreckage"===e.key&&e.children.forEach((t=>{t.level.forEach((l=>{h.value.push({title:t.label.replace("{level}",`Lv${l.value}`),key:`${e.key}-${t.value}`,quality:t.quality,level:l.value,experience:l.exp,access:[l.ordinary,l.hero]})}))}))}));(()=>{function e(e,t){const l=e.filter((e=>e.experience>0)).sort(((e,t)=>t.experience/(t.quality+1)-e.experience/(e.quality+1)));let a=1/0,i=null;const n=[{index:0,currentExp:0,used:new Array(l.length).fill(0),overflow:1/0}];for(;n.length>0;){const{index:e,currentExp:c,used:r,overflow:s}=n.pop();if(c>=t+a)continue;if(c>=t){const e=c-t;if(e<a&&(a=e,i=[...r],0===a))break;continue}if(e>=l.length)continue;const o=l[e];for(let l=Math.ceil((t-c)/o.experience)+1;l>=0;l--){const i=c+l*o.experience,s=i-t;if(s>=0&&s>=a)continue;const u=[...r];u[e]=l,n.push({index:e+1,currentExp:i,used:u,overflow:s})}}if(!i)return null;const c={combination:[],totalExperience:t+a,overflow:a};return i.forEach(((e,t)=>{e>0&&c.combination.push({key:l[t].key,title:l[t].title,quality:l[t].quality,count:e,experience:l[t].experience})})),c}v.value.forEach((t=>{t.materials=[e(h.value,t.experience)]}))})();return(e,y)=>{const _=c("my-page-header"),b=n,h=c("my-divider"),g=c("my-ad-custom"),w=c("my-bottom-safety-space");return r(),t(i,null,[l(_),l(b,{class:""},{default:a((()=>[l(b,{class:"yang-nav-tabs wrapper sticky shadow mb_4"},{default:a((()=>[(r(),t(i,null,s(m,((e,t)=>l(b,{key:t,class:o(["yang-tabs__item",k.value===e.key?"active":""]),onClick:e=>(e=>{k.value=m[e].key,x().selectAll(".floor_box").boundingClientRect((t=>{if(t&&t[e]){const l=t.reduce(((t,l,a)=>a<e?t+l.height:t),0);d({scrollTop:l})}})).exec()})(t)},{default:a((()=>[u(f(e.title),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),l(h,{content:"部分常用装备升级所需最佳经验搭配。"}),(r(!0),t(i,null,s(v.value,((e,n)=>(r(),p(b,{key:n,class:"floor_box pb_4"},{default:a((()=>[l(b,{class:"mx_4 shadow radius bg-color py_2"},{default:a((()=>[l(b,{class:"d_flex items_center px_4 py_2 mb_1 content_between border_b"},{default:a((()=>[l(b,{class:"font_bold"},{default:a((()=>[u(f(e.title),1)])),_:2},1024),l(b,{class:"text_xs text-info"},{default:a((()=>[u("经验消耗："+f(e.experience),1)])),_:2},1024)])),_:2},1024),(r(!0),t(i,null,s(e.materials,((e,n)=>(r(),p(b,{key:n,class:"d_flex vertical px_4"},{default:a((()=>[l(b,{class:""},{default:a((()=>[u("溢出经验："+f(e.overflow),1)])),_:2},1024),l(b,{class:"d_flex wrap"},{default:a((()=>[(r(!0),t(i,null,s(e.combination,((e,t)=>(r(),p(b,{key:t},{default:a((()=>[u(f(e.title)+"("+f(e.experience)+") * "+f(e.count)+"、",1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128)),l(g,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),l(w,{version:""})])),_:1})],64)}}};export{b as default};
