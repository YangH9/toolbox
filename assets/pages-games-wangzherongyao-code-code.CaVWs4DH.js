import{_ as a,r as e,Q as t,ad as s,k as l,E as o,at as c,s as n,c as r,a as u,w as i,F as d,G as _,H as m,J as f,i as b,b as p,o as y,g,h as v,e as x,p as h,n as w,t as T,f as D,u as k,x as G}from"./index-Be777EZN.js";import{a as C}from"./config.HomzqitU.js";const M=a({__name:"code",setup(a){const M=f("dayjs");uni.$sharePageTitle=`王者荣耀口令码-${C}`;const I=e([]),j=e({page:1,size:50,total:0}),q=t({getDataTime:0,countdown:0,autoGetDataTimer:0,autoGetDataInterval:18e4,manualGetDataInterval:6e4}),z=s((()=>{const{page:a,size:e}=j.value;return I.value.slice(0,e*a)})),H=()=>{const a=Date.now(),e=(q.getDataTime+q.manualGetDataInterval-a)/1e3;clearTimeout(q.autoGetDataTimer),q.countdown=Math.floor(e),Math.floor(e)>0&&(q.autoGetDataTimer=setTimeout((()=>{H()}),1e3-a%1e3))},A=()=>{q.countdown||(_({title:"加载中..."}),m(),I.value=new Array(50).fill(1).map(((a,e)=>({code:new Array(8).fill(1).map((a=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"[Math.floor(52*Math.random())])).join(""),createTime:Date.now()-Math.floor(24*Math.random()*60*60*1e3)}))).sort(((a,e)=>M(e.createTime).valueOf()-M(a.createTime).valueOf())),q.getDataTime=Date.now(),H())};return l((()=>{A()})),o((()=>{clearTimeout(q.autoGetDataTimer)})),c((async()=>{const{size:a,page:e,total:t}=j.value;t<a*e?n({title:"没有更多数据了，刷新看看",icon:"none"}):j.value.page++})),(a,e)=>{const t=p("my-page-header"),s=b,l=h,o=p("my-ad-custom"),c=p("my-divider"),_=p("my-bottom-safety-space");return y(),r(d,null,[u(t),u(s,{class:"pt_4"},{default:i((()=>[u(s,{class:"mx_4 mb_4 shadow radius bg-color"},{default:i((()=>[u(s,{class:"d_flex px_4 py_2 items_center border_b"},{default:i((()=>[u(s,{class:"grow"},{default:i((()=>[x("王者荣耀口令码（测试）")])),_:1}),u(l,{class:w(["yang-button primary extra-small text",{disabled:q.countdown}]),onClick:A},{default:i((()=>[u(s,{class:"my-icon-refresh"}),u(s,{class:"ml_1"},{default:i((()=>[x(T(q.countdown||""),1)])),_:1})])),_:1},8,["class"])])),_:1}),(y(!0),r(d,null,D(z.value,((a,e)=>(y(),r(d,{key:e},[u(s,{class:w(["d_flex px_4 py_2 items_center border_b",[e%2?"":"zebra-stripes",e===z.value.length-1?"radius_b":""]]),"hover-class":"bg-hover",onClick:e=>(async a=>{G({data:a.uid,success:()=>{n({title:"已复制到剪贴板",icon:"success"})},fail:()=>{n({title:"复制失败，请检查设备微信权限。",icon:"none"})}})})(a)},{default:i((()=>[u(s,{class:"grow"},{default:i((()=>[u(s,{class:""},{default:i((()=>[x(T(a.code),1)])),_:2},1024)])),_:2},1024),u(s,{class:""},{default:i((()=>[u(s,null,{default:i((()=>[x(T(k(M)(a.createTime).format("HH:mm:ss")),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"]),!((e-2)%12)&&e<z.value.length-10+2?(y(),g(s,{key:0},{default:i((()=>[u(o,{mp_weixin:"adunit-a4678d8d13df3114",mp_qq:"c74f0b30cbf1b82004c9c785b7afc1c0",custom_class:"p_0 m_0"})])),_:1})):v("",!0)],64)))),128)),z.value.length?v("",!0):(y(),g(s,{key:0,class:"mx_4 my_4 py_4"},{default:i((()=>[u(s,{class:"text_center text_xxl font_bold mb_4"},{default:i((()=>[x("暂无口令码")])),_:1}),u(s,{class:"text_center text_xxl font_bold mb_4"},{default:i((()=>[x("快来添加吧")])),_:1}),u(l,{class:"yang-button primary outline block","hover-class":"hover",onClick:a.handleSignInClick},{default:i((()=>[x("签到上榜")])),_:1},8,["onClick"])])),_:1}))])),_:1}),u(s,{class:"fab-button yang-fab d_flex vertical items_end"},{default:i((()=>[u(s,{class:w(["yang-button primary round",{disabled:q.countdown}]),onClick:A},{default:i((()=>[u(s,{class:"my-icon-refresh mb_1"}),u(s,null,{default:i((()=>[x(T(q.countdown||"")+"刷新数据",1)])),_:1})])),_:1},8,["class"])])),_:1}),u(c,{content:"本功能仅为资源整合，具体以游戏内为准。"}),u(o,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),u(_,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-0d233b98"]]);export{M as default};
