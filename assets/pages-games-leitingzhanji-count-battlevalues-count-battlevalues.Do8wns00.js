import{_ as a,r as l,c as e,a as t,w as s,F as c,i as r,b as u,o as b,e as i,t as o,f as n,g as _,n as d,h,m as v,a7 as p,a8 as f,a9 as m}from"./index-DnNFc5C6.js";import{a as k}from"./config.Dny4K3GL.js";import{d as y}from"./data-all.OBQPL_xw.js";import{u as g}from"./uni-popup.DIuCVglS.js";const x=a({__name:"count-battlevalues",setup(a){uni.$sharePageTitle=`战力计算器-${k}`;const x=l([{label:"战机",part:1,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"装甲",part:2,children:[{label:"月华之轮",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"副武器",part:3,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]},{label:"僚机",part:4,children:[{label:"暗夜神锋",children:[{label:"+1",attack:0,health:0},{label:"+2",attack:0,health:0},{label:"+3",attack:0,health:0},{label:"+4",attack:0,health:0},{label:"+5",attack:0,health:0},{label:"+6",attack:0,health:0},{label:"+7",attack:0,health:0},{label:"+8",attack:0,health:0},{label:"+9",attack:0,health:0},{label:"MAX",attack:0,health:0}]}]}]),L=l([{label:"专属百分比",attack:[0,.07,.115,.205],health:[0,.07,.115,.205],isPercentage:!0},{label:"专属数值",attack:[0,308,516,905],health:[0,6156,10320,18105]},{label:"通用百分比",attack:[0,.015,.025,.045],health:[0,.015,.025,.045],isPercentage:!0},{label:"通用数值",attack:[0,60,121,205],health:[0,1207,2414,4104]}]),M=l({label:"皮肤",attack:50,health:1e3}),C=l([{label:"布莱德",coreLabel:"充能火花",level:[{label:"Lv.30",combat:[]},{label:"Lv.50",combat:[]},{label:"Lv.70",combat:[]},{label:"Lv.90",combat:[]},{label:"潜能MAX",combat:[]}]},{label:"莉亚",coreLabel:"星辰守护",level:[{label:"Lv.30",combat:[]},{label:"Lv.50",combat:[]},{label:"Lv.70",combat:[]},{label:"Lv.90",combat:[]},{label:"潜能Lv.1",combat:[]},{label:"潜能Lv.2",combat:[]},{label:"潜能Lv.4",combat:[]}]}]),q=l([{label:"布莱德",coreLabel:"充能火花",level:[{label:"潜能Lv.4",combat:[]}]},{label:"莉亚",coreLabel:"星辰守护",level:[{label:"潜能Lv.1",combat:[]},{label:"潜能Lv.2",combat:[]},{label:"潜能Lv.4",combat:[]}]}]),w=l(null),P=l({visible:!1,part:0,equipment:[0,0],original:[0,0,0,0],hasSkin:!1}),A=l(null),$=l({visible:!1,isMain:!1}),X=l(null),S=l({visible:!1}),j=l({attack:0,health:0,combat:0}),E=l([{key:"",label:"暗夜神锋(MAX)",part:1,partLabel:"战机",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!0},{key:"",label:"月华之轮(MAX)",part:2,partLabel:"装甲",combat:120578,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"18105",value:18105},{label:"4.5%",value:.045,isPercentage:!0},{label:"4104",value:4104}],hasSkin:!1},{key:"",label:"集束光刃(MAX)",part:3,partLabel:"副武器",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!0},{key:"",label:"超旋奇点(MAX)",part:4,partLabel:"僚机",combat:6026,originalCrystal:[{label:"20.5%",value:.205,isPercentage:!0},{label:"905",value:905},{label:"4.5%",value:.045,isPercentage:!0},{label:"205",value:205}],hasSkin:!0}]),H=l([{key:"",label:"莉亚(潜能MAX)",name:"莉亚",level:90,potential:4,isMain:!0,quality:1,combat:4836,partCombat:[1512,18134,1512,906]},{key:"",label:"罗伊(潜能MAX)",name:"罗伊",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[1512,30248,906,906]},{key:"",label:"维多利亚(潜能MAX)",name:"维多利亚",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[906,30248,1512,906]},{key:"",label:"娜塔莉(潜能MAX)",name:"娜塔莉",level:90,potential:4,isMain:!1,quality:1,combat:1451,partCombat:[1512,18134,906,1512]}]),I=l([{key:"",label:"希望之光(Lv4)",name:"希望之光",level:4,type:1,typeLabel:"核心1",quality:1,combat:1209,partCombat:[1512,30248,906,906]},{key:"",label:"星辰守护(Lv4)",name:"星辰守护",level:4,type:1,typeLabel:"核心2",quality:1,combat:1209,partCombat:[1512,18134,1512,906]},{key:"",label:"能量倾泻(Lv4)",name:"能量倾泻",level:4,type:1,typeLabel:"核心3",quality:1,combat:1209,partCombat:[1512,18134,906,1512]}]);(()=>{const a=y.partData,l=y.planeOption,e=y.aresOption,t=y.planeList,s=y.aresList,c=y.driverList;x.value=a.map(((a,c)=>({label:a.label,part:a.value,children:[t.map(((e,t)=>e.part[c].quality.map(((t,s)=>{let c=l.quality[s];return{label:t,partLabel:a.label,key:`plane-${a.value}-${e.suit}-${c.value}`,part:a.value,quality:c.value,suit:e.suit,children:c.gradation.map(((a,l)=>{const t=a.value?a.isMax?"MAX":`+${a.value}`:"",r=e.combat[s][l].at(-1);return{label:`${c.label}${t}`,value:a.value,isMax:a.isMax,laval:a.maxLevel,attack:r.attack,health:r.health}}))}})))),s.map(((l,t)=>l.part[c].quality.map(((t,s)=>{let c=e.quality[s];return{label:t,partLabel:a.label,key:`ares-${a.value}-${l.suit}-${c.value}`,part:a.value,quality:c.value,suit:l.suit,children:c.gradation.map(((a,e)=>{const t=a.value?a.isMax?"MAX":`+${a.value}`:"",r=l.combat[s][e].at(-1);return{label:`${c.label}${t}`,value:a.value,isMax:a.isMax,laval:a.maxLevel,attack:r.basicAttack+r.syncAttack,health:r.basicHealth+r.syncHealth}}))}}))))].flat(2)}))),C.value=c.map((a=>({label:a.label,key:`driver-${a.star}`})))})();(()=>{const a=[0,0,0,0];E.value.forEach(((l,e)=>{a[e]=l.combat,l.hasSkin&&(a[e]+=2===l.part?M.value.health:M.value.attack),H.value.forEach((l=>{l.isMain?a[e]+=Math.round(1*l.partCombat[e]):a[e]+=Math.round(.3*l.partCombat[e])})),I.value.forEach((l=>{a[e]+=Math.round(.25*l.partCombat[e])}));const t=l.originalCrystal.filter((a=>a.isPercentage)).reduce(((a,l)=>a+l.value),0),s=l.originalCrystal.filter((a=>!a.isPercentage)).reduce(((a,l)=>a+l.value),0);a[e]+=~~(a[e]*t),a[e]+=s})),j.value.combat=a[0]+~~(.05015*a[1])+a[2]+a[3]})();const O=a=>{const l=a.currentTarget.dataset.index,e=E.value[l];P.value={visible:!0,part:e.part,equipment:[0,0],original:e.originalCrystal.map(((a,l)=>(2===e.part?L.value[l].health:L.value[l].attack).findIndex((l=>l===a.value)))),hasSkin:e.hasSkin},w.value.open()},T=()=>{D()},D=()=>{P.value.visible=!1,w.value.close()},F=a=>{$.value={visible:!0}},z=()=>{D()},B=()=>{$.value.visible=!1,A.value.close()},G=a=>{S.value={visible:!0}},J=()=>{D()},K=()=>{S.value.visible=!1,X.value.close()};return(a,l)=>{const k=u("my-page-header"),y=r,M=u("my-divider"),N=u("my-ad-custom"),Q=u("my-bottom-safety-space"),R=v,U=f,V=p,W=m;return b(),e(c,null,[t(k),t(y,{class:"pt_4"},{default:s((()=>[t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[t(y,{class:"d_flex px_4 items_center"},{default:s((()=>[t(y,{class:"py_4 font_bold"},{default:s((()=>[i("总战力")])),_:1}),t(y,{class:"grow"}),t(y,{class:"py_4"},{default:s((()=>[i(o(j.value.combat),1)])),_:1})])),_:1})])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(b(!0),e(c,null,n(E.value,((a,l)=>(b(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===E.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:O},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[i(o(a.label||a.partLabel)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[i(o(a.originalCrystal.map((a=>a.label)).join("、")),1)])),_:2},1024),a.hasSkin?(b(),_(y,{key:0,class:"yang-badge basic count circle warning"},{default:s((()=>[i("有皮肤")])),_:1})):h("",!0)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[i(o(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[i(o(a.partLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(b(!0),e(c,null,n(H.value,((a,l)=>(b(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===H.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:F},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[i(o(a.label||a.typeLabel)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[i(o(a.partCombat.map((l=>Math.round(l*(a.isMain?1:.3)))).join("、")),1)])),_:2},1024)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[i(o(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[i(o(a.isMain?"主驾驶":"副驾驶"),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(y,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[(b(!0),e(c,null,n(I.value,((a,l)=>(b(),_(y,{key:l,class:d(["d_flex items_center text_base px_4 p_relative",0===l?"radius_t border_b":l===I.value.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-index":l,onClick:G},{default:s((()=>[t(y,{class:"my_4 p_relative"},{default:s((()=>[i(o(a.label)+" ",1),t(y,{class:"text_xs text-info"},{default:s((()=>[i(o(a.partCombat.map((a=>Math.round(.25*a))).join("、")),1)])),_:2},1024)])),_:2},1024),t(y,{class:"grow"}),t(y,{class:"text-info text_right"},{default:s((()=>[i(o(a.combat),1)])),_:2},1024),t(y,{class:"yang-badge ribbon"},{default:s((()=>[t(y,{class:"content basic"},{default:s((()=>[i(o(a.typeLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","data-index"])))),128))])),_:1}),t(M,{content:"本页内容仅供参考，具体以官方数据为准。"}),t(N,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),t(Q,{version:""}),t(g,{ref_key:"editEquipmentPopup",ref:w,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[P.value.visible?(b(),_(y,{key:0,class:"bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[i("修改装备")])),_:1}),t(y,{class:"grow"}),t(R,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("装备")])),_:1}),t(y,{class:"grow"}),t(V,{value:P.value.equipment,class:"popup-picker",onChange:l[0]||(l[0]=a=>P.value.equipment=a.detail.value)},{default:s((()=>[t(U,null,{default:s((()=>{var a;return[(b(!0),e(c,null,n(null==(a=x.value.find((a=>a.part===P.value.part)))?void 0:a.children,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))]})),_:1}),t(U,null,{default:s((()=>{var a;return[(b(!0),e(c,null,n(null==(a=x.value.find((a=>a.part===P.value.part)))?void 0:a.children[P.value.equipment[0]].children,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))]})),_:1})])),_:1},8,["value"])])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("原晶")])),_:1}),t(y,{class:"grow"}),t(V,{value:P.value.original,class:"popup-picker",onChange:l[1]||(l[1]=a=>P.value.original=a.detail.value)},{default:s((()=>[(b(!0),e(c,null,n(L.value,((a,l)=>(b(),_(U,{key:l},{default:s((()=>[2===P.value.part?(b(!0),e(c,{key:0},n(a.health,((l,e)=>(b(),_(y,{key:e,class:"d_flex center"},{default:s((()=>[i(o(a.isPercentage?~~(1e4*l)/100+"%":l),1)])),_:2},1024)))),128)):h("",!0),2!==P.value.part?(b(!0),e(c,{key:1},n(a.attack,((l,e)=>(b(),_(y,{key:e,class:"d_flex center"},{default:s((()=>[i(o(a.isPercentage?~~(1e4*l)/100+"%":l),1)])),_:2},1024)))),128)):h("",!0)])),_:2},1024)))),128))])),_:1},8,["value"])])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("是否有皮肤")])),_:1}),t(y,{class:"grow"}),t(W,{checked:P.value.hasSkin},null,8,["checked"])])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(R,{class:"yang-button outline block","hover-class":"hover",onClick:D},{default:s((()=>[i("取消")])),_:1}),t(R,{class:"yang-button primary block","hover-class":"hover",onClick:T},{default:s((()=>[i("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})):h("",!0)])),_:1},512),t(g,{ref_key:"editPilotPopup",ref:A,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[t(y,{class:"bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[i("修改驾驶员（主驾驶）")])),_:1}),t(y,{class:"grow"}),t(R,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("驾驶员")])),_:1}),t(y,{class:"grow"}),(b(),_(V,{key:0,value:$.value.original,class:"popup-picker"},{default:s((()=>[t(U,null,{default:s((()=>[(b(!0),e(c,null,n(C.value,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))])),_:1}),t(U,null,{default:s((()=>[(b(!0),e(c,null,n(C.value,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("潜能")])),_:1}),t(y,{class:"grow"}),(b(),_(V,{key:0,value:$.value.original,class:"popup-picker"},{default:s((()=>[t(U,null,{default:s((()=>[(b(!0),e(c,null,n(C.value,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(R,{class:"yang-button outline block","hover-class":"hover",onClick:B},{default:s((()=>[i("取消")])),_:1}),t(R,{class:"yang-button primary block","hover-class":"hover",onClick:z},{default:s((()=>[i("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})])),_:1},512),t(g,{ref_key:"editCorePopup",ref:X,type:"bottom","safe-area":!1,"mask-click":!1},{default:s((()=>[t(y,{class:"bg-color radius_t"},{default:s((()=>[t(y,{class:"d_flex px_4 py_3 items_center"},{default:s((()=>[t(y,{class:"font_bold"},{default:s((()=>[i("修改核心矩阵（上）")])),_:1}),t(y,{class:"grow"}),t(R,{class:"yang-button danger outline extra-small my-icon-delete","hover-class":"hover"})])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(y,{class:"title"},{default:s((()=>[i("核心名称")])),_:1}),t(y,{class:"grow"}),(b(),_(V,{key:0,value:S.value.original,class:"popup-picker"},{default:s((()=>[t(U,null,{default:s((()=>[(b(!0),e(c,null,n(q.value,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))])),_:1}),t(U,null,{default:s((()=>[(b(!0),e(c,null,n(q.value,((a,l)=>(b(),_(y,{key:l,class:"d_flex center"},{default:s((()=>[i(o(a.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"]))])),_:1}),t(y,{class:"d_flex px_4 py_3 items_center border_t"},{default:s((()=>[t(R,{class:"yang-button outline block","hover-class":"hover",onClick:K},{default:s((()=>[i("取消")])),_:1}),t(R,{class:"yang-button primary block","hover-class":"hover",onClick:J},{default:s((()=>[i("保存")])),_:1})])),_:1}),t(y,{class:"h_safe"})])),_:1})])),_:1},512)])),_:1})],64)}}},[["__scopeId","data-v-4c9d85fe"]]);export{x as default};
