import{_ as e,r as a,aa as l,aj as t,c as s,a as i,w as u,F as n,i as r,b as c,B as o,C as v,o as _,g as d,h as f,f as b,n as p,e as y,t as m,d as x,u as g,ab as k,A as w}from"./index-C7QeZeCo.js";import{_ as h}from"./uni-popup.CUkA9pSv.js";import{a as q}from"./config.Dny4K3GL.js";import{f as C}from"./data-all.154RLuAQ.js";import{d as L}from"./data-map-image.DW7GYr6e.js";import"./image.zOWBe0cW.js";const M=e({__name:"driver",setup(e){uni.$sharePageTitle=`驾驶员-${q}`;const M=(e,a="jpg")=>`/static/web/leitingzhanji/driver/${e}.${a}`,$=e=>`/static/web/leitingzhanji/quality/${e}.png`,j={};C.driverOption.position.forEach((e=>j[e.value]=e.combat));const T={};C.driverOption.core.forEach((e=>T[e.value]=e.combat));const z=a({list:[{label:"基础",value:"base"},{label:"潜能",value:"potential"},{label:"矩阵核心",value:"core"}],active:"base"}),O=a({list:[{label:"稀有度",value:"rarity"},{label:"星座",value:"star"},{label:"品阶",value:"quality"},{label:"核心等级",value:"coreLevel"}],active:"rarity"}),D=a({list:[],active:""}),F=a({list:[],active:""}),S=a({list:[],active:""}),J=a({list:[],active:""}),N=a([]),K=a({}),A=a(null),E=a({}),I=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((e=>[...l()].at(-1).route!==e.url.replace(/^\//,""))),P=a("drivertype-1"),X=a(!1),B=t((()=>{const{active:e}=z.value,{active:a}=O.value,{active:l}=F.value,{active:t}=D.value,{active:s}=S.value,{active:i}=J.value;return N.value.filter((a=>a.dimension===e)).filter((e=>"star"===a?e.star===t:"rarity"===a?e.rarity===l:"quality"===a?e.quality===s:"coreLevel"!==a||e.coreLevel===i)).sort(((e,l)=>"rarity"===a?e.star!==l.star?l.star-e.star:l.quality!==e.quality?l.quality-e.quality:l.gradation-e.gradation:"star"===a?l.quality!==e.quality?l.quality-e.quality:l.gradation-e.gradation:"quality"===a?l.star!==e.star?l.star-e.star:l.gradation-e.gradation:"coreLevel"!==a||(l.star!==e.star?l.star-e.star:l.gradation-e.gradation)))}));(()=>{const{partData:e,driverOption:a,driverList:l}=JSON.parse(JSON.stringify(C));D.value.list=a.star.map((e=>({label:e.label,value:e.value}))).reverse(),D.value.active=D.value.list[0].value,F.value.list=a.rarity.map((e=>({label:e.label,value:e.value}))).reverse(),F.value.active=F.value.list[0].value,S.value.list=a.quality.filter(((e,a)=>a)).map((e=>({label:e.label,value:e.value}))).reverse(),S.value.active=S.value.list[0].value,J.value.list=a.core.map((e=>({label:e.label,value:e.value}))).reverse(),J.value.active=J.value.list[0].value,N.value=l.map((l=>{const t=a.star.find((e=>e.value===l.star)),s=a.rarity.find((e=>e.value===l.rarity)),i=l.potential.length;return[l.combat.map(((i,u)=>{const n=a.quality[u],r=i.at(-1),c=`driver-${t.value}-${n.value}`;return{label:l.title,key:c,stunt:l.stunt,dimension:"base",level:r.level,combat:r.part,copilotCombat:r.part.map((e=>e*j[!1])),combatTotal:r.part.reduce(((a,l,t)=>a+l*j[!0]*e[t].combat),0),copilotCombatTotal:r.part.reduce(((a,l,t)=>a+l*j[!1]*e[t].combat),0),star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:n.value,qualityLabel:n.label,material:n.material.num,imgkey:n.value?c:`driver-${t.value}`,qualityKey:`quality-${n.value||4}`,description:l.description,skillDescription:l.skillDescription[u]}})).filter(((e,a)=>a)),l.potential.map(((u,n)=>{const r=l.combat.length-1,c=a.quality[r],o=a.potential.find((e=>e.rarity===l.rarity)).material[n],v=`driver-${t.value}-${c.value}`;return{label:l.title,key:v,stunt:l.stunt,dimension:"potential",coreLevel:u.coreLevel,combat:u.part,copilotCombat:u.part.map((e=>e*j[!1])),combatTotal:u.part.reduce(((a,l,t)=>a+l*j[!0]*e[t].combat),0),copilotCombatTotal:u.part.reduce(((a,l,t)=>a+l*j[!1]*e[t].combat),0),gradation:n+1,gradationLabel:n+1===i?"MAX":`${n+1}/${i}`,star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:c.value,qualityLabel:c.label,material:o.num,imgkey:c.value?v:`driver-${t.value}`,qualityKey:`quality-${c.value||4}`,description:l.description,skillDescription:l.skillDescription[r]}})),l.potential.map(((u,n)=>{const r=l.combat.length-1,c=a.quality[r],o=a.potential.find((e=>e.rarity===l.rarity)).material[n],v=`driver-${t.value}-${c.value}`;return{label:l.stunt,key:v,dimension:"core",coreLevel:u.coreLevel,combat:u.part.map(((e,a)=>e*T[u.coreLevel])),combatTotal:u.part.reduce(((a,l,t)=>a+l*T[u.coreLevel]*e[t].combat),0),gradation:n+1,gradationLabel:n+1===i?"MAX":`${n+1}/${i}`,star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:c.value,qualityLabel:c.label,material:o.num,imgkey:c.value?v:`driver-${t.value}`,qualityKey:`quality-${c.value||4}`,description:l.description,skillDescription:l.coreDescription[u.coreLevel]}})).filter((e=>e.coreLevel))]})).flat(2);const{driver:t,driverType:s,quality:i}=JSON.parse(JSON.stringify(L));K.value={...t,...s,...i}})();const R=()=>{P.value="drivertype-1"===P.value?"drivertype-2":"drivertype-1"},V=()=>{P.value="drivertype-1",X.value=!X.value};return(e,a)=>{const l=c("my-page-header"),t=r,q=x,C=k,L=w,j=o(v("uni-popup"),h),T=c("my-divider"),N=c("my-ad-custom"),K=c("my-bottom-safety-space");return _(),s(n,null,[i(l),i(t,{class:"pt_4"},{default:u((()=>[i(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:u((()=>[i(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(_(!0),s(n,null,b(z.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",z.value.active===e.value?"active":""]),onClick:a=>z.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(_(!0),s(n,null,b(O.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",O.value.active===e.value?"active":""]),onClick:a=>O.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"star"===O.value.active?(_(),d(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(_(!0),s(n,null,b(D.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",D.value.active===e.value?"active":""]),onClick:a=>D.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"rarity"===O.value.active?(_(),d(t,{key:1,class:"yang-nav-tabs evenly px_3 px_0 py_1 border_b"},{default:u((()=>[(_(!0),s(n,null,b(F.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",F.value.active===e.value?"active":""]),onClick:a=>F.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"quality"===O.value.active?(_(),d(t,{key:2,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(_(!0),s(n,null,b(S.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",S.value.active===e.value?"active":""]),onClick:a=>S.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"coreLevel"===O.value.active?(_(),d(t,{key:3,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(_(!0),s(n,null,b(J.value.list,((e,a)=>(_(),d(t,{key:a,class:p(["yang-tabs__item",J.value.active===e.value?"active":""]),onClick:a=>J.value.active=e.value},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),i(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:u((()=>[(_(!0),s(n,null,b(B.value,((e,a)=>(_(),d(t,{key:a,class:"col_3 d_flex vertical mt_4 px_1",onClick:a=>(e=>{var a;"trial"!==(null==(a=uni.getAccountInfoSync)?void 0:a.call(uni).miniProgram.envVersion)&&(A.value.open(),E.value=JSON.parse(JSON.stringify(e)))})(e)},{default:u((()=>[i(t,{class:"main_picture_box mb_1 mx_auto"},{default:u((()=>[i(q,{class:"yang-avatar main_picture",src:M(e.imgkey),mode:"aspectFill"},null,8,["src"]),i(q,{class:"yang-avatar main_picture_border",src:$(e.qualityKey),mode:"aspectFill"},null,8,["src"]),"core"!==z.value.active?(_(),d(q,{key:0,class:"yang-avatar main_picture_pilot_type",src:M(P.value,"png"),mode:"aspectFill"},null,8,["src"])):f("",!0)])),_:2},1024),i(t,{class:"text_nowrap d_flex content_center"},{default:u((()=>[y(m(e.label)+m(e.gradationLabel),1)])),_:2},1024),X.value?(_(),d(t,{key:0,class:"px_1 text_nowrap"},{default:u((()=>[e.level?(_(),d(t,{key:0,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("Lv.")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(e.level),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.coreLevel?(_(),d(t,{key:1,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("核心等级")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(e.coreLevel),1)])),_:2},1024)])),_:2},1024)):f("",!0),"core"!==z.value.active&&"drivertype-1"!==P.value?(_(),s(n,{key:2},[e.copilotCombatTotal?(_(),d(t,{key:0,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("战力")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.copilotCombatTotal)),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(_(),d(t,{key:1,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("战机")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.copilotCombat[0])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(_(),d(t,{key:2,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("装甲")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.copilotCombat[1])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(_(),d(t,{key:3,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("副武器")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.copilotCombat[2])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(_(),d(t,{key:4,class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("僚机")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.copilotCombat[3])),1)])),_:2},1024)])),_:2},1024)):f("",!0)],64)):(_(),s(n,{key:3},[i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("战力")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.combatTotal)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("战机")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.combat[0])),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("装甲")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.combat[1])),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("副武器")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.combat[2])),1)])),_:2},1024)])),_:2},1024),i(t,{class:"d_flex content_between"},{default:u((()=>[i(t,{class:"text-info"},{default:u((()=>[y("僚机")])),_:1}),i(t,{class:""},{default:u((()=>[y(m(Math.round(e.combat[3])),1)])),_:2},1024)])),_:2},1024)],64))])),_:2},1024)):f("",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),B.value.length?f("",!0):(_(),d(t,{key:4,class:"d_flex content_center py_4 my_4"},{default:u((()=>[y("该分类无数据")])),_:1}))])),_:1}),i(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:u((()=>[(_(!0),s(n,null,b(g(I),((e,a)=>(_(),d(C,{key:a,url:e.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:u((()=>[y(m(e.label),1)])),_:2},1032,["url"])))),128)),X.value&&"core"!==z.value.active?(_(),d(t,{key:0,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:R},{default:u((()=>[i(t,null,{default:u((()=>[y(m("drivertype-1"===P.value?"副":"主")+"驾驶",1)])),_:1})])),_:1})):f("",!0),i(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:V},{default:u((()=>[i(t,{class:p(`my-icon-${X.value?"browse-off":"browse"} mr_2`)},null,8,["class"]),i(t,null,{default:u((()=>[y(m(X.value?"隐藏":"显示")+"战力",1)])),_:1})])),_:1})])),_:1}),i(j,{ref_key:"detailRef",ref:A},{default:u((()=>[i(t,{class:"bg-color radius",style:{"max-width":"80vw"}},{default:u((()=>[i(t,{class:"d_flex vertical px_4 py_3"},{default:u((()=>[i(t,{class:"my_2",style:{transform:"scale(1.4)"}},{default:u((()=>[i(t,{class:"main_picture_box mb_1 mx_auto"},{default:u((()=>[i(q,{class:"yang-avatar main_picture",src:M(E.value.imgkey),mode:"aspectFill"},null,8,["src"]),i(q,{class:"yang-avatar main_picture_border",src:$(E.value.qualityKey),mode:"aspectFill"},null,8,["src"]),"core"!==z.value.active?(_(),d(q,{key:0,class:"yang-avatar main_picture_pilot_type",src:M(P.value,"png"),mode:"aspectFill"},null,8,["src"])):f("",!0)])),_:1})])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("名称：")])),_:1}),y(m(E.value.label),1)])),_:1}),E.value.stunt?(_(),d(t,{key:0,class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("特技：")])),_:1}),y(m(E.value.stunt),1)])),_:1})):f("",!0),"core"!==z.value.active?(_(),d(t,{key:1,class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("位置：")])),_:1}),y(m("drivertype-1"!==P.value?"副":"主")+"驾驶",1)])),_:1})):f("",!0),E.value.level?(_(),d(t,{key:2,class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("等级：")])),_:1}),y(m(E.value.level),1)])),_:1})):f("",!0),E.value.gradationLabel?(_(),d(t,{key:3,class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("等阶：")])),_:1}),y(m(E.value.gradationLabel),1)])),_:1})):f("",!0),E.value.coreLevel?(_(),d(t,{key:4,class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("核心等级：")])),_:1}),y(m(E.value.coreLevel),1)])),_:1})):f("",!0),"core"!==z.value.active&&"drivertype-1"!==P.value?(_(),d(t,{key:5},{default:u((()=>[i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("综合战力：")])),_:1}),y(m(Math.round(E.value.copilotCombatTotal)),1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("战机攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[0])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("装甲生命：")])),_:1}),y(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[1])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("副武器攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[2])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("僚机攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[3])),1)]})),_:1})])),_:1})):(_(),d(t,{key:6},{default:u((()=>[i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("综合战力：")])),_:1}),y(m(Math.round(E.value.combatTotal)),1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("战机攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.combat)?void 0:e[0])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("装甲生命：")])),_:1}),y(m(Math.round(null==(e=E.value.combat)?void 0:e[1])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("副武器攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.combat)?void 0:e[2])),1)]})),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>{var e;return[i(L,{class:"text-info"},{default:u((()=>[y("僚机攻击：")])),_:1}),y(m(Math.round(null==(e=E.value.combat)?void 0:e[3])),1)]})),_:1})])),_:1})),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("星座：")])),_:1}),y(m(E.value.starLabel),1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("品阶：")])),_:1}),y(m(E.value.qualityLabel),1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("类别：")])),_:1}),y(m(E.value.rarityLabel)+"驾驶员",1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info"},{default:u((()=>[y("进阶消耗：")])),_:1}),y(m(E.value.material)+"本命光辉",1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info text_nowrap"},{default:u((()=>[y(m("core"===z.value.active?"核心":"")+"技能：",1)])),_:1}),y(m(E.value.skillDescription),1)])),_:1}),i(t,{class:"d_flex content_between"},{default:u((()=>[i(L,{class:"text-info text_nowrap"},{default:u((()=>[y("介绍：")])),_:1}),y(m(E.value.description),1)])),_:1})])),_:1})])),_:1})])),_:1},512),i(T,{content:"本页内容仅供参考，具体以官方数据为准。"}),i(N,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),i(K,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-8bd689d7"]]);export{M as default};
