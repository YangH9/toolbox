import{r as e,aa as a,B as s,C as l,c as t,o,a as n,w as r,i,p as c,e as u,F as _,x as p,ao as m}from"./index-_z_cEels.js";import{_ as f}from"./uni-popup.C2S6GoET.js";const d={__name:"my-share-button",setup(d){const x=e(null),h=[...a()].at(-1).route,$=`${uni.$sharePageTitle}-${uni.$shareBaseTitle},\n微信内点击：#小程序:Yang昜工具箱\n点击查看更多：${uni.$webBaseUrl}${h}`,b=()=>{navigator.share?p({data:$,success:()=>{m(),x.value.open()},fail:e=>{}}):navigator.share({title:`${uni.$sharePageTitle}-${uni.$shareBaseTitle}`,text:`${uni.$sharePageTitle}，点击查看更多。`,url:`${uni.$webBaseUrl}${h}`})},g=()=>{window.location.href="weixin://"},y=()=>{const e=["mqq://","mqqapi://","mqqwpa://","tencent://"];let a=0;const s=()=>{a<e.length&&(window.location.href=e[a++],setTimeout(s,1e3))};s()},v=()=>{x.value.close()};return(e,a)=>{const p=i,m=c,d=s(l("uni-popup"),f);return o(),t(_,null,[n(m,{class:"yang-button primary circle m_0",onClick:b},{default:r((()=>[n(p,{class:"my-icon-share-1 text_xxl"})])),_:1}),n(d,{ref_key:"popupRef",ref:x},{default:r((()=>[n(p,{class:"bg-color radius"},{default:r((()=>[n(p,{class:"d_flex px_4 py_3 items_center"},{default:r((()=>[n(p,null,{default:r((()=>[u("内容已复制，点击跳转程序。")])),_:1})])),_:1}),n(p,{class:"d_flex px_4 pt_3 pb_1 items_center border_t"},{default:r((()=>[n(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:g},{default:r((()=>[n(p,{class:"my-icon-logo-wechat-stroke-filled text_xxl mr_2"}),u(" 微信 ")])),_:1}),n(m,{class:"yang-button primary small block outline","hover-class":"hover",onClick:y},{default:r((()=>[n(p,{class:"my-icon-logo-qq-filled text_xxl mr_2"}),u(" QQ ")])),_:1})])),_:1}),n(p,{class:"d_flex px_4 pb_3 pt_1 items_center"},{default:r((()=>[n(m,{class:"yang-button outline small block","hover-class":"hover",onClick:v},{default:r((()=>[u("取消")])),_:1})])),_:1})])),_:1})])),_:1},512)],64)}}};export{d as _};
