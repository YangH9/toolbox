import{_ as e,a8 as l,r as a,ad as t,c as s,a as u,w as _,F as d,H as n,i as m,b as r,o as c,e as v,t as p,g as i,f,n as x,aa as o,ai as b}from"./index-Bdagv8pn.js";import{a as y}from"./config.Dny4K3GL.js";const g=e({__name:"team",setup(e){const g=n("dayjs");uni.$sharePageTitle=`战队系统-${y}`;const h=[{label:"战队系统",url:"/pages/games/leitingzhanji/team/team"},{label:"升级经验",url:"/pages/games/leitingzhanji/team/levelup"}].filter((e=>[...l()].at(-1).route!==e.url.replace(/^\//,""))),Y=a({baseLevel:1,baseNum:30,levelupNum:5,memberExp:210}),w=a([{level:1,exp:7e3,num:0},{level:2,exp:15e3,num:0},{level:3,exp:34e3,num:0},{level:4,exp:66e3,num:0},{level:5,exp:0,num:0},{level:6,exp:0,num:0},{level:7,exp:0,num:0},{level:8,exp:0,num:0},{level:9,exp:0,num:0},{level:10,exp:0,num:0},{level:11,exp:0,num:0},{level:12,exp:0,num:0},{level:13,exp:0,num:0},{level:14,exp:0,num:0},{level:15,exp:0,num:0}].map((e=>{const{baseNum:l,levelupNum:a,memberExp:t}=Y.value,s=l+(e.level-1)*a,u=Math.ceil(e.exp/(t*s));return{...e,num:s,day:u}}))),M=a("2025/11/20"),k=a(!0),D=a({day:1,level:1,exp:0,remain:0,num:0,date:""}),j=t((()=>{const{memberExp:e}=Y.value,l=D.value,a=w.value.find((e=>e.level===l.level)),t={day:1,level:1,date:""};return w.value.find((e=>e.level===a.level+1))?(t.level=a.level+1,t.day=Math.ceil((a.exp-l.remain)/(l.num*e)),t.date=g().add(t.day,"day").format("YYYY/MM/DD")):t.level=0,t})),N=a([]),E=t((()=>{const e=N.value;if(k.value)return(e||[]).reverse().slice(0,50)}));return(()=>{const e=g(M.value),l=g().diff(e,"day")+7,a=w.value,{baseLevel:t,baseNum:s,memberExp:u}=Y.value,_=new Array(l).fill(1).reduce(((l,_,d)=>{const n=d+1,m=e.add(d,"day");if(l){const e=l.at(-1),t={day:n,date:m.format("YYYY/MM/DD"),level:e.level,num:e.num,exp:e.exp,remain:e.remain},s=a.find((e=>e.level===t.level));if(t.remain+s.num*u>=s.exp&&s.exp){t.level+=1;const e=a.find((e=>e.level===t.level));t.num=e.num,t.exp=t.exp+e.num*u,t.remain=t.remain+e.num*u-s.exp}else t.exp=t.exp+s.num*u,t.remain=t.remain+s.num*u;return m.isToday()&&(D.value=t),[...l,t]}{const e={day:n,date:m.format("YYYY/MM/DD"),level:t,num:s,exp:u*s,remain:u*s};return m.isToday()&&(D.value=e),[e]}}),null);N.value=_})(),(e,l)=>{const a=r("my-page-header"),t=m,n=r("my-divider"),y=b,g=r("my-ad-custom"),Y=r("my-bottom-safety-space");return c(),s(d,null,[u(a),u(t,{class:"pt_4"},{default:_((()=>[u(t,{class:"mx_4 py_2 shadow radius bg-color"},{default:_((()=>[u(t,{class:"d_flex px_4 items_center content_between border_b"},{default:_((()=>[u(t,{class:"pb_2"},{default:_((()=>[v("战队创建时间")])),_:1}),u(t,null,{default:_((()=>[v(p(M.value),1)])),_:1})])),_:1}),u(t,{class:"d_flex px_4 items_center border_b"},{default:_((()=>[u(t,{class:"py_2"},{default:_((()=>[v("战队创建第 "+p(D.value.day)+" 天，等级: "+p(D.value.level)+"，经验: "+p(D.value.remain),1)])),_:1})])),_:1}),u(t,{class:"d_flex px_4 items_center"},{default:_((()=>[j.value.level?(c(),i(t,{key:0,class:"pt_2"},{default:_((()=>[v("下一级: "+p(j.value.level)+" 预计升级时间："+p(j.value.date),1)])),_:1})):(c(),i(t,{key:1,class:"pt_2"},{default:_((()=>[v("当前已满级")])),_:1}))])),_:1})])),_:1}),u(n,{content:"每日获得的经验上限为战队人数上限乘210"}),u(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:_((()=>[u(t,{class:"d_flex px_4 items_center"},{default:_((()=>[u(t,{class:"py_2"},{default:_((()=>[v("升级列表")])),_:1})])),_:1}),u(t,{class:"mytable d_table w_100p pb_2"},{default:_((()=>[u(t,{class:"d_table_row"},{default:_((()=>[u(t,{class:"d_table_cell"},{default:_((()=>[v("天数")])),_:1}),u(t,{class:"d_table_cell"},{default:_((()=>[v("等级")])),_:1}),u(t,{class:"d_table_cell text_center"},{default:_((()=>[v("人数")])),_:1}),u(t,{class:"d_table_cell text_right"},{default:_((()=>[v("剩余经验")])),_:1}),u(t,{class:"d_table_cell text_right"},{default:_((()=>[v("日期")])),_:1})])),_:1}),(c(!0),s(d,null,f(E.value,((e,l)=>(c(),s(d,{key:l},[e.showMore?(c(),i(t,{key:0,class:"d_table_row text_center"},{default:_((()=>[v("显示更多")])),_:1})):(c(),i(t,{key:1,class:x(["d_table_row",[D.value.date===e.date?"istoday":""]])},{default:_((()=>[u(t,{class:"d_table_cell"},{default:_((()=>[v(p(e.day),1)])),_:2},1024),u(t,{class:"d_table_cell"},{default:_((()=>[v("Lv."+p(e.level),1)])),_:2},1024),u(t,{class:"d_table_cell text_center"},{default:_((()=>[v(p(e.num),1)])),_:2},1024),u(t,{class:"d_table_cell text_right"},{default:_((()=>[v(p(e.remain),1)])),_:2},1024),u(t,{class:"d_table_cell text_right"},{default:_((()=>[v(p(e.date),1)])),_:2},1024)])),_:2},1032,["class"]))],64)))),128))])),_:1})])),_:1}),u(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:_((()=>[(c(!0),s(d,null,f(o(h),((e,l)=>(c(),i(y,{key:l,url:e.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:_((()=>[v(p(e.label),1)])),_:2},1032,["url"])))),128))])),_:1}),u(n,{content:"数据仅供参考，具体以游戏内为准。"}),u(g,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),u(Y,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-61078a64"]]);export{g as default};
