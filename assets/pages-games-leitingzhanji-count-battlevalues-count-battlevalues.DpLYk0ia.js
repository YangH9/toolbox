import{_ as e,r as a,l,a4 as t,c as s,a as i,w as n,F as c,i as o,b as u,v as r,x as d,o as v,e as _,t as b,f as p,g as f,n as m,h as x,O as h,m as g,aj as y,ak as k,al as I,p as L}from"./index-CVY1Uck6.js";import{_ as w}from"./uni-popup.BSfoQPcU.js";import{a as C,b as M}from"./config.Dny4K3GL.js";import{f as q}from"./data-all.CrBo-fNV.js";const S=e({__name:"count-battlevalues",setup(e){uni.$sharePageTitle=`战力计算器-${C}`;const S=`${M}-count-battlevalues`,$=q.partData.map((e=>e.combat)),O={};q.driverOption.position.forEach((e=>O[e.value]=e.combat));const J={};q.driverOption.core.forEach((e=>J[e.value]=e.combat));const N={};q.finalWeaponOption.position.forEach((e=>N[e.value]=e.combat));const P=a([]),E=a(q.originalCrystalList.combatList),A=a({label:"皮肤",attack:50,health:1e3}),j=a([]),X=a([]),W=a([]),D={e:[{p:1,e:100,g:10,o:[3,3,3,3],s:1},{p:2,e:100,g:10,o:[3,3,3,3],s:0},{p:3,e:100,g:10,o:[3,3,3,3],s:1},{p:4,e:100,g:10,o:[3,3,3,3],s:1}],p:[{p:5,c:25,m:1},{p:4,c:25,m:0},{p:7,c:25,m:0},{p:9,c:25,m:0}],c:[{c:5,m:20},{c:7,m:20},{c:9,m:20}],w:[{w:2,c:0,m:1},{w:1,c:0,m:0},{w:0,c:0,m:0}]},H=a(l(S)||JSON.parse(JSON.stringify(D))),F=a(null),T=a({visible:!1,editIndex:0,part:0,partLabel:"",equipment:[0,0],original:[0,0,0,0],hasSkin:!1}),z=a(null),B=a({visible:!1,editIndex:0,isMain:!1,pilot:[0],combatIndex:[0]}),G=a(null),K=a({visible:!1,editIndex:0,core:[0],combatIndex:[0]}),Q=a(null),R=a({visible:!1,editIndex:0,weapon:[0],level:[0],maxLevel:[0],isMain:!1}),U=a({attack:0,health:0,combat:0}),V=a([]),Y=a([]),Z=a([]),ee=a([]);(()=>{const{partData:e,planeOption:a,aresOption:l,driverOption:t,finalWeaponOption:s,planeList:i,aresList:n,driverList:c,finalWeaponList:o}=JSON.parse(JSON.stringify(q));P.value=e.map(((e,t)=>({label:e.label,part:e.value,children:[i.map(((l,s)=>l.part[t].quality.map(((t,s)=>{let i=a.quality[s];return{label:t,partLabel:e.label,key:`plane-${e.value}-${l.suit}-${i.value}`,part:e.value,quality:i.value,suit:l.suit,children:i.gradation.map(((e,a)=>{const t=e.value?(null==e?void 0:e.isMax)?"MAX":`+${e.value}`:"",n=l.combat[s][a].at(-1);return{label:`${i.label}${t}`,value:e.value,isMax:null==e?void 0:e.isMax,level:e.maxLevel,attack:n.attack,health:n.health}}))}})))),n.map(((a,s)=>a.part[t].quality.map(((t,s)=>{let i=l.quality[s];return{label:t,partLabel:e.label,key:`ares-${e.value}-${a.suit}-${i.value}`,part:e.value,quality:i.value,suit:a.suit,children:i.gradation.map(((e,l)=>{const t=e.value?(null==e?void 0:e.isMax)?"MAX":`+${e.value}`:"",n=a.combat[s][l].at(-1);return{label:`${i.label}${t}`,value:e.value,isMax:null==e?void 0:e.isMax,level:e.maxLevel,attack:n.basicAttack+n.syncAttack,health:n.basicHealth+n.syncHealth}}))}}))))].flat(2)}))),j.value=c.map((e=>{const a=e.potential.length;return{label:e.title,star:e.star,key:"driver",children:t.quality.map(((a,l)=>{const t=e.combat[l].at(-1);return{label:a.label,quality:a.value,level:t.level,combat:t.part}})).concat(e.potential.map(((e,l)=>({label:"潜能"+(l+1===a?"MAX":`${l+1}/${a}`),quality:4,level:90,combat:e.part}))))}})),X.value=c.map((e=>{const a=e.potential.length;return{label:e.stunt,pilot:e.title,star:e.star,key:"core",children:[{coreLevel:0,label:"未激活",combat:[0,0,0,0]}].concat(e.potential.map(((e,l)=>({coreLevel:e.coreLevel,label:"潜能"+(l+1===a?"MAX":`${l+1}/${a}`),combat:e.part}))).filter((e=>e.coreLevel)))}})),W.value=o.map((a=>({label:a.title,key:a.value,children:s.quality.map(((l,t)=>l.gradation.map(((i,n)=>{var c;const o=null==(c=s.attribute[t])?void 0:c[n].at(-1);return{label:`${l.label}${i.value?(null==i?void 0:i.isMax)?"MAX":`+${i.value}`:""}`,quality:l.value,level:i.maxLevel,maxLevel:i.maxLevel,combat:e.map((e=>2===e.value?o.health:e.value===a.attackPart?o.attack:0))}})))).flat(2)})))})();t((()=>{(()=>{const{e:e,p:a,c:l,w:t}=de(D,H.value);e.forEach(((e,a)=>{T.value={visible:!1,editIndex:a,part:e.p,partLabel:"",equipment:[e.e,e.g],original:e.o,hasSkin:!!e.s},le()})),a.forEach(((e,a)=>{B.value={visible:!1,editIndex:a,isMain:!!e.m,pilot:[e.p],combatIndex:[e.c]},se()})),l.forEach(((e,a)=>{K.value={visible:!1,editIndex:a,core:[e.c],combatIndex:[e.m]},ne()})),t.forEach(((e,a)=>{R.value={visible:!1,editIndex:a,isMain:!!e.m,weapon:[e.w],combatIndex:[e.c]},oe()}))})()}));const ae=()=>{const e=[0,0,0,0];V.value.forEach(((a,l)=>{e[l]=a.combat,a.hasSkin&&(e[l]+=2===a.part?A.value.health:A.value.attack),Y.value.forEach((a=>{e[l]+=a.partCombat[l]})),Z.value.forEach((a=>{e[l]+=a.partCombat[l]})),ee.value.forEach((a=>{e[l]+=a.partCombat[l]}));const t=a.originalCrystal.filter((e=>e.isPercentage)).reduce(((e,a)=>e+a.value),0),s=a.originalCrystal.filter((e=>!e.isPercentage)).reduce(((e,a)=>e+a.value),0);e[l]+=e[l]*t,e[l]+=s})),U.value.combat=e.reduce(((e,a,l)=>e+a*$[l]),0)};ae();const le=()=>{const e=T.value,a=P.value.find((a=>a.part===e.part)),l=a.children[e.equipment[0]]??a.children.at(-1),t=l.children[e.equipment[1]]??l.children.at(-1),s=E.value,i={label:l.label,key:l.key,part:l.part,partLabel:l.partLabel,gradationLabel:t.label,level:t.level,combat:2===e.part?t.health:t.attack,equiIndex:e.equipment[0],gradaIndex:e.equipment[1],originalIndex:e.original,originalCrystal:s.map(((a,l)=>{var t,s,i,n;return 2===e.part?{label:a.healthLabel[null==(t=e.original)?void 0:t[l]]??a.healthLabel.at(-1),value:a.health[null==(s=e.original)?void 0:s[l]]??a.health.at(-1),isPercentage:!!a.isPercentage}:{label:a.attackLabel[null==(i=e.original)?void 0:i[l]]??a.attackLabel.at(-1),value:a.attack[null==(n=e.original)?void 0:n[l]]??a.attack.at(-1),isPercentage:!!a.isPercentage}})),hasSkin:!!e.hasSkin};if(V.value[e.editIndex]=i,e.visible){const a={p:l.part,e:e.equipment[0],g:e.equipment[1],o:e.original,s:+e.hasSkin};H.value.e[e.editIndex]=a,te(),re()}ae()},te=()=>{T.value.visible=!1,F.value.close()},se=()=>{const e=B.value,a=j.value[e.pilot[0]]??j.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,gradationLabel:l.label,level:l.level,index:e.pilot[0],combatIndex:e.combatIndex[0],isMain:e.isMain,quality:l.quality,combat:l.combat.reduce(((a,l,t)=>a+l*O[e.isMain]*$[t]),0),partCombat:l.combat.map((a=>a*O[e.isMain]))};if(Y.value[e.editIndex]=t,e.visible){const a={p:e.pilot[0],c:e.combatIndex[0],m:+e.isMain};H.value.p||(H.value.p=[]),H.value.p[e.editIndex]=a,ie(),re()}ae()},ie=()=>{B.value.visible=!1,z.value.close()},ne=()=>{const e=K.value,a=X.value[e.core[0]]??X.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,pilot:a.pilot,gradationLabel:l.label,level:l.coreLevel,index:e.core[0],combatIndex:e.combatIndex[0],type:e.editIndex+1,combat:l.combat.reduce(((e,a,t)=>e+a*J[l.coreLevel]*$[t]),0),partCombat:l.combat.map((e=>e*J[l.coreLevel]))};if(Z.value[e.editIndex]=t,e.visible){const a={c:e.core[0],m:e.combatIndex[0]};H.value.c[e.editIndex]=a,ce(),re()}ae()},ce=()=>{K.value.visible=!1,G.value.close()},oe=()=>{const e=R.value,a=W.value[e.weapon[0]]??W.value.at(-1),l=a.children[e.combatIndex[0]]??a.children.at(-1),t={key:a.key,label:a.label,gradationLabel:l.label,level:l.level,maxLevel:l.maxLevel,index:e.weapon[0],isMain:e.isMain,combatIndex:e.combatIndex[0],combat:l.combat.reduce(((a,l,t)=>a+l*N[e.isMain]*$[t]),0),partCombat:l.combat.map((a=>a*N[e.isMain]))};if(ee.value[e.editIndex]=t,e.visible){const a={w:e.weapon[0],m:e.isMain,c:e.combatIndex[0]};H.value.w||(H.value.w=[]),H.value.w[e.editIndex]=a,ue()}ae()},ue=()=>{R.value.visible=!1,Q.value.close()},re=()=>{L(S,H.value)},de=(e,a)=>{const l=JSON.parse(JSON.stringify(e));for(const t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t])){const s=e[t],i=a[t]||[];l[t]=s.map(((e,a)=>a<i.length?{...e,...i[a]}:{...e}))}else"object"==typeof e[t]&&null!==e[t]?l[t]={...e[t],...a[t]}:l[t]=void 0!==a[t]?a[t]:e[t];return l};return(e,a)=>{const l=u("my-page-header"),t=o,L=h,C=g,M=k,q=y,S=I,$=r(d("uni-popup"),w),O=u("my-divider"),J=u("my-ad-custom"),N=u("my-bottom-safety-space");return v(),s(c,null,[i(l),i(t,{class:"pt_4"},{default:n((()=>[i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[i(t,{class:"d_flex px_4 items_center"},{default:n((()=>[i(t,{class:"py_4 font_bold"},{default:n((()=>[_("总战力")])),_:1}),i(t,{class:"grow"}),i(t,{class:"py_4"},{default:n((()=>[_(b(Math.round(U.value.combat)),1)])),_:1})])),_:1})])),_:1}),i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(v(!0),s(c,null,p(V.value,((e,a)=>(v(),f(t,{key:a,class:m(["d_flex items_center text_base px_4 border_b p_relative",0===a?"radius_t":a===V.value.length?"radius_b":""]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(V.value[e]));T.value={visible:!0,editIndex:e,part:a.part,partLabel:a.partLabel,equipment:[a.equiIndex,a.gradaIndex],original:a.originalIndex,hasSkin:a.hasSkin},F.value.open()})(a)},{default:n((()=>[i(t,{class:"my_3 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[_(b(e.label||e.partLabel),1),i(L,{class:"text_xs text-info"},{default:n((()=>[_(" - "+b(e.gradationLabel)+" - Lv."+b(e.level),1)])),_:2},1024)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_(b(e.originalCrystal.map((e=>e.label)).join("、")),1)])),_:2},1024),e.hasSkin?(v(),f(t,{key:0,class:"yang-badge basic count circle warning"},{default:n((()=>[_("有皮肤")])),_:1})):x("",!0)])),_:2},1024),i(t,{class:"grow"}),i(t,{class:"text-info text_right"},{default:n((()=>[_(b(e.combat),1)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[_(b(e.partLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(v(!0),s(c,null,p(Y.value,((e,a)=>(v(),f(t,{key:a,class:m(["d_flex items_center grow text_base px_2 p_relative",0===a?"radius_l border_r":a===Y.value.length?"radius_r":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(Y.value[e]));B.value={visible:!0,editIndex:e,isMain:a.isMain,pilot:[a.index],combatIndex:[a.combatIndex]},z.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[_(b(e.label||(e.isMain?"主驾驶":"副驾驶")),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_(b(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_("Lv."+b(e.level),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[_(b(Math.round(e.combat)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[_(b(e.isMain?"主驾驶":"副驾驶"),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(v(!0),s(c,null,p(Z.value,((e,a)=>(v(),f(t,{key:a,class:m(["d_flex items_center grow text_base px_4 border_b p_relative",0===a?"radius_t border_r":a===Z.value.length?"radius_b":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(Z.value[e]));K.value={visible:!0,editIndex:e,core:[a.index],combatIndex:[a.combatIndex]},G.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[_(b(e.label),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_(b(e.pilot),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_("Lv."+b(e.level),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_(b(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[_(b(Math.round(e.combat)),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[_("核心"+b(e.type),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i(t,{class:"d_flex content_between mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[(v(!0),s(c,null,p(ee.value,((e,a)=>(v(),f(t,{key:a,class:m(["d_flex items_center grow text_base px_4 border_b p_relative",0===a?"radius_t border_r":a===ee.value.length?"radius_b":"border_r"]),"hover-class":"bg-hover",onClick:e=>(e=>{const a=JSON.parse(JSON.stringify(ee.value[e]));R.value={visible:!0,editIndex:e,weapon:[a.index],isMain:a.isMain,combatIndex:[a.combatIndex]},Q.value.open()})(a)},{default:n((()=>[i(t,{class:"my_2 p_relative"},{default:n((()=>[i(t,null,{default:n((()=>[_(b(e.label),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_(b(e.gradationLabel),1)])),_:2},1024),i(t,{class:"text_xs text-info"},{default:n((()=>[_("Lv."+b(e.level)+"/"+b(e.maxLevel),1)])),_:2},1024),i(t,{class:"text-info"},{default:n((()=>[_(b(Math.round(e.combat)||"暂无"),1)])),_:2},1024)])),_:2},1024),i(t,{class:"yang-badge ribbon"},{default:n((()=>[i(t,{class:"content basic"},{default:n((()=>[_(b(e.isMain?"主战":`助战${a}`),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),i($,{ref_key:"editEquipmentPopup",ref:F,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[T.value.visible?(v(),f(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[_("修改装备("+b(T.value.partLabel)+")",1)])),_:1}),i(t,{class:"grow"}),i(C,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:te})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("装备")])),_:1}),i(t,{class:"grow"}),i(q,{value:T.value.equipment,class:"popup-picker","immediate-change":"",onChange:a[0]||(a[0]=e=>T.value.equipment=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>{var e;return[(v(!0),s(c,null,p(null==(e=P.value.find((e=>e.part===T.value.part)))?void 0:e.children,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label),1)])),_:2},1024)))),128))]})),_:1}),i(M,null,{default:n((()=>{var e,a,l;return[(v(!0),s(c,null,p((null==(a=null==(e=P.value.find((e=>e.part===T.value.part)))?void 0:e.children[T.value.equipment[0]])?void 0:a.children)||(null==(l=P.value.find((e=>e.part===T.value.part)))?void 0:l.children.at(-1).children),((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label),1)])),_:2},1024)))),128))]})),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("原晶")])),_:1}),i(t,{class:"grow"}),i(q,{value:T.value.original,class:"popup-picker","immediate-change":"",onChange:a[1]||(a[1]=e=>T.value.original=e.detail.value)},{default:n((()=>[(v(!0),s(c,null,p(E.value,((e,a)=>(v(),f(M,{key:a},{default:n((()=>[2===T.value.part?(v(!0),s(c,{key:0},p(e.healthLabel,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e),1)])),_:2},1024)))),128)):x("",!0),2!==T.value.part?(v(!0),s(c,{key:1},p(e.attackLabel,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e),1)])),_:2},1024)))),128)):x("",!0)])),_:2},1024)))),128))])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("是否有皮肤")])),_:1}),i(t,{class:"grow"}),i(S,{checked:T.value.hasSkin,onChange:a[2]||(a[2]=e=>T.value.hasSkin=e.detail.value)},null,8,["checked"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(C,{class:"yang-button outline block","hover-class":"hover",onClick:te},{default:n((()=>[_("取消")])),_:1}),i(C,{class:"yang-button primary block","hover-class":"hover",onClick:le},{default:n((()=>[_("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):x("",!0)])),_:1},512),i($,{ref_key:"editPilotPopup",ref:z,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[B.value.visible?(v(),f(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[_("修改驾驶员（"+b(B.value.isMain?"主":"副")+"驾驶）",1)])),_:1}),i(t,{class:"grow"}),i(C,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:ie})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("驾驶员")])),_:1}),i(t,{class:"grow"}),i(q,{value:B.value.pilot,class:"popup-picker","immediate-change":"",onChange:a[3]||(a[3]=e=>B.value.pilot=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(j.value,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("等级/潜能")])),_:1}),i(t,{class:"grow"}),i(q,{value:B.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[4]||(a[4]=e=>B.value.combatIndex=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(j.value[B.value.pilot[0]].children,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(C,{class:"yang-button outline block","hover-class":"hover",onClick:ie},{default:n((()=>[_("取消")])),_:1}),i(C,{class:"yang-button primary block","hover-class":"hover",onClick:se},{default:n((()=>[_("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):x("",!0)])),_:1},512),i($,{ref_key:"editCorePopup",ref:G,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[K.value.visible?(v(),f(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[_("修改核心矩阵（核心"+b(K.value.editIndex+1)+"）",1)])),_:1}),i(t,{class:"grow"}),i(C,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:ce})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("核心名称")])),_:1}),i(t,{class:"grow"}),i(q,{value:K.value.core,class:"popup-picker","immediate-change":"",onChange:a[5]||(a[5]=e=>K.value.core=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(X.value,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label)+" - "+b(e.pilot),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("等级/潜能")])),_:1}),i(t,{class:"grow"}),i(q,{value:K.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[6]||(a[6]=e=>K.value.combatIndex=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(X.value[K.value.core[0]].children,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_("Lv."+b(e.coreLevel)+" -- "+b(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(C,{class:"yang-button outline block","hover-class":"hover",onClick:ce},{default:n((()=>[_("取消")])),_:1}),i(C,{class:"yang-button primary block","hover-class":"hover",onClick:ne},{default:n((()=>[_("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):x("",!0)])),_:1},512),i($,{ref_key:"editWeaponPopup",ref:Q,type:"bottom","safe-area":!1,"mask-click":!1},{default:n((()=>[R.value.visible?(v(),f(t,{key:0,class:"bg-color radius_t"},{default:n((()=>[i(t,{class:"d_flex px_4 py_3 items_center"},{default:n((()=>[i(t,{class:"font_bold"},{default:n((()=>[_("修改最终兵器（"+b(R.value.isMain?"主战":`助战${R.value.editIndex}`)+"）",1)])),_:1}),i(t,{class:"grow"}),i(C,{class:"yang-button outline extra-small my-icon my-icon-close","hover-class":"hover",onClick:ue})])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("最终兵器")])),_:1}),i(t,{class:"grow"}),i(q,{value:R.value.weapon,class:"popup-picker","immediate-change":"",onChange:a[7]||(a[7]=e=>R.value.weapon=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(W.value,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[_("等阶/等级")])),_:1}),i(t,{class:"grow"}),i(q,{value:R.value.combatIndex,class:"popup-picker","immediate-change":"",onChange:a[8]||(a[8]=e=>R.value.combatIndex=e.detail.value)},{default:n((()=>[i(M,null,{default:n((()=>[(v(!0),s(c,null,p(W.value[R.value.weapon[0]].children,((e,a)=>(v(),f(t,{key:a,class:"d_flex center"},{default:n((()=>[_(b(e.label)+" - Lv."+b(e.level)+"/"+b(e.maxLevel),1)])),_:2},1024)))),128))])),_:1})])),_:1},8,["value"])])),_:1}),i(t,{class:"d_flex px_4 py_3 items_center border_t"},{default:n((()=>[i(C,{class:"yang-button outline block","hover-class":"hover",onClick:ue},{default:n((()=>[_("取消")])),_:1}),i(C,{class:"yang-button primary block","hover-class":"hover",onClick:oe},{default:n((()=>[_("保存")])),_:1})])),_:1}),i(t,{class:"h_safe"})])),_:1})):x("",!0)])),_:1},512),i(O,{content:"本页内容仅供参考，具体以官方数据为准。"}),i(J,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),i(N,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-57ab9e2a"]]);export{S as default};
