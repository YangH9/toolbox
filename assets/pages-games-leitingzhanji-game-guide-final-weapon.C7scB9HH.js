import{_ as e,r as l,a6 as a,ab as t,c as s,a as u,w as i,F as n,i as _,b as c,o as d,g as f,h as o,f as r,n as v,e as p,t as m,a8 as b,ag as x,L as y}from"./index-CJZ7Tsaj.js";import{a as g}from"./config.Dny4K3GL.js";import{f as k}from"./data-all.CK-PraMw.js";const w=e({__name:"final-weapon",setup(e){uni.$sharePageTitle=`最终兵器-${g}`;const w=k.partData.map((e=>e.combat)),$=l({list:[{label:"套系",value:"suit"},{label:"品阶",value:"quality"}],active:"suit"}),h=l({list:[],active:""}),q=l({list:[],active:""}),S=l([]);l({});const L=l(null),C=l({}),N=[{label:"普通装备",url:"/pages/games/leitingzhanji/game-guide/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/game-guide/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/game-guide/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/game-guide/original-crystal"},{label:"最终兵器",url:"/pages/games/leitingzhanji/game-guide/final-weapon"}].filter((e=>[...a()].at(-1).route!==e.url.replace(/^\//,""))),j=t((()=>{const{active:e}=$.value,{active:l}=h.value,{active:a}=q.value;return S.value.filter((t=>"suit"===e?t.suit===l:"quality"!==e||t.quality===a))}));(()=>{const{partData:e,finalWeaponOption:l,finalWeaponList:a}=JSON.parse(JSON.stringify(k));h.value.list=l.suit.map((e=>({label:e.label,value:e.value}))).reverse(),h.value.active=h.value.list[0].value,q.value.list=l.quality.map((e=>({label:e.label,value:e.value}))).reverse(),q.value.active=q.value.list[0].value,S.value=a.map((a=>l.quality.map(((t,s)=>{const u=a.skillEffect[s];return t.gradation.map(((i,n)=>{const _=l.attribute[s][n].at(-1),c=e.map((e=>2===e.value?_.health:e.value===a.attackPart?_.attack:0));return{label:a.title,key:`weapon-${a.suit}-${t.value}-${i.value}`,imgKey:`weapon-${a.suit}-${t.value}`,suit:a.suit,level:_.level,maxLevel:i.maxLevel,scoreMarkup:_.scoreMarkup,combat:c,combatNum:Math.round(c.reduce(((e,l,a)=>e+l*w[a]),0)),combatLabel:`${e.find((e=>e.value===a.attackPart)).label}攻击: ${_.attack}, 装甲生命: ${_.health}`,quality:t.value,qualityKey:`${t.value}-${i.value}`,qualityLabel:`${t.label}${i.isMax?" MAX":i.value?` +${i.value}`:""}`,description:a.description,skillName:a.skillName,skillLevel:u.level,skillCommand:u.command,skillDescription:u.description,superSkill:a.superSkillEffect.quality===t.value,superSkillCommand:a.superSkillEffect.command,superSkillDescription:a.superSkillEffect.description}}))})))).flat(2)})();const O=t((()=>{const{finalWeaponOption:e}=JSON.parse(JSON.stringify(k)),l=e.quality,a=e.material;return l.map((e=>e.gradation.map((l=>({label:`${e.label}${l.isMax?"MAX":l.value?`+${l.value}`:""}`,level:l.maxLevel,advance:Object.entries(l.advance).map((([e,l])=>l?`${l}*${a[e].label}`:null)).filter((e=>e)),upgrade:Object.entries(l.upgrade).map((([e,l])=>l?`${l}*${a[e].label}`:null)).filter((e=>e))}))))).flat(1)})),z=l(null),D=()=>{z.value.open()};return(e,l)=>{const a=c("my-page-header"),t=_,g=x,k=y,w=c("my-divider"),S=c("uni-popup"),M=c("my-ad-custom"),J=c("my-bottom-safety-space");return d(),s(n,null,[u(a),u(t,{class:"pt_4"},{default:i((()=>[u(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:i((()=>[u(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(d(!0),s(n,null,r($.value.list,((e,l)=>(d(),f(t,{key:l,class:v(["yang-tabs__item",$.value.active===e.value?"active":""]),onClick:l=>$.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"suit"===$.value.active?(d(),f(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,r(h.value.list,((e,l)=>(d(),f(t,{key:l,class:v(["yang-tabs__item",h.value.active===e.value?"active":""]),onClick:l=>h.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):o("",!0),"quality"===$.value.active?(d(),f(t,{key:1,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,r(q.value.list,((e,l)=>(d(),f(t,{key:l,class:v(["yang-tabs__item",q.value.active===e.value?"active":""]),onClick:l=>q.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):o("",!0),u(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:i((()=>[(d(!0),s(n,null,r(j.value,((e,l)=>(d(),f(t,{key:l,class:"col_3 d_flex vertical mt_4 px_1",onClick:l=>(e=>{var l;"trial"!==(null==(l=uni.getAccountInfoSync)?void 0:l.call(uni).miniProgram.envVersion)&&(L.value.open(),C.value=JSON.parse(JSON.stringify(e)))})(e)},{default:i((()=>[u(t,{class:"text_nowrap d_flex content_center"},{default:i((()=>[p(m(e.label),1)])),_:2},1024),u(t,{class:"px_2 text_xs"},{default:i((()=>[u(t,{class:"d_flex content_center"},{default:i((()=>[u(t,{class:""},{default:i((()=>[p(m(e.qualityLabel),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("Lv.")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(e.level)+"/"+m(e.maxLevel),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("战力")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(e.combatNum),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),u(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:i((()=>[u(t,{class:"d_flex px_4 items_center"},{default:i((()=>[u(t,{class:"py_4 grow"},{default:i((()=>[p("内容数据收集中，敬请期待")])),_:1})])),_:1})])),_:1}),u(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:i((()=>[u(t,{class:"d_flex px_4 items_center",onClick:D},{default:i((()=>[u(t,{class:"py_4 grow"},{default:i((()=>[p("养成消耗")])),_:1})])),_:1})])),_:1}),u(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:i((()=>[u(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:D},{default:i((()=>[u(t,null,{default:i((()=>[p("养成消耗")])),_:1})])),_:1}),(d(!0),s(n,null,r(b(N),((e,l)=>(d(),f(g,{key:l,url:e.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["url"])))),128))])),_:1}),u(S,{ref_key:"detailRef",ref:L},{default:i((()=>[u(t,{class:"bg-color radius",style:{"max-width":"80vw"}},{default:i((()=>[u(t,{class:"d_flex vertical px_4 py_3"},{default:i((()=>[u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("名称：")])),_:1}),p(m(C.value.label),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("等级：")])),_:1}),p(m(C.value.level)+"/"+m(C.value.maxLevel),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("等阶：")])),_:1}),p(m(C.value.qualityLabel),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("战力：")])),_:1}),p(m(C.value.combatNum),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("属性：")])),_:1}),p(m(C.value.combatLabel),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info text_nowrap"},{default:i((()=>[p("介绍：")])),_:1}),p(m(C.value.description),1)])),_:1})])),_:1}),u(w,{content:"常规驱动（普通技能）"}),u(t,{class:"d_flex vertical px_4 py_3"},{default:i((()=>[u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("名称：")])),_:1}),p(m(C.value.skillName),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("等级：")])),_:1}),p(m(C.value.skillLevel),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("触发条件：")])),_:1}),p(m(C.value.skillCommand),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info text_nowrap"},{default:i((()=>[p("效果：")])),_:1}),p(m(C.value.skillDescription),1)])),_:1})])),_:1}),C.value.superSkill?(d(),s(n,{key:0},[u(w,{content:"超载驱动（终极技能）"}),u(w,{content:"仅主战生效，传说品质解锁"}),u(t,{class:"d_flex vertical px_4 py_3"},{default:i((()=>[u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info"},{default:i((()=>[p("触发条件：")])),_:1}),p(m(C.value.superSkillCommand),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(k,{class:"text-info text_nowrap"},{default:i((()=>[p("效果：")])),_:1}),p(m(C.value.superSkillDescription),1)])),_:1})])),_:1})],64)):o("",!0)])),_:1})])),_:1},512),u(S,{ref_key:"consumeDialogRef",ref:z},{default:i((()=>[u(t,{class:"dialog_box bg-color radius py_3"},{default:i((()=>[u(t,{class:"d_flex center px_4"},{default:i((()=>[u(t,null,{default:i((()=>[p("养成消耗")])),_:1})])),_:1}),u(w,{content:"品阶/等级，进阶下一级所需材料"}),u(t,{class:"d_table w_100p px_4"},{default:i((()=>[u(t,{class:"d_table_row"},{default:i((()=>[u(t,{class:"d_table_cell"},{default:i((()=>[p("等阶")])),_:1}),u(t,{class:"d_table_cell text_center"},{default:i((()=>[p("等级")])),_:1}),u(t,{class:"d_table_cell text_center"},{default:i((()=>[p("进阶消耗")])),_:1}),u(t,{class:"d_table_cell text_right"},{default:i((()=>[p("升级消耗")])),_:1})])),_:1}),(d(!0),s(n,null,r(O.value,((e,l)=>(d(),f(t,{key:l,class:"d_table_row text_xs"},{default:i((()=>[u(t,{class:"d_table_cell middle"},{default:i((()=>[p(m(e.label),1)])),_:2},1024),u(t,{class:"d_table_cell middle text_center"},{default:i((()=>[p(m(e.level),1)])),_:2},1024),u(t,{class:"d_table_cell middle text_center"},{default:i((()=>[(d(!0),s(n,null,r(e.advance,((e,l)=>(d(),f(t,{key:l},{default:i((()=>[p(m(e),1)])),_:2},1024)))),128))])),_:2},1024),u(t,{class:"d_table_cell middle text_right"},{default:i((()=>[(d(!0),s(n,null,r(e.upgrade,((e,l)=>(d(),f(t,{key:l},{default:i((()=>[p(m(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),u(w,{content:"数据持续更新中，可联系作者更新补充。"})])),_:1})])),_:1},512),u(w,{content:"本页内容仅供参考，具体以官方数据为准。"}),u(M,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),u(J,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-dfcc5129"]]);export{w as default};
