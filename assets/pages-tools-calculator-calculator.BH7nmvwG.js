import{_ as a,r as e,c as l,a as u,w as s,F as t,i as n,b as r,o as v,e as c,g as o,h as i,t as d,f as _,n as p,q as f}from"./index-BgZ2wyPS.js";const b=a({__name:"calculator",setup(a){uni.$sharePageTitle="多功能计算器";const b=e("0"),m=e(null),g=e(null),h=e(!1),y=e(""),x=[["C","±","%","÷"],["7","8","9","×"],["4","5","6","-"],["1","2","3","+"],["0",".","="]],w=a=>{const e=[];return"C"===a&&e.push("clear"),["÷","×","-","+","="].includes(a)&&e.push("operator"),"0"===a&&e.push("zero"),isNaN(a)&&"."!==a||e.push("digit"),e.join(" ")},F=a=>{h.value?(b.value=a,h.value=!1):b.value="0"===b.value?a:b.value+a},$=()=>{if(h.value)return b.value="0.",void(h.value=!1);b.value.includes(".")||(b.value+=".")},k=()=>{b.value="0",m.value=null,g.value=null,h.value=!1,y.value=""},C=()=>{b.value=String(-1*parseFloat(b.value))},N=()=>{const a=parseFloat(b.value);b.value=String(a/100)},S=a=>{const e=parseFloat(b.value);if(null===m.value)m.value=e;else if(g.value){const a=j();b.value=String(a),m.value=a}h.value=!0,g.value=a,y.value=`${m.value||b.value} ${g.value}`},q=()=>{const a=parseFloat(b.value);if(null===m.value||null===g.value)return;const e=j();y.value=`${m.value} ${g.value} ${a} =`,b.value=String(e),m.value=null,g.value=null,h.value=!0},j=()=>{const a=parseFloat(b.value),e=m.value;switch(g.value){case"+":return e+a;case"-":return e-a;case"×":return e*a;case"÷":return 0===a?(f({title:"不能除以零",icon:"none"}),0):e/a;default:return a}};return(a,e)=>{const f=r("my-page-header"),m=n,g=r("my-ad-custom"),h=r("my-bottom-safety-space");return v(),l(t,null,[u(f),u(m,{class:"pt_4"},{default:s((()=>[u(m,{class:"mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[u(m,{class:"d_flex px_4 items_center"},{default:s((()=>[u(m,{class:"py_4 font_bold"},{default:s((()=>[c("多功能计算器")])),_:1})])),_:1})])),_:1}),u(m,{class:"calculator-container mx_4 mb_4 shadow radius bg-color"},{default:s((()=>[u(m,{class:"display"},{default:s((()=>[y.value?(v(),o(m,{key:0,class:"expression"},{default:s((()=>[c(d(y.value),1)])),_:1})):i("",!0),u(m,{class:"result"},{default:s((()=>[c(d(b.value||"0"),1)])),_:1})])),_:1}),u(m,{class:"buttons"},{default:s((()=>[(v(),l(t,null,_(x,((a,e)=>u(m,{class:"button-row",key:e},{default:s((()=>[(v(!0),l(t,null,_(a,((a,e)=>(v(),o(m,{key:e,class:p(["button",w(a)]),onClick:e=>(a=>{isNaN(a)?"."===a?$():"C"===a?k():"±"===a?C():"%"===a?N():["÷","×","-","+"].includes(a)?S(a):"="===a&&q():F(a)})(a)},{default:s((()=>[c(d(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024))),64))])),_:1})])),_:1}),u(g,{mp_weixin:"adunit-486f5b4c726bab7e",mp_qq:"e3b235b89a476273785d58b87d030547",type:"card"}),u(h,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-ecc17701"]]);export{b as default};
