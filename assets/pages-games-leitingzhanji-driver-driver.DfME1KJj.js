import{_ as a,r as e,ag as l,ah as t,c as i,a as s,w as r,F as u,i as c,b as o,o as n,g as v,h as d,f as _,n as b,e as y,t as p,d as f,u as m,a8 as g}from"./index-CliaQIGj.js";import{a as x}from"./config.Dny4K3GL.js";import{f as k}from"./data-all.C7xeP14v.js";import{d as q}from"./data-map-image.DpLunLE2.js";const h=a({__name:"driver",setup(a){uni.$sharePageTitle=`驾驶员-${x}`;const h=(a,e="jpg")=>`/static/web/leitingzhanji/driver/${a}.${e}`,C={};k.driverOption.position.forEach((a=>C[a.value]=a.combat));const L={};k.driverOption.core.forEach((a=>L[a.value]=a.combat));const w=e({list:[{label:"基础",value:"base"},{label:"潜能",value:"potential"},{label:"矩阵核心",value:"core"}],active:"base"}),$=e({list:[{label:"稀有度",value:"rarity"},{label:"星座",value:"star"},{label:"品阶",value:"quality"},{label:"核心等级",value:"coreLevel"}],active:"rarity"}),M=e({list:[],active:""}),j=e({list:[],active:""}),T=e({list:[],active:""}),D=e({list:[],active:""}),O=e([]),z=e({}),F=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((a=>l().at(-1).route!==a.url.replace(/^\//,""))),J=e("drivertype-1"),K=e(!1),N=t((()=>{const{active:a}=w.value,{active:e}=$.value,{active:l}=j.value,{active:t}=M.value,{active:i}=T.value,{active:s}=D.value;return O.value.filter((e=>e.dimension===a)).filter((a=>"star"===e?a.star===t:"rarity"===e?a.rarity===l:"quality"===e?a.quality===i:"coreLevel"!==e||a.coreLevel===s)).sort(((a,l)=>"rarity"===e?a.star!==l.star?l.star-a.star:l.quality!==a.quality?l.quality-a.quality:l.gradation-a.gradation:"star"===e?l.quality!==a.quality?l.quality-a.quality:l.gradation-a.gradation:"quality"===e?l.star!==a.star?l.star-a.star:l.gradation-a.gradation:"coreLevel"!==e||(l.star!==a.star?l.star-a.star:l.gradation-a.gradation)))}));(()=>{const{partData:a,driverOption:e,driverList:l}=JSON.parse(JSON.stringify(k));M.value.list=e.star.map((a=>({label:a.label,value:a.value}))).reverse(),M.value.active=M.value.list[0].value,j.value.list=e.rarity.map((a=>({label:a.label,value:a.value}))).reverse(),j.value.active=j.value.list[0].value,T.value.list=e.quality.filter(((a,e)=>e)).map((a=>({label:a.label,value:a.value}))).reverse(),T.value.active=T.value.list[0].value,D.value.list=e.core.map((a=>({label:a.label,value:a.value}))).reverse(),D.value.active=D.value.list[0].value,O.value=l.map((l=>{const t=e.star.find((a=>a.value===l.star)),i=e.rarity.find((a=>a.value===l.rarity)),s=l.potential.length;return[l.combat.map(((s,r)=>{const u=e.quality[r],c=s.at(-1),o=`driver-${t.value}-${u.value}`;return{label:l.title,key:o,dimension:"base",level:c.level,combat:c.part,copilotCombat:c.part.map((a=>a*C[!1])),combatTotal:c.part.reduce(((e,l,t)=>e+l*C[!0]*a[t].combat),0),copilotCombatTotal:c.part.reduce(((e,l,t)=>e+l*C[!1]*a[t].combat),0),star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:u.value,qualityLabel:u.label,imgkey:u.value?o:`driver-${t.value}`,qualityKey:`quality-${u.value||4}`,description:l.description,skillDescription:l.skillDescription[r]}})).filter(((a,e)=>e)),l.potential.map(((r,u)=>{const c=l.combat.length-1,o=e.quality[c],n=`driver-${t.value}-${o.value}`;return{label:l.title,key:n,dimension:"potential",coreLevel:r.coreLevel,combat:r.part,copilotCombat:r.part.map((a=>a*C[!1])),combatTotal:r.part.reduce(((e,l,t)=>e+l*C[!0]*a[t].combat),0),copilotCombatTotal:r.part.reduce(((e,l,t)=>e+l*C[!1]*a[t].combat),0),gradation:u+1,gradationLabel:u+1===s?"MAX":`${u+1}/${s}`,star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:o.value,qualityLabel:o.label,imgkey:o.value?n:`driver-${t.value}`,qualityKey:`quality-${o.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})),l.potential.map(((r,u)=>{const c=l.combat.length-1,o=e.quality[c],n=`driver-${t.value}-${o.value}`;return{label:l.stunt,key:n,dimension:"core",coreLevel:r.coreLevel,combat:r.part.map(((a,e)=>a*L[r.coreLevel])),combatTotal:r.part.reduce(((e,l,t)=>e+l*L[r.coreLevel]*a[t].combat),0),gradation:u+1,gradationLabel:u+1===s?"MAX":`${u+1}/${s}`,star:t.value,starLabel:t.label,rarity:i.value,rarityLabel:i.label,quality:o.value,qualityLabel:o.label,imgkey:o.value?n:`driver-${t.value}`,qualityKey:`quality-${o.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})).filter((a=>a.coreLevel))]})).flat(2);const{driver:t,driverType:i,quality:s}=JSON.parse(JSON.stringify(q));z.value={...t,...i,...s}})();const S=()=>{J.value="drivertype-1"===J.value?"drivertype-2":"drivertype-1"},A=()=>{J.value="drivertype-1",K.value=!K.value};return(a,e)=>{const l=o("my-page-header"),t=c,x=f,k=g,q=o("my-divider"),C=o("my-ad-custom"),L=o("my-bottom-safety-space");return n(),i(u,null,[s(l),s(t,{class:"pt_4"},{default:r((()=>[s(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:r((()=>[s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:r((()=>[(n(!0),i(u,null,_(w.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",w.value.active===a.value?"active":""]),onClick:e=>w.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:r((()=>[(n(!0),i(u,null,_($.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",$.value.active===a.value?"active":""]),onClick:e=>$.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"star"===$.value.active?(n(),v(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(n(!0),i(u,null,_(M.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",M.value.active===a.value?"active":""]),onClick:e=>M.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):d("",!0),"rarity"===$.value.active?(n(),v(t,{key:1,class:"yang-nav-tabs evenly px_3 px_0 py_1 border_b"},{default:r((()=>[(n(!0),i(u,null,_(j.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",j.value.active===a.value?"active":""]),onClick:e=>j.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):d("",!0),"quality"===$.value.active?(n(),v(t,{key:2,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(n(!0),i(u,null,_(T.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",T.value.active===a.value?"active":""]),onClick:e=>T.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):d("",!0),"coreLevel"===$.value.active?(n(),v(t,{key:3,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:r((()=>[(n(!0),i(u,null,_(D.value.list,((a,e)=>(n(),v(t,{key:e,class:b(["yang-tabs__item",D.value.active===a.value?"active":""]),onClick:e=>D.value.active=a.value},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):d("",!0),s(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:r((()=>[(n(!0),i(u,null,_(N.value,((a,e)=>(n(),v(t,{key:e,class:"col_3 d_flex vertical mt_4 px_1"},{default:r((()=>[s(t,{class:"main_picture_box mb_1 mx_auto"},{default:r((()=>{return[s(x,{class:"yang-avatar main_picture",src:h(a.imgkey),mode:"aspectFill"},null,8,["src"]),s(x,{class:"yang-avatar main_picture_border",src:(e=a.qualityKey,`/static/web/leitingzhanji/quality/${e}.png`),mode:"aspectFill"},null,8,["src"]),"core"!==w.value.active?(n(),v(x,{key:0,class:"yang-avatar main_picture_pilot_type",src:h(J.value,"png"),mode:"aspectFill"},null,8,["src"])):d("",!0)];var e})),_:2},1024),s(t,{class:"text_nowrap d_flex content_center"},{default:r((()=>[y(p(a.label)+p(a.gradationLabel),1)])),_:2},1024),K.value?(n(),v(t,{key:0,class:"px_1 text_nowrap"},{default:r((()=>[a.level?(n(),v(t,{key:0,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("Lv.")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(a.level),1)])),_:2},1024)])),_:2},1024)):d("",!0),a.coreLevel?(n(),v(t,{key:1,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("核心等级")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(a.coreLevel),1)])),_:2},1024)])),_:2},1024)):d("",!0),"core"!==w.value.active&&"drivertype-1"!==J.value?(n(),i(u,{key:2},[a.copilotCombatTotal?(n(),v(t,{key:0,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战力")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.copilotCombatTotal)),1)])),_:2},1024)])),_:2},1024)):d("",!0),a.copilotCombat?(n(),v(t,{key:1,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.copilotCombat[0])),1)])),_:2},1024)])),_:2},1024)):d("",!0),a.copilotCombat?(n(),v(t,{key:2,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("装甲")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.copilotCombat[1])),1)])),_:2},1024)])),_:2},1024)):d("",!0),a.copilotCombat?(n(),v(t,{key:3,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("副武器")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.copilotCombat[2])),1)])),_:2},1024)])),_:2},1024)):d("",!0),a.copilotCombat?(n(),v(t,{key:4,class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("僚机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.copilotCombat[3])),1)])),_:2},1024)])),_:2},1024)):d("",!0)],64)):(n(),i(u,{key:3},[s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战力")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combatTotal)),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("战机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[0])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("装甲")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[1])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("副武器")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[2])),1)])),_:2},1024)])),_:2},1024),s(t,{class:"d_flex content_between"},{default:r((()=>[s(t,{class:"text-info"},{default:r((()=>[y("僚机")])),_:1}),s(t,{class:""},{default:r((()=>[y(p(Math.round(a.combat[3])),1)])),_:2},1024)])),_:2},1024)],64))])),_:2},1024)):d("",!0)])),_:2},1024)))),128))])),_:1}),N.value.length?d("",!0):(n(),v(t,{key:4,class:"d_flex content_center py_4 my_4"},{default:r((()=>[y("该分类无数据")])),_:1}))])),_:1}),s(t,{class:"shadow radius bg-color mx_4 mb_4 px_4 py_2"},{default:r((()=>[(n(!0),i(u,null,_(m(F),((a,e)=>(n(),v(k,{key:e,url:a.url,class:"yang-button primary outline small","hover-class":"hover"},{default:r((()=>[y(p(a.label),1)])),_:2},1032,["url"])))),128))])),_:1}),K.value&&"core"!==w.value.active?(n(),v(t,{key:0,class:"yang-fab yang-button button-1 primary round",onClick:S},{default:r((()=>[s(t,null,{default:r((()=>[y(p("drivertype-1"===J.value?"副":"主")+"驾驶",1)])),_:1})])),_:1})):d("",!0),s(t,{class:"yang-fab yang-button primary round",onClick:A},{default:r((()=>[s(t,{class:b(`my-icon-${K.value?"browse-off":"browse"} text_xxl mr_2`)},null,8,["class"]),s(t,null,{default:r((()=>[y(p(K.value?"隐藏":"显示")+"战力",1)])),_:1})])),_:1}),s(q,{content:"本页内容仅供参考，具体以官方数据为准。"}),s(C,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),s(L,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-58862698"]]);export{h as default};
