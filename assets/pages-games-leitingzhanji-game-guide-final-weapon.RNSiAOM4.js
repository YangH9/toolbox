import{_ as l,r as e,a8 as a,ad as t,c as s,a as i,w as u,F as _,i as c,b as n,v as d,x as r,o,g as p,h as v,f,n as m,e as b,t as g,aa as y,ai as x}from"./index-XXBmEPb_.js";import{_ as k}from"./uni-popup.BKkfhiBz.js";import{a as q}from"./config.Dny4K3GL.js";import{f as w}from"./data-all.CrM6Fjdh.js";const h=l({__name:"final-weapon",setup(l){uni.$sharePageTitle=`最终兵器-${q}`;const h=e({list:[{label:"套系",value:"suit"},{label:"品阶",value:"quality"}],active:"suit"}),C=e({list:[],active:""}),j=e({list:[],active:""}),S=e([]);e({}),e(null),e({});const $=[{label:"普通装备",url:"/pages/games/leitingzhanji/game-guide/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/game-guide/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/game-guide/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/game-guide/original-crystal"},{label:"最终兵器",url:"/pages/games/leitingzhanji/game-guide/final-weapon"}].filter((l=>[...a()].at(-1).route!==l.url.replace(/^\//,""))),O=t((()=>{const{active:l}=h.value,{active:e}=C.value,{active:a}=j.value;return S.value.filter((t=>"suit"===l?t.suit===e:"quality"!==l||t.quality===a))}));(()=>{const{partData:l,finalWeaponOption:e,finalWeaponList:a}=JSON.parse(JSON.stringify(w));C.value.list=e.suit.map((l=>({label:l.label,value:l.value}))).reverse(),C.value.active=C.value.list[0].value,j.value.list=e.quality.map((l=>({label:l.label,value:l.value}))).reverse(),j.value.active=j.value.list[0].value,S.value=a.map((l=>l.skillEffect.map((a=>{const t=e.quality.findIndex((l=>l.skillLevel===a.level)),s=e.quality[t],i=e.attribute[t];return{label:l.title,suit:l.suit,quality:s.value,qualityLabel:s.label,description:l.description,combat:i,skillName:l.skillName,skillLevel:a.level,skillCommand:a.command,skillDescription:a.description,superSkill:l.superSkillEffect.quality===s.value,superSkillCommand:l.superSkillEffect.command,superSkillDescription:l.superSkillEffect.description}})))).flat(2)})();const z=t((()=>{const{finalWeaponOption:l}=JSON.parse(JSON.stringify(w)),e=l.quality,a=l.material;return e.map((l=>l.gradation.map((e=>({label:`${l.label}${e.isMax?"MAX":e.value?`+${e.value}`:""}`,level:e.maxLevel,advance:Object.entries(e.advance).map((([l,e])=>e?`${e}*${a[l].label}`:null)).filter((l=>l)),upgrade:Object.entries(e.upgrade).map((([l,e])=>e?`${e}*${a[l].label}`:null)).filter((l=>l))}))))).flat(1)})),L=e(null),N=()=>{L.value.open()};return(l,e)=>{const a=n("my-page-header"),t=c,q=x,w=n("my-divider"),S=d(r("uni-popup"),k),D=n("my-ad-custom"),E=n("my-bottom-safety-space");return o(),s(_,null,[i(a),i(t,{class:"pt_4"},{default:u((()=>[i(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:u((()=>[i(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:u((()=>[(o(!0),s(_,null,f(h.value.list,((l,e)=>(o(),p(t,{key:e,class:m(["yang-tabs__item",h.value.active===l.value?"active":""]),onClick:e=>h.value.active=l.value},{default:u((()=>[b(g(l.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"suit"===h.value.active?(o(),p(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(o(!0),s(_,null,f(C.value.list,((l,e)=>(o(),p(t,{key:e,class:m(["yang-tabs__item",C.value.active===l.value?"active":""]),onClick:e=>C.value.active=l.value},{default:u((()=>[b(g(l.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):v("",!0),"quality"===h.value.active?(o(),p(t,{key:1,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:u((()=>[(o(!0),s(_,null,f(j.value.list,((l,e)=>(o(),p(t,{key:e,class:m(["yang-tabs__item",j.value.active===l.value?"active":""]),onClick:e=>j.value.active=l.value},{default:u((()=>[b(g(l.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):v("",!0),i(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:u((()=>[(o(!0),s(_,null,f(O.value,((l,e)=>(o(),p(t,{key:e,class:"col_3 d_flex vertical mt_4 px_1",onClick:l=>{}},{default:u((()=>[i(t,{class:"text_nowrap d_flex content_center"},{default:u((()=>[b(g(l.label),1)])),_:2},1024),i(t,{class:"px_2 text_xs"},{default:u((()=>[i(t,{class:"d_flex content_center"},{default:u((()=>[i(t,{class:""},{default:u((()=>[b(g(l.qualityLabel),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:u((()=>[i(t,{class:"d_flex px_4 items_center"},{default:u((()=>[i(t,{class:"py_4 grow"},{default:u((()=>[b("内容数据收集中，敬请期待")])),_:1})])),_:1})])),_:1}),i(t,{class:"mx_4 mb_4 shadow radius bg-color"},{default:u((()=>[i(t,{class:"d_flex px_4 items_center",onClick:N},{default:u((()=>[i(t,{class:"py_4 grow"},{default:u((()=>[b("养成消耗")])),_:1})])),_:1})])),_:1}),i(t,{class:"yang-fab d_flex vertical items_end gap_2"},{default:u((()=>[i(t,{class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0",onClick:N},{default:u((()=>[i(t,null,{default:u((()=>[b("养成消耗")])),_:1})])),_:1}),(o(!0),s(_,null,f(y($),((l,e)=>(o(),p(q,{key:e,url:l.url,class:"yang-button primary round text_size_sm h_unset px_3 py_2 m_0"},{default:u((()=>[b(g(l.label),1)])),_:2},1032,["url"])))),128))])),_:1}),i(S,{ref_key:"consumeDialogRef",ref:L},{default:u((()=>[i(t,{class:"dialog_box bg-color radius py_3"},{default:u((()=>[i(t,{class:"d_flex center px_4"},{default:u((()=>[i(t,null,{default:u((()=>[b("养成消耗")])),_:1})])),_:1}),i(w,{content:"品阶/等级，进阶下一级所需材料"}),i(t,{class:"d_table w_100p px_4"},{default:u((()=>[i(t,{class:"d_table_row"},{default:u((()=>[i(t,{class:"d_table_cell"},{default:u((()=>[b("等阶")])),_:1}),i(t,{class:"d_table_cell text_center"},{default:u((()=>[b("等级")])),_:1}),i(t,{class:"d_table_cell text_center"},{default:u((()=>[b("进阶消耗")])),_:1}),i(t,{class:"d_table_cell text_right"},{default:u((()=>[b("升级消耗")])),_:1})])),_:1}),(o(!0),s(_,null,f(z.value,((l,e)=>(o(),p(t,{key:e,class:"d_table_row text_xs"},{default:u((()=>[i(t,{class:"d_table_cell middle"},{default:u((()=>[b(g(l.label),1)])),_:2},1024),i(t,{class:"d_table_cell middle text_center"},{default:u((()=>[b(g(l.level),1)])),_:2},1024),i(t,{class:"d_table_cell middle text_center"},{default:u((()=>[(o(!0),s(_,null,f(l.advance,((l,e)=>(o(),p(t,{key:e},{default:u((()=>[b(g(l),1)])),_:2},1024)))),128))])),_:2},1024),i(t,{class:"d_table_cell middle text_right"},{default:u((()=>[(o(!0),s(_,null,f(l.upgrade,((l,e)=>(o(),p(t,{key:e},{default:u((()=>[b(g(l),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(w,{content:"数据持续更新中，可联系作者更新补充。"})])),_:1})])),_:1},512),i(w,{content:"本页内容仅供参考，具体以官方数据为准。"}),i(D,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),i(E,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-28346e65"]]);export{h as default};
