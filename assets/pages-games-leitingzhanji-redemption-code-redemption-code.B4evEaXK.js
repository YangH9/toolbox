import{r as a,m as e,a as s,c as t,b as l,w as d,F as r,y as u,z as c,s as o,A as i,i as n,o as _,d as f,g as p,j as m,t as v,e as b,q as y,h as g,B as w,p as x}from"./index-DhuVq1pQ.js";const h="leitingzhanji-redemption-code-use",k={__name:"redemption-code",setup(k){uni.$sharePageTitle="兑换码-雷霆战机";const j=a({updateTime:"",rewardKeyMap:[],IDList:[],data:[]}),T=a(e(h)||[]);u({title:"加载中"}),c({url:"https://runjs.work/transformer/project?id=e73c35",sslVerify:!1,success:a=>{var e,s;const t=null==(s=null==(e=a.data.data)?void 0:e.js)?void 0:s.source;if(t){const a=JSON.parse(t.replace(/\n/g," ").replace(/&quot;/g,'"')),{updateTime:e,rewardKeyMap:s,data:l,IDList:d}=a;j.value.updateTime=e,j.value.rewardKeyMap=s,j.value.IDList=d,j.value.data=l.reverse()}else o({title:"资源加载异常",icon:"none"})},complete:()=>{i()}});const K=a=>{const{code:e}=a.currentTarget.dataset;w({data:e}),T.value.push(e),x(h,T.value)};return(a,e)=>{const u=n,c=y,o=s("my-divider"),i=s("my-bottom-safety-space");return _(),t(r,null,[l(u,{class:"pt_4"},{default:d((()=>[l(u,{class:"mx_4 mb_4 shadow radius bg-color"},{default:d((()=>[l(u,{class:"d_flex px_4 items_center content_between"},{default:d((()=>[l(u,{class:"py_4 font_bold"},{default:d((()=>[f("兑换码")])),_:1}),l(u,{class:"py_4"},{default:d((()=>[j.value.updateTime?(_(),p(c,{key:0,class:"mr_2 text-info"},{default:d((()=>[f("更新时间:")])),_:1})):m("",!0),l(c,{class:"text-error"},{default:d((()=>[f(v(j.value.updateTime),1)])),_:1})])),_:1})])),_:1})])),_:1}),l(o,null,{default:d((()=>[j.value.data.length?(_(),p(c,{key:0},{default:d((()=>[f("总计"),l(c,{class:"text-primary"},{default:d((()=>[f(v(j.value.data.length),1)])),_:1}),f("个，新增"),l(c,{class:"text-primary"},{default:d((()=>[f(v(j.value.data.filter((a=>a.isNew)).length),1)])),_:1}),f("个，")])),_:1})):m("",!0),f("点击"),l(c,{class:"text-error"},{default:d((()=>[f("自动复制")])),_:1}),f("并启动雷霆战机。")])),_:1}),l(u,{class:"mx_4 mb_4 shadow radius bg-color"},{default:d((()=>[(_(!0),t(r,null,b(j.value.data,((a,e)=>(_(),p(u,{key:e,class:g(["d_flex items_center text_base p_4 p_relative",0===e?"radius_t border_b":e===j.value.data.length?"radius_b":"border_b"]),"hover-class":"bg-hover","data-code":a.code,onClick:K},{default:d((()=>[l(u,{class:"p_relative"},{default:d((()=>[f(v(a.code)+" ",1),T.value.includes(a.code)?(_(),p(u,{key:0,class:"yang-badge basic count circle warning"},{default:d((()=>[f("已使用")])),_:1})):m("",!0)])),_:2},1024),l(u,{class:"grow"}),l(u,{class:"text-info"},{default:d((()=>[f(v(a.reward.map(((a,e)=>((a,e)=>e?`${e}${j.value.rewardKeyMap[a]||""}`:"")(e,a))).filter((a=>a)).join("，")),1)])),_:2},1024),a.invalidity?(_(),p(u,{key:0,class:"yang-badge ribbon info"},{default:d((()=>[l(u,{class:"content basic"},{default:d((()=>[f("已失效")])),_:1})])),_:1})):m("",!0),a.isNew?(_(),p(u,{key:1,class:"yang-badge ribbon"},{default:d((()=>[l(u,{class:"content basic"},{default:d((()=>[f("NEW")])),_:1})])),_:1})):m("",!0)])),_:2},1032,["class","data-code"])))),128))])),_:1})])),_:1}),l(i,{version:""})],64)}}};export{k as default};
