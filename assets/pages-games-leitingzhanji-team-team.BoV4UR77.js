import{_ as e,r as l,ad as a,c as t,a as s,w as _,F as d,H as c,i as u,b as n,o as m,e as r,t as f,f as b,g as i,n as p}from"./index-CYYiKMSn.js";import{a as x}from"./config.Dny4K3GL.js";const o=e({__name:"team",setup(e){const o=c("dayjs");uni.$sharePageTitle=`战队系统-${x}`;const v=l({baseLevel:1,baseNum:30,levelupNum:5,memberExp:210}),y=l([{level:1,exp:7e3,num:0},{level:2,exp:15e3,num:0},{level:3,exp:34e3,num:0},{level:4,exp:0,num:0}].map((e=>{const{baseNum:l,levelupNum:a,memberExp:t}=v.value,s=l+(e.level-1)*a,_=Math.ceil(e.exp/(t*s));return{...e,num:s,day:_}}))),g=l("2025/11/20");l(!1);const w=l({day:1,level:1,exp:0,remain:0,num:0,date:""}),h=l([]),Y=a((()=>h.value||[]));return(()=>{const e=o(g.value),l=o().diff(e,"day")+7,a=y.value,{baseLevel:t,baseNum:s,memberExp:_}=v.value,d=new Array(l).fill(1).reduce(((l,d,c)=>{const u=c+1,n=e.add(c,"day");if(l){const e=l.at(-1),t={day:u,date:n.format("YYYY/MM/DD"),level:e.level,num:e.num,exp:e.exp,remain:e.remain},s=a.find((e=>e.level===t.level));if(t.remain+s.num*_>=s.exp&&s.exp){t.level+=1;const e=a.find((e=>e.level===t.level));t.num=e.num,t.exp=t.exp+e.num*_,t.remain=t.remain+e.num*_-s.exp}else t.exp=t.exp+s.num*_,t.remain=t.remain+s.num*_;return n.isToday()&&(w.value=t),[...l,t]}{const e={day:u,date:n.format("YYYY/MM/DD"),level:t,num:s,exp:_*s,remain:_*s};return n.isToday()&&(w.value=e),[e]}}),null);h.value=d})(),(e,l)=>{const a=n("my-page-header"),c=u,x=n("my-divider"),o=n("my-ad-custom"),v=n("my-bottom-safety-space");return m(),t(d,null,[s(a),s(c,{class:"pt_4"},{default:_((()=>[s(c,{class:"mx_4 py_2 shadow radius bg-color"},{default:_((()=>[s(c,{class:"d_flex px_4 items_center content_between border_b"},{default:_((()=>[s(c,{class:"pb_2"},{default:_((()=>[r("战队创建时间")])),_:1}),s(c,null,{default:_((()=>[r(f(g.value),1)])),_:1})])),_:1}),s(c,{class:"d_flex px_4 items_center"},{default:_((()=>[s(c,{class:"pt_2"},{default:_((()=>[r("战队创建第 "+f(w.value.day)+" 天，等级: "+f(w.value.level)+"，经验: "+f(w.value.remain),1)])),_:1})])),_:1})])),_:1}),s(x,{content:"每日获得的经验上限为战队人数上限乘210"}),s(c,{class:"mx_4 mb_4 shadow radius bg-color"},{default:_((()=>[s(c,{class:"d_flex px_4 items_center"},{default:_((()=>[s(c,{class:"py_2"},{default:_((()=>[r("升级列表")])),_:1})])),_:1}),s(c,{class:"mytable d_table w_100p pb_2"},{default:_((()=>[s(c,{class:"d_table_row"},{default:_((()=>[s(c,{class:"d_table_cell"},{default:_((()=>[r("天数")])),_:1}),s(c,{class:"d_table_cell"},{default:_((()=>[r("等级")])),_:1}),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r("人数")])),_:1}),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r("剩余经验")])),_:1}),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r("日期")])),_:1})])),_:1}),(m(!0),t(d,null,b(Y.value,((e,l)=>(m(),i(c,{key:l,class:p(["d_table_row",[w.value.date===e.date?"istoday":""]])},{default:_((()=>[s(c,{class:"d_table_cell"},{default:_((()=>[r(f(e.day),1)])),_:2},1024),s(c,{class:"d_table_cell"},{default:_((()=>[r("Lv."+f(e.level),1)])),_:2},1024),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r(f(e.num),1)])),_:2},1024),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r(f(e.remain),1)])),_:2},1024),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r(f(e.date),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),s(c,{class:"mx_4 mb_4 shadow radius bg-color"},{default:_((()=>[s(c,{class:"d_flex px_4 items_center"},{default:_((()=>[s(c,{class:"py_2"},{default:_((()=>[r("升级经验")])),_:1})])),_:1}),s(c,{class:"mytable d_table w_100p pb_2"},{default:_((()=>[s(c,{class:"d_table_row"},{default:_((()=>[s(c,{class:"d_table_cell"},{default:_((()=>[r("等级")])),_:1}),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r("人数")])),_:1}),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r("预计天数")])),_:1}),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r("升级经验")])),_:1})])),_:1}),(m(!0),t(d,null,b(y.value,((e,l)=>(m(),i(c,{key:l,class:"d_table_row"},{default:_((()=>[s(c,{class:"d_table_cell"},{default:_((()=>[r("Lv."+f(e.level),1)])),_:2},1024),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r(f(e.num),1)])),_:2},1024),s(c,{class:"d_table_cell text_center"},{default:_((()=>[r(f(e.day),1)])),_:2},1024),s(c,{class:"d_table_cell text_right"},{default:_((()=>[r(f(e.exp),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),s(x,{content:"数据仅供参考，具体以游戏内为准。"}),s(o,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),s(v,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-35d24253"]]);export{o as default};
