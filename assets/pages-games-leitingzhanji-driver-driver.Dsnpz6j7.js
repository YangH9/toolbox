import{_ as e,r as a,ag as l,ah as t,c as s,a as u,w as i,F as n,i as c,b as r,C as o,D as v,o as d,g as _,h as f,f as b,n as y,e as p,t as m,d as x,u as g,a8 as k,B as w}from"./index-VUnO8zfV.js";import{_ as h}from"./uni-popup.CXskjntp.js";import{a as q}from"./config.Dny4K3GL.js";import{f as C}from"./data-all.BY8Et0p7.js";import{d as L}from"./data-map-image.jNB4Toav.js";const M=e({__name:"driver",setup(e){uni.$sharePageTitle=`驾驶员-${q}`;const M=(e,a="jpg")=>`/static/web/leitingzhanji/driver/${e}.${a}`,$=e=>`/static/web/leitingzhanji/quality/${e}.png`,j={};C.driverOption.position.forEach((e=>j[e.value]=e.combat));const T={};C.driverOption.core.forEach((e=>T[e.value]=e.combat));const O=a({list:[{label:"基础",value:"base"},{label:"潜能",value:"potential"},{label:"矩阵核心",value:"core"}],active:"base"}),D=a({list:[{label:"稀有度",value:"rarity"},{label:"星座",value:"star"},{label:"品阶",value:"quality"},{label:"核心等级",value:"coreLevel"}],active:"rarity"}),F=a({list:[],active:""}),S=a({list:[],active:""}),z=a({list:[],active:""}),J=a({list:[],active:""}),N=a([]),K=a({}),A=a(null),E=a({}),I=[{label:"普通装备",url:"/pages/games/leitingzhanji/equipment-ordinary/equipment-ordinary"},{label:"战神装备",url:"/pages/games/leitingzhanji/equipment-ares/equipment-ares"},{label:"驾驶员",url:"/pages/games/leitingzhanji/driver/driver"},{label:"超维原晶",url:"/pages/games/leitingzhanji/original-crystal/original-crystal"}].filter((e=>l().at(-1).route!==e.url.replace(/^\//,""))),P=a("drivertype-1"),X=a(!1),B=t((()=>{const{active:e}=O.value,{active:a}=D.value,{active:l}=S.value,{active:t}=F.value,{active:s}=z.value,{active:u}=J.value;return N.value.filter((a=>a.dimension===e)).filter((e=>"star"===a?e.star===t:"rarity"===a?e.rarity===l:"quality"===a?e.quality===s:"coreLevel"!==a||e.coreLevel===u)).sort(((e,l)=>"rarity"===a?e.star!==l.star?l.star-e.star:l.quality!==e.quality?l.quality-e.quality:l.gradation-e.gradation:"star"===a?l.quality!==e.quality?l.quality-e.quality:l.gradation-e.gradation:"quality"===a?l.star!==e.star?l.star-e.star:l.gradation-e.gradation:"coreLevel"!==a||(l.star!==e.star?l.star-e.star:l.gradation-e.gradation)))}));(()=>{const{partData:e,driverOption:a,driverList:l}=JSON.parse(JSON.stringify(C));F.value.list=a.star.map((e=>({label:e.label,value:e.value}))).reverse(),F.value.active=F.value.list[0].value,S.value.list=a.rarity.map((e=>({label:e.label,value:e.value}))).reverse(),S.value.active=S.value.list[0].value,z.value.list=a.quality.filter(((e,a)=>a)).map((e=>({label:e.label,value:e.value}))).reverse(),z.value.active=z.value.list[0].value,J.value.list=a.core.map((e=>({label:e.label,value:e.value}))).reverse(),J.value.active=J.value.list[0].value,N.value=l.map((l=>{const t=a.star.find((e=>e.value===l.star)),s=a.rarity.find((e=>e.value===l.rarity)),u=l.potential.length;return[l.combat.map(((u,i)=>{const n=a.quality[i],c=u.at(-1),r=`driver-${t.value}-${n.value}`;return{label:l.title,key:r,stunt:l.stunt,dimension:"base",level:c.level,combat:c.part,copilotCombat:c.part.map((e=>e*j[!1])),combatTotal:c.part.reduce(((a,l,t)=>a+l*j[!0]*e[t].combat),0),copilotCombatTotal:c.part.reduce(((a,l,t)=>a+l*j[!1]*e[t].combat),0),star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:n.value,qualityLabel:n.label,imgkey:n.value?r:`driver-${t.value}`,qualityKey:`quality-${n.value||4}`,description:l.description,skillDescription:l.skillDescription[i]}})).filter(((e,a)=>a)),l.potential.map(((i,n)=>{const c=l.combat.length-1,r=a.quality[c],o=`driver-${t.value}-${r.value}`;return{label:l.title,key:o,stunt:l.stunt,dimension:"potential",coreLevel:i.coreLevel,combat:i.part,copilotCombat:i.part.map((e=>e*j[!1])),combatTotal:i.part.reduce(((a,l,t)=>a+l*j[!0]*e[t].combat),0),copilotCombatTotal:i.part.reduce(((a,l,t)=>a+l*j[!1]*e[t].combat),0),gradation:n+1,gradationLabel:n+1===u?"MAX":`${n+1}/${u}`,star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:r.value,qualityLabel:r.label,imgkey:r.value?o:`driver-${t.value}`,qualityKey:`quality-${r.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})),l.potential.map(((i,n)=>{const c=l.combat.length-1,r=a.quality[c],o=`driver-${t.value}-${r.value}`;return{label:l.stunt,key:o,stunt:l.stunt,dimension:"core",coreLevel:i.coreLevel,combat:i.part.map(((e,a)=>e*T[i.coreLevel])),combatTotal:i.part.reduce(((a,l,t)=>a+l*T[i.coreLevel]*e[t].combat),0),gradation:n+1,gradationLabel:n+1===u?"MAX":`${n+1}/${u}`,star:t.value,starLabel:t.label,rarity:s.value,rarityLabel:s.label,quality:r.value,qualityLabel:r.label,imgkey:r.value?o:`driver-${t.value}`,qualityKey:`quality-${r.value||4}`,description:l.description,skillDescription:l.skillDescription[c]}})).filter((e=>e.coreLevel))]})).flat(2);const{driver:t,driverType:s,quality:u}=JSON.parse(JSON.stringify(L));K.value={...t,...s,...u}})();const R=()=>{P.value="drivertype-1"===P.value?"drivertype-2":"drivertype-1"},V=()=>{P.value="drivertype-1",X.value=!X.value};return(e,a)=>{const l=r("my-page-header"),t=c,q=x,C=k,L=w,j=o(v("uni-popup"),h),T=r("my-divider"),N=r("my-ad-custom"),K=r("my-bottom-safety-space");return d(),s(n,null,[u(l),u(t,{class:"pt_4"},{default:i((()=>[u(t,{class:"mx_4 shadow radius bg-color py_2 mb_4"},{default:i((()=>[u(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(d(!0),s(n,null,b(O.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",O.value.active===e.value?"active":""]),onClick:a=>O.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(t,{class:"yang-nav-tabs evenly px_3 py_1"},{default:i((()=>[(d(!0),s(n,null,b(D.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",D.value.active===e.value?"active":""]),onClick:a=>D.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),"star"===D.value.active?(d(),_(t,{key:0,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,b(F.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",F.value.active===e.value?"active":""]),onClick:a=>F.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"rarity"===D.value.active?(d(),_(t,{key:1,class:"yang-nav-tabs evenly px_3 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,b(S.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",S.value.active===e.value?"active":""]),onClick:a=>S.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"quality"===D.value.active?(d(),_(t,{key:2,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,b(z.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",z.value.active===e.value?"active":""]),onClick:a=>z.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),"coreLevel"===D.value.active?(d(),_(t,{key:3,class:"yang-nav-tabs swipeable scroll_x mx_2 px_0 py_1 border_b"},{default:i((()=>[(d(!0),s(n,null,b(J.value.list,((e,a)=>(d(),_(t,{key:a,class:y(["yang-tabs__item",J.value.active===e.value?"active":""]),onClick:a=>J.value.active=e.value},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})):f("",!0),u(t,{class:"d_flex wrap px_2 pb_1 main_box"},{default:i((()=>[(d(!0),s(n,null,b(B.value,((e,a)=>(d(),_(t,{key:a,class:"col_3 d_flex vertical mt_4 px_1",onClick:a=>(e=>{var a;"trial"!==(null==(a=uni.getAccountInfoSync)?void 0:a.call(uni).miniProgram.envVersion)&&(A.value.open(),E.value=JSON.parse(JSON.stringify(e)))})(e)},{default:i((()=>[u(t,{class:"main_picture_box mb_1 mx_auto"},{default:i((()=>[u(q,{class:"yang-avatar main_picture",src:M(e.imgkey),mode:"aspectFill"},null,8,["src"]),u(q,{class:"yang-avatar main_picture_border",src:$(e.qualityKey),mode:"aspectFill"},null,8,["src"]),"core"!==O.value.active?(d(),_(q,{key:0,class:"yang-avatar main_picture_pilot_type",src:M(P.value,"png"),mode:"aspectFill"},null,8,["src"])):f("",!0)])),_:2},1024),u(t,{class:"text_nowrap d_flex content_center"},{default:i((()=>[p(m(e.label)+m(e.gradationLabel),1)])),_:2},1024),X.value?(d(),_(t,{key:0,class:"px_1 text_nowrap"},{default:i((()=>[e.level?(d(),_(t,{key:0,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("Lv.")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(e.level),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.coreLevel?(d(),_(t,{key:1,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("核心等级")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(e.coreLevel),1)])),_:2},1024)])),_:2},1024)):f("",!0),"core"!==O.value.active&&"drivertype-1"!==P.value?(d(),s(n,{key:2},[e.copilotCombatTotal?(d(),_(t,{key:0,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("战力")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.copilotCombatTotal)),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(d(),_(t,{key:1,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("战机")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.copilotCombat[0])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(d(),_(t,{key:2,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("装甲")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.copilotCombat[1])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(d(),_(t,{key:3,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("副武器")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.copilotCombat[2])),1)])),_:2},1024)])),_:2},1024)):f("",!0),e.copilotCombat?(d(),_(t,{key:4,class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("僚机")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.copilotCombat[3])),1)])),_:2},1024)])),_:2},1024)):f("",!0)],64)):(d(),s(n,{key:3},[u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("战力")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.combatTotal)),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("战机")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.combat[0])),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("装甲")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.combat[1])),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("副武器")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.combat[2])),1)])),_:2},1024)])),_:2},1024),u(t,{class:"d_flex content_between"},{default:i((()=>[u(t,{class:"text-info"},{default:i((()=>[p("僚机")])),_:1}),u(t,{class:""},{default:i((()=>[p(m(Math.round(e.combat[3])),1)])),_:2},1024)])),_:2},1024)],64))])),_:2},1024)):f("",!0)])),_:2},1032,["onClick"])))),128))])),_:1}),B.value.length?f("",!0):(d(),_(t,{key:4,class:"d_flex content_center py_4 my_4"},{default:i((()=>[p("该分类无数据")])),_:1}))])),_:1}),u(t,{class:"shadow radius bg-color mx_4 mb_4 px_4 py_2"},{default:i((()=>[(d(!0),s(n,null,b(g(I),((e,a)=>(d(),_(C,{key:a,url:e.url,class:"yang-button primary outline small","hover-class":"hover"},{default:i((()=>[p(m(e.label),1)])),_:2},1032,["url"])))),128))])),_:1}),X.value&&"core"!==O.value.active?(d(),_(t,{key:0,class:"yang-fab yang-button button-1 primary round",onClick:R},{default:i((()=>[u(t,null,{default:i((()=>[p(m("drivertype-1"===P.value?"副":"主")+"驾驶",1)])),_:1})])),_:1})):f("",!0),u(t,{class:"yang-fab yang-button primary round",onClick:V},{default:i((()=>[u(t,{class:y(`my-icon-${X.value?"browse-off":"browse"} text_xxl mr_2`)},null,8,["class"]),u(t,null,{default:i((()=>[p(m(X.value?"隐藏":"显示")+"战力",1)])),_:1})])),_:1}),u(j,{ref_key:"detailRef",ref:A},{default:i((()=>[u(t,{class:"bg-color radius",style:{"max-width":"80vw"}},{default:i((()=>[u(t,{class:"d_flex vertical px_4 py_3"},{default:i((()=>[u(t,{class:"my_2",style:{transform:"scale(1.4)"}},{default:i((()=>[u(t,{class:"main_picture_box mb_1 mx_auto"},{default:i((()=>[u(q,{class:"yang-avatar main_picture",src:M(E.value.imgkey),mode:"aspectFill"},null,8,["src"]),u(q,{class:"yang-avatar main_picture_border",src:$(E.value.qualityKey),mode:"aspectFill"},null,8,["src"]),"core"!==O.value.active?(d(),_(q,{key:0,class:"yang-avatar main_picture_pilot_type",src:M(P.value,"png"),mode:"aspectFill"},null,8,["src"])):f("",!0)])),_:1})])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("名称：")])),_:1}),p(m(E.value.label),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("特技：")])),_:1}),p(m(E.value.stunt),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("位置：")])),_:1}),p(m("drivertype-1"!==P.value?"副":"主")+"驾驶",1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("等级：")])),_:1}),p(m(E.value.level),1)])),_:1}),E.value.coreLevel?(d(),_(t,{key:0,class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("核心等级：")])),_:1}),p(m(E.value.coreLevel),1)])),_:1})):f("",!0),"core"!==O.value.active&&"drivertype-1"!==P.value?(d(),_(t,{key:1},{default:i((()=>[u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("综合战力：")])),_:1}),p(m(Math.round(E.value.copilotCombatTotal)),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("战机攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[0])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("装甲生命：")])),_:1}),p(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[1])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("副武器攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[2])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("僚机攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.copilotCombat)?void 0:e[3])),1)]})),_:1})])),_:1})):(d(),_(t,{key:2},{default:i((()=>[u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("综合战力：")])),_:1}),p(m(Math.round(E.value.combatTotal)),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("战机攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.combat)?void 0:e[0])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("装甲生命：")])),_:1}),p(m(Math.round(null==(e=E.value.combat)?void 0:e[1])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("副武器攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.combat)?void 0:e[2])),1)]})),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>{var e;return[u(L,{class:"text-info"},{default:i((()=>[p("僚机攻击：")])),_:1}),p(m(Math.round(null==(e=E.value.combat)?void 0:e[3])),1)]})),_:1})])),_:1})),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("星座：")])),_:1}),p(m(E.value.starLabel),1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("品阶：")])),_:1}),p(m(E.value.qualityLabel),1)])),_:1}),E.value.gradationLabel?(d(),_(t,{key:3,class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("等阶：")])),_:1}),p(m(E.value.gradationLabel),1)])),_:1})):f("",!0),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("类别：")])),_:1}),p(m(E.value.rarityLabel)+"驾驶员",1)])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info"},{default:i((()=>[p("进阶消耗：")])),_:1})])),_:1}),u(t,{class:"d_flex content_between"},{default:i((()=>[u(L,{class:"text-info text_nowrap"},{default:i((()=>[p("介绍：")])),_:1}),p(m(E.value.description),1)])),_:1})])),_:1})])),_:1})])),_:1},512),u(T,{content:"本页内容仅供参考，具体以官方数据为准。"}),u(N,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),u(K,{version:""})])),_:1})],64)}}},[["__scopeId","data-v-b57ca3a9"]]);export{M as default};
