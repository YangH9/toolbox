import{r as e,b as a,g as t,o as l,c as s,a as o,w as n,F as r,l as c,i as d,E as u,f as _,e as f,t as i,y as m,a6 as y,h as b,a5 as p,m as v,p as x,s as g}from"./index-DqNUP4pM.js";import{a as h,b as k}from"./config.Dny4K3GL.js";const Y={__name:"cache-prompt",setup(s){const o=e("");return o.value="移除小程序",o.value="清空浏览器数据",(e,s)=>{const n=a("my-divider");return l(),t(n,{content:`本功能依赖本地缓存，请勿${o.value}，以防数据丢失。`},null,8,["content"])}}},$=36e5,w={__name:"competition",setup(w){const D=u("dayjs");uni.$sharePageTitle=`对战时间记录器-${h}`;const H=`${k}-competition-data`,C=e([{label:"无尽限时小组赛",key:"xiaozusai",cd:16,date:0,energy:"100"},{label:"无尽争霸赛",key:"zhengbasai",cd:48,date:0,energy:"300"}]),M=[["今天","昨天"].map(((e,a)=>({label:e,value:-a-1+1}))),Array.from({length:24},((e,a)=>({label:`${a}时`,value:a}))),Array.from({length:60},((e,a)=>({label:`${a}分`,value:a})))],j=e([0,0,0]);let E=0;const T=()=>{const e=c(H);C.value.forEach((a=>{const{key:t}=a;e&&e[t]&&(a.date=e[t])}))};T();const q=()=>{const e=D();j.value=[0,e.hour(),e.minute()],E=e.valueOf()-e.hour()*$-6e4*e.minute()},z=e=>{const{value:a}=e.detail,{key:t}=e.currentTarget.dataset,l={},s=[24*$,$,6e4];C.value.forEach((e=>l[e.key]=e.date));const o=M.map((e=>e.map((e=>e.value))));l[t]=a.reduce(((e,a,t)=>e+o[t][a]*s[t]),E),x(H,l),T()},A=e=>{const{index:a}=e.currentTarget.dataset;C.value[a],g({title:"浏览器暂不支持",icon:"none"})};return(e,c)=>{const u=a("my-page-header"),x=a("my-divider"),g=d,h=m,k=v,w=y,H=a("my-ad-custom"),E=a("my-bottom-safety-space");return l(),s(r,null,[o(u),o(g,{class:"pt_2"},{default:n((()=>[o(x,{content:"本工具仅作辅助记录时间，具体内容以官方为准。"}),(l(!0),s(r,null,_(C.value,((e,a)=>(l(),t(g,{key:a,class:"mx_4 mb_4 shadow radius bg-color"},{default:n((()=>[o(g,{class:"d_flex items_center p_4"},{default:n((()=>[o(g,{class:"grow"},{default:n((()=>[o(g,{class:"text_base"},{default:n((()=>[f(i(e.label),1)])),_:2},1024),o(g,{class:"text-info"},{default:n((()=>[f("冷却结束后使用"),o(h,{class:"text-error font_bold px_1"},{default:n((()=>[f(i(e.energy),1)])),_:2},1024),f("体力触发")])),_:2},1024)])),_:2},1024),o(g,null,{default:n((()=>[f("CD:"),o(h,{class:"text-error font_bold px_1"},{default:n((()=>[f(i(e.cd),1)])),_:2},1024),f("H")])),_:2},1024)])),_:2},1024),o(w,{class:"cursor_default",mode:"multiSelector","range-key":"label",value:j.value,range:M,"data-key":e.key,onClick:q,onChange:z},{default:n((()=>[o(g,{class:"d_flex items_center p_4 border_t"},{default:n((()=>[o(g,{class:"grow"},{default:n((()=>[o(g,{class:"text_base"},{default:n((()=>[f("本次点击"),o(h,{class:"text-error font_bold px_1"},{default:n((()=>[f("立即参加")])),_:1}),f("的时间")])),_:1}),e.date?(l(),t(g,{key:0,class:"text-info"},{default:n((()=>[f(i(p(D)(e.date).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):b("",!0)])),_:2},1024),o(g,null,{default:n((()=>[o(k,{class:"yang-button primary small outline","hover-class":"hover"},{default:n((()=>[f("设置时间")])),_:1})])),_:1})])),_:2},1024)])),_:2},1032,["value","data-key"]),o(g,{class:"d_flex items_center p_4 border_t"},{default:n((()=>[o(g,{class:"grow"},{default:n((()=>[o(g,{class:"text_base"},{default:n((()=>[f("预估冷却结束时间")])),_:1}),e.date?(l(),t(g,{key:0,class:"text-info"},{default:n((()=>[f(i(p(D)(e.date+e.cd*$).format("YYYY/MM/DD HH:mm")),1)])),_:2},1024)):b("",!0)])),_:2},1024),e.date?(l(),t(g,{key:0},{default:n((()=>[o(k,{class:"yang-button primary small outline","hover-class":"hover","data-index":a,onClick:A},{default:n((()=>[f("设置提醒")])),_:2},1032,["data-index"])])),_:2},1024)):b("",!0)])),_:2},1024)])),_:2},1024)))),128)),o(Y),o(H,{mp_weixin:"adunit-8c89cc4610403c81",mp_qq:"54ea1b2e68ecb1caa66494c8dc68d3b7"}),o(E,{version:""})])),_:1})],64)}}};export{w as default};
